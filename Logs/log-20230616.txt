2023-06-16 09:20:51.514 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 09:20:51.787 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 09:20:51.790 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 09:20:51.796 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 09:20:51.797 -04:00 [INF] Hosting environment: Development
2023-06-16 09:20:51.799 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 09:20:53.369 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 09:20:53.618 -04:00 [INF] HTTP GET / responded 404 in 138.4309 ms
2023-06-16 09:20:53.639 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 274.2450ms
2023-06-16 09:21:04.170 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:21:04.170 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:21:04.180 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:21:04.180 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:21:04.184 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 8.1494 ms
2023-06-16 09:21:04.187 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.1793 ms
2023-06-16 09:21:04.189 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.9180ms
2023-06-16 09:21:04.192 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:21:04.195 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 24.4520ms
2023-06-16 09:21:04.202 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:21:04.530 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:21:04.544 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:21:04.857 -04:00 [INF] Obteniendo los autores como yankis
2023-06-16 09:21:06.319 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:21:08.376 -04:00 [INF] Executed DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:21:08.696 -04:00 [INF] Executed DbCommand (138ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:21:08.719 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:21:08.806 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:21:08.809 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4250.8678ms
2023-06-16 09:21:08.812 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:21:08.814 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4614.2114 ms
2023-06-16 09:21:08.817 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:21:08.822 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4629.5558ms
2023-06-16 09:21:08.825 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:21:08.828 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:21:08.832 -04:00 [INF] Obteniendo los autores como yankis
2023-06-16 09:21:08.837 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:21:08.954 -04:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:21:09.050 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:21:09.058 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:21:09.061 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 230.2395ms
2023-06-16 09:21:09.064 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:21:09.066 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 248.6852 ms
2023-06-16 09:21:09.069 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 263.3870ms
2023-06-16 09:34:20.654 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 09:34:20.885 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 09:34:20.888 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 09:34:20.892 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 09:34:20.894 -04:00 [INF] Hosting environment: Development
2023-06-16 09:34:20.896 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 09:34:22.335 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 09:34:22.513 -04:00 [INF] HTTP GET / responded 404 in 101.5619 ms
2023-06-16 09:34:22.531 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 197.5988ms
2023-06-16 09:36:01.691 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:36:01.701 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:36:01.710 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:01.747 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:36:03.723 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:36:05.969 -04:00 [INF] Executed DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:36:06.037 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:36:06.235 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:36:06.238 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4332.0592ms
2023-06-16 09:36:06.244 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:06.246 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4549.9504 ms
2023-06-16 09:36:06.254 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4563.6888ms
2023-06-16 09:36:06.260 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:36:06.267 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:06.271 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:36:06.287 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:36:06.396 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:36:06.400 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:36:06.405 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 121.1197ms
2023-06-16 09:36:06.408 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:06.412 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 156.6680 ms
2023-06-16 09:36:06.415 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 179.8676ms
2023-06-16 09:36:31.685 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:36:31.689 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:36:31.691 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:31.693 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:36:31.790 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:36:31.895 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:36:31.901 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:36:31.905 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 209.1719ms
2023-06-16 09:36:31.911 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:31.912 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:36:31.916 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 227.0506 ms
2023-06-16 09:36:31.921 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:36:31.926 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 241.4525ms
2023-06-16 09:36:31.942 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:31.951 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:36:31.955 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:36:32.052 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:36:32.059 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:36:32.062 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 107.4836ms
2023-06-16 09:36:32.064 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:36:32.067 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 145.7374 ms
2023-06-16 09:36:32.069 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 157.5003ms
2023-06-16 09:38:42.673 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:38:42.676 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:42.678 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:42.681 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:38:42.685 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:38:42.806 -04:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:38:42.810 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:38:42.812 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 127.5451ms
2023-06-16 09:38:42.814 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:42.816 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 140.2708 ms
2023-06-16 09:38:42.819 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 145.4209ms
2023-06-16 09:38:43.112 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:38:43.180 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:43.189 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:43.196 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:38:43.203 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:38:43.303 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:38:43.675 -04:00 [INF] Executed DbCommand (135ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:38:43.687 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:38:43.739 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 536.2913ms
2023-06-16 09:38:43.741 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:43.745 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 564.7203 ms
2023-06-16 09:38:43.748 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 636.7160ms
2023-06-16 09:38:51.893 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 09:38:51.896 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:51.901 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 4.2939 ms
2023-06-16 09:38:51.906 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 12.4127ms
2023-06-16 09:38:51.909 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 09:38:51.913 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:51.918 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 09:38:51.942 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 09:38:52.014 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:38:52.205 -04:00 [INF] Executed DbCommand (115ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 09:38:52.532 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:38:52.537 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 591.2761ms
2023-06-16 09:38:52.539 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 09:38:52.541 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 628.3107 ms
2023-06-16 09:38:52.548 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 638.4709ms
2023-06-16 09:38:52.650 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:38:52.650 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:38:52.654 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:52.656 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:52.659 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.0536 ms
2023-06-16 09:38:52.668 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 11.6631 ms
2023-06-16 09:38:52.673 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 22.9032ms
2023-06-16 09:38:52.676 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 25.7068ms
2023-06-16 09:38:52.677 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:38:52.683 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:52.833 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:52.835 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:38:52.838 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:38:52.922 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:38:53.019 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:38:53.027 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:38:53.031 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 193.4ms
2023-06-16 09:38:53.034 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:38:53.038 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:53.046 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:38:53.049 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 365.4469 ms
2023-06-16 09:38:53.056 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:53.059 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 383.5647ms
2023-06-16 09:38:53.065 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:38:53.093 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:38:53.207 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:38:53.297 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:38:53.304 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:38:53.308 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 215.1196ms
2023-06-16 09:38:53.312 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:38:53.315 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 268.9107 ms
2023-06-16 09:38:53.323 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 288.9881ms
2023-06-16 09:39:02.391 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:02.391 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:02.393 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:02.394 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:02.396 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.6598 ms
2023-06-16 09:39:02.400 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.4356 ms
2023-06-16 09:39:02.403 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.2845ms
2023-06-16 09:39:02.406 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:02.409 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.1805ms
2023-06-16 09:39:02.424 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:02.430 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:02.435 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:39:02.439 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:39:02.524 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:39:02.619 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:39:02.629 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:39:02.636 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 197.2708ms
2023-06-16 09:39:02.641 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:02.643 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:02.652 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 228.6721 ms
2023-06-16 09:39:02.655 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:02.659 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 252.1976ms
2023-06-16 09:39:02.663 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:02.669 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:39:02.674 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:39:02.762 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:39:02.855 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:39:02.874 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:39:02.886 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 213.1076ms
2023-06-16 09:39:03.010 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:03.035 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 380.0760 ms
2023-06-16 09:39:03.046 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 404.6458ms
2023-06-16 09:39:39.850 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 09:39:40.131 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 09:39:40.133 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 09:39:40.140 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 09:39:40.142 -04:00 [INF] Hosting environment: Development
2023-06-16 09:39:40.144 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 09:39:41.794 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 09:39:42.013 -04:00 [INF] HTTP GET / responded 404 in 102.7975 ms
2023-06-16 09:39:42.035 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 246.4647ms
2023-06-16 09:39:50.696 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:50.696 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:50.710 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:50.710 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:50.717 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 12.3065 ms
2023-06-16 09:39:50.731 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 26.2473 ms
2023-06-16 09:39:50.731 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 35.4165ms
2023-06-16 09:39:50.734 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:50.741 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 46.3489ms
2023-06-16 09:39:50.767 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:51.066 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:51.081 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:39:52.713 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:39:54.243 -04:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:39:54.839 -04:00 [INF] Executed DbCommand (224ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:39:54.874 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:39:55.001 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 3902.4023ms
2023-06-16 09:39:55.028 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:55.032 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4265.7174 ms
2023-06-16 09:39:55.040 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4306.3541ms
2023-06-16 09:39:57.208 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:57.212 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:57.216 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:57.219 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:39:57.225 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:39:57.360 -04:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:39:57.467 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:39:57.569 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:39:57.574 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 352.4507ms
2023-06-16 09:39:57.610 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:57.642 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 430.5339 ms
2023-06-16 09:39:57.647 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 438.9264ms
2023-06-16 09:39:58.918 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:58.921 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:58.923 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.4931 ms
2023-06-16 09:39:58.927 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.4092ms
2023-06-16 09:39:58.929 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:39:58.931 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:39:58.935 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:58.938 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:39:59.009 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:39:59.113 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:39:59.204 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:39:59.210 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:39:59.215 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 274.7271ms
2023-06-16 09:39:59.221 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:39:59.225 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 293.6175 ms
2023-06-16 09:39:59.231 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 301.6286ms
2023-06-16 09:40:24.291 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:24.291 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:24.297 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:24.299 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:24.300 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4584 ms
2023-06-16 09:40:24.302 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.1903 ms
2023-06-16 09:40:24.305 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.6321ms
2023-06-16 09:40:24.308 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.2857ms
2023-06-16 09:40:24.308 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:24.314 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:24.318 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:24.320 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:40:24.323 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:40:24.412 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:40:24.509 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:40:24.519 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:40:24.524 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 201.7632ms
2023-06-16 09:40:24.539 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:24.576 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:24.588 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:24.589 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 274.6751 ms
2023-06-16 09:40:24.594 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:24.598 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 290.0915ms
2023-06-16 09:40:24.602 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:40:24.620 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:40:24.726 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:40:24.813 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:40:24.821 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:40:24.827 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 207.038ms
2023-06-16 09:40:24.834 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:24.841 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 253.2692 ms
2023-06-16 09:40:24.848 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 308.6880ms
2023-06-16 09:40:37.042 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:37.042 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:37.045 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:37.048 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:37.050 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.1888 ms
2023-06-16 09:40:37.054 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.8356 ms
2023-06-16 09:40:37.056 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.4869ms
2023-06-16 09:40:37.061 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.5905ms
2023-06-16 09:40:37.062 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:37.069 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:37.072 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:37.076 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:40:37.081 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:40:37.188 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:40:37.291 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:40:37.311 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:40:37.317 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 237.2912ms
2023-06-16 09:40:37.331 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:40:37.333 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:37.336 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:40:37.344 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 275.0206 ms
2023-06-16 09:40:37.347 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:37.353 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 291.2335ms
2023-06-16 09:40:37.359 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:40:37.368 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:40:37.487 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:40:37.580 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:40:37.583 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:40:37.592 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 225.9334ms
2023-06-16 09:40:37.595 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:40:37.612 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 275.9254 ms
2023-06-16 09:40:37.690 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 359.1325ms
2023-06-16 09:42:10.969 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:42:10.973 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:42:10.976 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.5414 ms
2023-06-16 09:42:10.978 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.0980ms
2023-06-16 09:42:10.980 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:42:10.983 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:42:11.037 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:42:11.079 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:42:11.090 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:42:11.219 -04:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:42:11.356 -04:00 [INF] Executed DbCommand (126ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:42:11.362 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:42:11.366 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 277.6901ms
2023-06-16 09:42:11.370 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:42:11.374 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 391.4840 ms
2023-06-16 09:42:11.380 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 399.0850ms
2023-06-16 09:42:23.909 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:42:23.911 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:42:23.913 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0464 ms
2023-06-16 09:42:23.916 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.5014ms
2023-06-16 09:42:23.919 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:42:23.921 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:42:23.924 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:42:23.928 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:42:23.931 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:42:24.173 -04:00 [INF] Executed DbCommand (238ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:42:24.311 -04:00 [INF] Executed DbCommand (132ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:42:24.314 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:42:24.321 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 390.3758ms
2023-06-16 09:42:24.330 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:42:24.335 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 413.4024 ms
2023-06-16 09:42:24.338 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 418.5693ms
2023-06-16 09:43:05.379 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:05.379 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:05.387 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:05.388 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:05.389 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.5514 ms
2023-06-16 09:43:05.391 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.0584 ms
2023-06-16 09:43:05.393 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.7737ms
2023-06-16 09:43:05.395 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.9599ms
2023-06-16 09:43:05.395 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:05.400 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:05.404 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:05.406 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:43:05.410 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:43:05.498 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:43:05.956 -04:00 [INF] Executed DbCommand (451ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:43:05.964 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:43:05.972 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 562.9887ms
2023-06-16 09:43:05.985 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:05.985 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:05.990 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 589.3618 ms
2023-06-16 09:43:05.993 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:05.998 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 602.6925ms
2023-06-16 09:43:06.003 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:06.012 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:43:06.020 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:43:06.247 -04:00 [INF] Executed DbCommand (221ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:43:06.403 -04:00 [INF] Executed DbCommand (149ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:43:06.408 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:43:06.413 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 393.5329ms
2023-06-16 09:43:06.417 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:06.419 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 426.1234 ms
2023-06-16 09:43:06.422 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 437.2416ms
2023-06-16 09:43:28.418 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:28.418 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:28.423 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:28.425 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:28.427 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.7410 ms
2023-06-16 09:43:28.429 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.5505 ms
2023-06-16 09:43:28.431 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.3555ms
2023-06-16 09:43:28.433 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:28.433 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.8849ms
2023-06-16 09:43:28.436 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:28.440 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:28.442 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:43:28.446 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:43:28.532 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:43:28.538 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:43:28.543 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 97.9061ms
2023-06-16 09:43:28.551 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:28.552 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:43:28.556 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 119.2019 ms
2023-06-16 09:43:28.559 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:43:28.562 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 128.7277ms
2023-06-16 09:43:28.568 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:28.573 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:43:28.577 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:43:28.670 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:43:28.676 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:43:28.681 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 104.4569ms
2023-06-16 09:43:28.685 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:43:28.696 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 136.9318 ms
2023-06-16 09:43:28.704 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 152.2865ms
2023-06-16 09:44:20.941 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:20.943 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:20.945 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.6168 ms
2023-06-16 09:44:20.947 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 5.8836ms
2023-06-16 09:44:20.950 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:20.952 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:20.955 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:20.959 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:44:20.962 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:44:21.050 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:44:21.054 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:44:21.057 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 95.9194ms
2023-06-16 09:44:21.060 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:21.062 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 110.1702 ms
2023-06-16 09:44:21.066 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 116.3377ms
2023-06-16 09:44:29.664 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 09:44:29.667 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:29.670 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.6108 ms
2023-06-16 09:44:29.674 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 9.0170ms
2023-06-16 09:44:29.676 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 145
2023-06-16 09:44:29.681 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:29.684 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 09:44:29.703 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CrearEvaluacion(Clinica.SqlTables.Evaluation) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 09:44:29.776 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:44:30.331 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 09:44:30.553 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2023-06-16 09:44:30.556 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 848.7568ms
2023-06-16 09:44:30.558 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 09:44:30.560 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 879.3745 ms
2023-06-16 09:44:30.568 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearRecurrencia - -
2023-06-16 09:44:30.570 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:30.572 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearRecurrencia responded 204 in 2.2153 ms
2023-06-16 09:44:30.572 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 145 - 200 - application/json;+charset=utf-8 896.8178ms
2023-06-16 09:44:30.576 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearRecurrencia - - - 204 - - 7.8252ms
2023-06-16 09:44:30.578 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearRecurrencia application/json 128
2023-06-16 09:44:30.582 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:30.585 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearRecurrencia (Clinica)'
2023-06-16 09:44:30.588 -04:00 [INF] Route matched with {action = "CrearRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CrearRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 09:44:30.603 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:44:30.936 -04:00 [INF] Executed DbCommand (114ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 09:44:31.044 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 09:44:31.048 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearRecurrencia (Clinica) in 456.6557ms
2023-06-16 09:44:31.053 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearRecurrencia (Clinica)'
2023-06-16 09:44:31.057 -04:00 [INF] HTTP POST /api/traerpaciente/CrearRecurrencia responded 200 in 474.8328 ms
2023-06-16 09:44:31.061 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearRecurrencia application/json 128 - 200 0 - 483.1198ms
2023-06-16 09:44:31.098 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:31.105 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:31.107 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8571 ms
2023-06-16 09:44:31.109 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.8553ms
2023-06-16 09:44:31.111 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:31.114 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:31.117 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:31.120 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:44:31.123 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:44:31.226 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:44:31.344 -04:00 [INF] Executed DbCommand (109ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:44:31.356 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:44:31.360 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 238.1167ms
2023-06-16 09:44:31.371 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:31.376 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 262.2114 ms
2023-06-16 09:44:31.386 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 274.3098ms
2023-06-16 09:44:43.163 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:43.163 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:43.167 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:43.169 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:43.174 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.3517 ms
2023-06-16 09:44:43.175 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.7067 ms
2023-06-16 09:44:43.178 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.0460ms
2023-06-16 09:44:43.180 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.2613ms
2023-06-16 09:44:43.180 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:43.187 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:43.191 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:43.192 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:44:43.195 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:44:43.312 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:44:43.439 -04:00 [INF] Executed DbCommand (117ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:44:43.443 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:44:43.448 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 253.3852ms
2023-06-16 09:44:43.460 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:43.470 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:44:43.484 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 297.0562 ms
2023-06-16 09:44:43.489 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:44:43.494 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 313.8908ms
2023-06-16 09:44:43.498 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:43.512 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:44:43.516 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:44:43.641 -04:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:44:43.747 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:44:43.754 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:44:43.759 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 243.1217ms
2023-06-16 09:44:43.762 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:44:43.766 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 276.4114 ms
2023-06-16 09:44:43.770 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 302.4520ms
2023-06-16 09:45:10.339 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:45:10.340 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:45:10.343 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:45:10.345 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:45:10.348 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.9371 ms
2023-06-16 09:45:10.351 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.3789 ms
2023-06-16 09:45:10.354 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.7740ms
2023-06-16 09:45:10.357 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.6115ms
2023-06-16 09:45:10.357 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:45:10.367 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:45:10.371 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:45:10.375 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:45:10.379 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:45:10.495 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:45:10.633 -04:00 [INF] Executed DbCommand (129ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:45:10.639 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:45:10.645 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 266.9146ms
2023-06-16 09:45:10.652 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:45:10.659 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:45:10.664 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 296.7829 ms
2023-06-16 09:45:10.668 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:45:10.675 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 317.5635ms
2023-06-16 09:45:10.684 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:45:10.691 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:45:10.696 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:45:10.844 -04:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:45:11.026 -04:00 [INF] Executed DbCommand (172ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:45:11.032 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:45:11.037 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 341.9845ms
2023-06-16 09:45:11.040 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:45:11.044 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 375.5405 ms
2023-06-16 09:45:11.049 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 389.0747ms
2023-06-16 09:45:49.730 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 09:45:49.732 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:45:49.734 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 1.6665 ms
2023-06-16 09:45:49.736 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 5.5710ms
2023-06-16 09:45:49.738 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 09:45:49.739 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:45:49.742 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 09:45:49.745 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCitas(Clinica.SqlTables.Evaluation) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:46:11.909 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:46:12.231 -04:00 [INF] Executed DbCommand (256ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 09:46:12.609 -04:00 [INF] Executed DbCommand (123ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 09:46:12.801 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2023-06-16 09:46:12.808 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 23060.501ms
2023-06-16 09:46:12.815 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 09:46:12.820 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 23080.4172 ms
2023-06-16 09:46:12.822 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 - application/json;+charset=utf-8 23084.6805ms
2023-06-16 09:46:14.670 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 09:46:14.672 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:14.674 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 1.7256 ms
2023-06-16 09:46:14.676 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 6.7904ms
2023-06-16 09:46:14.679 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 127
2023-06-16 09:46:14.682 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:14.685 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 09:46:14.689 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 09:46:14.694 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:46:14.806 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 09:46:15.019 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 09:46:15.295 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 09:46:15.457 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 09:46:15.461 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 768.9045ms
2023-06-16 09:46:15.465 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 09:46:15.470 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 788.3390 ms
2023-06-16 09:46:15.474 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 127 - 200 0 - 795.5652ms
2023-06-16 09:46:15.482 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:46:15.486 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:15.489 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.8814 ms
2023-06-16 09:46:15.491 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.4828ms
2023-06-16 09:46:15.493 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:46:15.495 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:15.497 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:46:15.499 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:46:15.503 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:46:15.595 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:46:15.689 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:46:15.697 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:46:15.703 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 200.5968ms
2023-06-16 09:46:15.708 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:46:15.711 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 216.3652 ms
2023-06-16 09:46:15.714 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 220.9144ms
2023-06-16 09:46:49.512 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:46:49.512 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:46:49.519 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:49.522 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:49.524 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.3721 ms
2023-06-16 09:46:49.526 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.7105 ms
2023-06-16 09:46:49.529 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.8552ms
2023-06-16 09:46:49.532 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.7771ms
2023-06-16 09:46:49.532 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:46:49.539 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:49.543 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:46:49.546 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:46:49.549 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:46:49.636 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:46:49.728 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:46:49.731 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:46:49.734 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 185.9801ms
2023-06-16 09:46:49.737 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:46:49.737 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:46:49.740 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 200.7231 ms
2023-06-16 09:46:49.742 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:49.747 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 214.7577ms
2023-06-16 09:46:49.754 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:46:49.758 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:46:49.762 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:46:49.880 -04:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:46:50.006 -04:00 [INF] Executed DbCommand (119ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:46:50.011 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:46:50.014 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 252.0321ms
2023-06-16 09:46:50.018 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:46:50.031 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 289.2401 ms
2023-06-16 09:46:50.037 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 299.6657ms
2023-06-16 09:46:59.737 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 09:46:59.739 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:59.742 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 3.5828 ms
2023-06-16 09:46:59.749 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 12.1309ms
2023-06-16 09:46:59.753 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 09:46:59.757 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:46:59.761 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 09:46:59.765 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCitas(Clinica.SqlTables.Evaluation) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:46:59.768 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:46:59.863 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 09:47:00.044 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 09:47:00.136 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2023-06-16 09:47:00.139 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 371.0482ms
2023-06-16 09:47:00.142 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 09:47:00.144 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 387.1945 ms
2023-06-16 09:47:00.148 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 - application/json;+charset=utf-8 395.4865ms
2023-06-16 09:47:00.151 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 09:47:00.155 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:47:00.161 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 5.7834 ms
2023-06-16 09:47:00.164 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 12.4139ms
2023-06-16 09:47:00.166 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 127
2023-06-16 09:47:00.168 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:47:00.170 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 09:47:00.173 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 09:47:03.346 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:47:03.434 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 09:47:03.604 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 09:47:03.889 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 09:47:03.985 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 09:47:03.990 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 3814.4263ms
2023-06-16 09:47:03.996 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 09:47:04.003 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 3835.0601 ms
2023-06-16 09:47:04.011 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 127 - 200 0 - 3844.6718ms
2023-06-16 09:47:04.027 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:47:04.029 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:47:04.032 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2720 ms
2023-06-16 09:47:04.036 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.7779ms
2023-06-16 09:47:04.039 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:47:04.042 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:47:04.044 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:47:04.047 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:47:04.054 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:47:04.140 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:47:04.229 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 09:47:04.232 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:47:04.235 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 182.5594ms
2023-06-16 09:47:04.237 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:47:04.240 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 198.3598 ms
2023-06-16 09:47:04.242 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 203.1792ms
2023-06-16 09:56:00.227 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 09:56:00.755 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 09:56:00.761 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 09:56:00.768 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 09:56:00.770 -04:00 [INF] Hosting environment: Development
2023-06-16 09:56:00.774 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 09:56:01.510 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:01.679 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:01.810 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:01.869 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:56:04.067 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 09:56:04.107 -04:00 [INF] HTTP GET / responded 404 in 0.7936 ms
2023-06-16 09:56:04.174 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 105.4488ms
2023-06-16 09:56:04.426 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:56:06.373 -04:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:56:06.429 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:56:06.467 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:06.473 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4561.526ms
2023-06-16 09:56:06.477 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:06.480 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4888.3445 ms
2023-06-16 09:56:06.487 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:06.490 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4987.7955ms
2023-06-16 09:56:06.493 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:06.496 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:56:06.502 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:56:06.601 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:56:06.605 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:56:06.607 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 107.7203ms
2023-06-16 09:56:06.609 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:06.611 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 126.0746 ms
2023-06-16 09:56:06.614 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 147.5768ms
2023-06-16 09:56:37.908 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 09:56:37.915 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:37.917 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.3645 ms
2023-06-16 09:56:37.919 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 11.4400ms
2023-06-16 09:56:37.922 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 09:56:37.926 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:37.929 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 09:56:37.947 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 09:56:38.049 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:56:38.305 -04:00 [INF] Executed DbCommand (139ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 09:56:38.636 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:56:38.648 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 698.8226ms
2023-06-16 09:56:38.651 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 09:56:38.654 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 727.8411 ms
2023-06-16 09:56:38.660 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 737.9943ms
2023-06-16 09:56:40.671 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:40.671 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:40.673 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:40.675 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:40.677 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.0734 ms
2023-06-16 09:56:40.679 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3880 ms
2023-06-16 09:56:40.682 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.7389ms
2023-06-16 09:56:40.685 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.9715ms
2023-06-16 09:56:40.685 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:40.693 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:40.861 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:40.863 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:56:40.867 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:56:40.952 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:56:40.960 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:56:40.964 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 97.9314ms
2023-06-16 09:56:40.969 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:40.978 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 285.2737 ms
2023-06-16 09:56:40.988 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 302.7303ms
2023-06-16 09:56:40.997 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:41.002 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:41.011 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:41.014 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:56:41.017 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:56:41.108 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:56:41.115 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:56:41.120 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 103.2119ms
2023-06-16 09:56:41.126 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:41.131 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 128.6005 ms
2023-06-16 09:56:41.136 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 138.4198ms
2023-06-16 09:56:41.795 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:41.800 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:41.805 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:41.812 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:56:41.815 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:56:41.903 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:56:41.913 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:56:41.918 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 103.043ms
2023-06-16 09:56:41.925 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:56:41.925 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:41.929 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:56:41.933 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 133.5900 ms
2023-06-16 09:56:41.936 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:41.941 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 145.6493ms
2023-06-16 09:56:41.946 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:56:41.960 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:56:42.053 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:56:42.060 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:56:42.064 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 105.8948ms
2023-06-16 09:56:42.067 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:56:42.075 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 145.1063 ms
2023-06-16 09:56:42.078 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 153.4221ms
2023-06-16 09:58:37.914 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 09:58:38.406 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 09:58:38.410 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 09:58:38.418 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 09:58:38.420 -04:00 [INF] Hosting environment: Development
2023-06-16 09:58:38.423 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 09:58:40.275 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 09:58:40.637 -04:00 [INF] HTTP GET / responded 404 in 145.5943 ms
2023-06-16 09:58:40.663 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 392.9342ms
2023-06-16 09:58:55.203 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:58:55.203 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:58:55.215 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:58:55.215 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:58:55.220 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.6355 ms
2023-06-16 09:58:55.220 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.6355 ms
2023-06-16 09:58:55.223 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 20.7799ms
2023-06-16 09:58:55.226 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 23.3231ms
2023-06-16 09:58:55.227 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:58:55.236 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:58:55.622 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:58:55.634 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:58:57.598 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:58:59.785 -04:00 [INF] Executed DbCommand (144ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:58:59.836 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:58:59.879 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:58:59.893 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4231.1291ms
2023-06-16 09:58:59.936 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:58:59.947 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:58:59.952 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4716.8622 ms
2023-06-16 09:58:59.958 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:58:59.961 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:58:59.962 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4735.2887ms
2023-06-16 09:58:59.971 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:59:00.072 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:59:00.090 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:59:00.093 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 126.5341ms
2023-06-16 09:59:00.101 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:00.109 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 162.0226 ms
2023-06-16 09:59:00.113 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 233.9779ms
2023-06-16 09:59:06.834 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:06.834 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:06.836 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:06.842 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:06.844 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 8.0456 ms
2023-06-16 09:59:06.846 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.9859 ms
2023-06-16 09:59:06.852 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.0280ms
2023-06-16 09:59:06.852 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.9337ms
2023-06-16 09:59:06.862 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:06.867 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:06.876 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:06.878 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:59:06.963 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:59:07.055 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:59:07.125 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:59:07.128 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 246.6628ms
2023-06-16 09:59:07.131 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:07.133 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 266.8155 ms
2023-06-16 09:59:07.140 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 279.9930ms
2023-06-16 09:59:07.141 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:07.252 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:07.257 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:07.267 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:59:07.271 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:59:07.382 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:59:07.386 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:59:07.391 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 121.0473ms
2023-06-16 09:59:07.396 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:07.409 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 156.8568 ms
2023-06-16 09:59:07.418 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 276.8872ms
2023-06-16 09:59:11.079 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:11.081 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:11.083 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:11.085 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:59:11.088 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:59:11.184 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:59:11.191 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:59:11.196 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 108.223ms
2023-06-16 09:59:11.203 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:11.204 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:11.208 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 127.0676 ms
2023-06-16 09:59:11.213 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:11.216 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 137.3459ms
2023-06-16 09:59:11.221 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:11.228 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:59:11.242 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:59:11.349 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:59:11.358 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:59:11.364 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 132.4694ms
2023-06-16 09:59:11.373 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:11.376 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 162.8603 ms
2023-06-16 09:59:11.380 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 175.8533ms
2023-06-16 09:59:21.717 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:21.717 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:21.718 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:21.720 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:21.722 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.6037 ms
2023-06-16 09:59:21.724 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.1711 ms
2023-06-16 09:59:21.728 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.4824ms
2023-06-16 09:59:21.732 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.4715ms
2023-06-16 09:59:21.733 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:21.738 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:21.741 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:21.744 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:59:21.750 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:59:21.836 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:59:21.842 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:59:21.850 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 100.9737ms
2023-06-16 09:59:21.854 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 09:59:21.857 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:21.866 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:21.872 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 134.0892 ms
2023-06-16 09:59:21.880 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:21.883 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 150.5101ms
2023-06-16 09:59:21.886 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 09:59:21.893 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 09:59:21.983 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 09:59:21.989 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 09:59:21.995 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 104.0552ms
2023-06-16 09:59:22.001 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 09:59:22.005 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 139.1255 ms
2023-06-16 09:59:22.015 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 160.7657ms
2023-06-16 09:59:52.940 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 09:59:52.942 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:52.944 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.0333 ms
2023-06-16 09:59:52.946 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 6.3981ms
2023-06-16 09:59:52.949 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 146
2023-06-16 09:59:52.954 -04:00 [INF] CORS policy execution successful.
2023-06-16 09:59:52.957 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 09:59:52.980 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:00:27.461 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:00:28.090 -04:00 [INF] Executed DbCommand (168ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:00:30.474 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 10:00:30.480 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 37497.4313ms
2023-06-16 10:00:30.484 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:00:30.489 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 37535.7716 ms
2023-06-16 10:00:30.497 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 146 - 200 - application/json;+charset=utf-8 37548.2239ms
2023-06-16 10:00:54.198 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:00:54.202 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:00:54.205 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 3.4977 ms
2023-06-16 10:00:54.209 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 12.1090ms
2023-06-16 10:00:54.212 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 146
2023-06-16 10:00:54.214 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:00:54.217 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:00:54.218 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:00:56.406 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:01:08.495 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:02:23.518 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:02:23.971 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:02:23.983 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:02:23.990 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:02:23.992 -04:00 [INF] Hosting environment: Development
2023-06-16 10:02:23.995 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:02:26.433 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:02:26.616 -04:00 [INF] HTTP GET / responded 404 in 105.6368 ms
2023-06-16 10:02:26.641 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 211.9359ms
2023-06-16 10:02:50.918 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:02:50.937 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:02:50.940 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 11.8643 ms
2023-06-16 10:02:50.943 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 25.5310ms
2023-06-16 10:02:50.947 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:02:50.951 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:02:51.322 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:02:51.347 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:02:53.616 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:02:55.379 -04:00 [INF] Executed DbCommand (153ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:02:55.432 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:02:55.470 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4108.813ms
2023-06-16 10:02:55.473 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:02:55.475 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4524.4809 ms
2023-06-16 10:02:55.481 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4534.1795ms
2023-06-16 10:03:23.913 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:03:23.924 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:23.926 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0533 ms
2023-06-16 10:03:23.928 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.4350ms
2023-06-16 10:03:23.969 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:03:23.971 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:23.975 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:03:23.978 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:03:23.982 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:03:24.082 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:03:24.085 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:03:24.087 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 107.5565ms
2023-06-16 10:03:24.090 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:03:24.092 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 120.5918 ms
2023-06-16 10:03:24.095 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 125.9317ms
2023-06-16 10:03:35.024 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:03:35.025 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:03:35.027 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:35.031 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:35.033 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.8622 ms
2023-06-16 10:03:35.035 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.9337 ms
2023-06-16 10:03:35.040 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.7271ms
2023-06-16 10:03:35.043 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:03:35.044 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.1099ms
2023-06-16 10:03:35.057 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:35.064 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:03:35.067 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:03:35.263 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:03:35.358 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:03:35.365 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:03:35.369 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 298.9193ms
2023-06-16 10:03:35.379 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:03:35.385 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:03:35.394 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 337.2557 ms
2023-06-16 10:03:35.396 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:35.399 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 355.8712ms
2023-06-16 10:03:35.401 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:03:35.411 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:03:35.415 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:03:35.506 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:03:35.509 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:03:35.513 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 98.3686ms
2023-06-16 10:03:35.523 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:03:35.529 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 132.7608 ms
2023-06-16 10:03:35.534 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 149.4911ms
2023-06-16 10:03:57.087 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:03:57.098 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:57.100 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 1.8746 ms
2023-06-16 10:03:57.103 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 15.7567ms
2023-06-16 10:03:57.108 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 205
2023-06-16 10:03:57.112 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:03:57.114 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:03:57.141 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:04:10.350 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:04:10.999 -04:00 [INF] Executed DbCommand (194ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:04:11.481 -04:00 [ERR] Failed executing DbCommand (110ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:04:11.698 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ebda1fe4-b5b3-429d-a33b-fb163eb0251e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ebda1fe4-b5b3-429d-a33b-fb163eb0251e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 10:04:11.766 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 10:04:11.774 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 14629.7123ms
2023-06-16 10:04:11.780 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:04:11.786 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 14674.4880 ms
2023-06-16 10:04:11.798 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 205 - 200 - application/json;+charset=utf-8 14690.0577ms
2023-06-16 10:04:46.587 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:04:46.591 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:04:46.597 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:04:46.600 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:04:46.602 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.4200 ms
2023-06-16 10:04:46.604 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.1046 ms
2023-06-16 10:04:46.606 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.1435ms
2023-06-16 10:04:46.609 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.6287ms
2023-06-16 10:04:46.609 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:04:46.619 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:04:46.621 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:04:46.623 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:04:46.626 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:04:46.715 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:04:46.722 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:04:46.728 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 102.481ms
2023-06-16 10:04:46.737 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:04:46.742 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:04:46.746 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:04:46.751 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 131.6251 ms
2023-06-16 10:04:46.754 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:04:46.758 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 148.7486ms
2023-06-16 10:04:46.760 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:04:46.767 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:04:46.856 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:04:46.860 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:04:46.869 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 102.2094ms
2023-06-16 10:04:46.872 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:04:46.875 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 128.4791 ms
2023-06-16 10:04:46.882 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 144.7746ms
2023-06-16 10:05:38.924 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:05:38.926 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:05:38.929 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.4747 ms
2023-06-16 10:05:38.932 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.5131ms
2023-06-16 10:05:38.940 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:05:38.943 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:05:38.945 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:05:38.948 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:05:38.952 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:05:39.060 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:05:39.067 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:05:39.075 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 123.3973ms
2023-06-16 10:05:39.082 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:05:39.086 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 143.8822 ms
2023-06-16 10:05:39.096 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 155.6282ms
2023-06-16 10:05:44.896 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:05:44.902 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:05:44.905 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.4785 ms
2023-06-16 10:05:44.908 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.1945ms
2023-06-16 10:05:44.911 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:05:44.914 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:05:44.917 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:05:44.923 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:05:44.927 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:05:45.041 -04:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:05:45.044 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:05:45.048 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 121.6553ms
2023-06-16 10:05:45.051 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:05:45.053 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 138.6242 ms
2023-06-16 10:05:45.056 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 144.3065ms
2023-06-16 10:06:06.931 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:06:06.932 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:06:06.938 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:06:06.941 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:06:06.943 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.6925 ms
2023-06-16 10:06:06.945 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.4041 ms
2023-06-16 10:06:06.949 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.6452ms
2023-06-16 10:06:06.953 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 20.7615ms
2023-06-16 10:06:06.954 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:06:06.963 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:06:06.966 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:06:06.968 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:06:06.975 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:06:07.061 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:06:07.065 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:06:07.068 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 94.4044ms
2023-06-16 10:06:07.071 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:06:07.071 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:06:07.073 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 110.4857 ms
2023-06-16 10:06:07.075 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:06:07.077 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 123.3987ms
2023-06-16 10:06:07.080 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:06:07.086 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:06:07.090 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:06:07.174 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:06:07.177 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:06:07.180 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 90.7288ms
2023-06-16 10:06:07.183 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:06:07.185 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 110.6129 ms
2023-06-16 10:06:07.188 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 117.3582ms
2023-06-16 10:06:29.675 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:06:29.680 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:06:29.685 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 4.7825 ms
2023-06-16 10:06:29.692 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 16.6290ms
2023-06-16 10:06:29.694 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 219
2023-06-16 10:06:29.702 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:06:29.705 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:06:29.708 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:06:52.696 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:06:53.977 -04:00 [INF] Executed DbCommand (393ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:07:22.499 -04:00 [ERR] Failed executing DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:07:22.592 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ebda1fe4-b5b3-429d-a33b-fb163eb0251e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ebda1fe4-b5b3-429d-a33b-fb163eb0251e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-16 10:08:30.564 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:08:30.955 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:08:30.957 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:08:30.961 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:08:30.963 -04:00 [INF] Hosting environment: Development
2023-06-16 10:08:30.965 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:08:32.302 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:08:32.479 -04:00 [INF] HTTP GET / responded 404 in 103.6868 ms
2023-06-16 10:08:32.499 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 202.7742ms
2023-06-16 10:12:04.200 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:12:04.214 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:12:04.219 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 13.9585 ms
2023-06-16 10:12:04.223 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 23.3439ms
2023-06-16 10:12:04.231 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 219
2023-06-16 10:12:04.238 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:12:04.542 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:01:38 p. m.', Current time: '16/6/2023 2:12:04 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 10:12:04.578 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:01:38 p. m.', Current time: '16/6/2023 2:12:04 p. m.'.
2023-06-16 10:12:04.584 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:12:04.622 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:12:18.760 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:12:19.050 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:12:19.052 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:12:19.058 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:12:19.060 -04:00 [INF] Hosting environment: Development
2023-06-16 10:12:19.062 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:12:20.386 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:12:20.582 -04:00 [INF] HTTP GET / responded 404 in 112.7842 ms
2023-06-16 10:12:20.667 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 283.7944ms
2023-06-16 10:15:58.740 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:15:58.977 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:15:58.981 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:15:58.988 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:15:58.990 -04:00 [INF] Hosting environment: Development
2023-06-16 10:15:58.992 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:16:00.562 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:16:00.762 -04:00 [INF] HTTP GET / responded 404 in 118.0085 ms
2023-06-16 10:16:00.784 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 225.6374ms
2023-06-16 10:16:12.388 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:12.406 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:12.421 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:12.452 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:16:14.157 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:15.734 -04:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:16:15.855 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:16:15.910 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:15.916 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 3448.1761ms
2023-06-16 10:16:15.919 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:15.921 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 3520.1168 ms
2023-06-16 10:16:15.927 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:15.931 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 3542.7520ms
2023-06-16 10:16:15.932 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:15.936 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:16:15.942 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:16.731 -04:00 [INF] Executed DbCommand (776ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:16:16.735 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:16:16.737 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 798.3789ms
2023-06-16 10:16:16.744 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:16.746 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 820.7984 ms
2023-06-16 10:16:16.753 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 842.6316ms
2023-06-16 10:16:26.170 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 10:16:26.173 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:26.177 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 4.1021 ms
2023-06-16 10:16:26.182 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 11.8571ms
2023-06-16 10:16:26.186 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 10:16:26.191 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:26.194 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 10:16:26.213 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 10:16:26.324 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:26.929 -04:00 [INF] Executed DbCommand (448ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 10:16:27.270 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:16:27.289 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 1072.3083ms
2023-06-16 10:16:27.291 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 10:16:27.293 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 1102.9533 ms
2023-06-16 10:16:27.302 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 1116.4826ms
2023-06-16 10:16:27.431 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:27.431 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:27.434 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:27.436 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:27.438 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.2755 ms
2023-06-16 10:16:27.440 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3876 ms
2023-06-16 10:16:27.442 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.4500ms
2023-06-16 10:16:27.445 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.9671ms
2023-06-16 10:16:27.446 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:27.451 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:27.597 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:27.600 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:16:27.605 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:27.718 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:16:27.721 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:16:27.723 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 118.7092ms
2023-06-16 10:16:27.726 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:27.726 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:27.728 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 276.8547 ms
2023-06-16 10:16:27.730 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:27.736 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 290.2418ms
2023-06-16 10:16:27.739 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:27.750 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:16:27.755 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:27.870 -04:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:16:27.876 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:16:27.880 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 126.1015ms
2023-06-16 10:16:27.886 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:27.891 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 160.3331 ms
2023-06-16 10:16:27.895 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 168.3508ms
2023-06-16 10:16:33.194 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:33.197 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:33.198 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:33.200 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4165 ms
2023-06-16 10:16:33.202 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:33.206 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.1540ms
2023-06-16 10:16:33.212 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:33.212 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.9176 ms
2023-06-16 10:16:33.218 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:33.221 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 23.5270ms
2023-06-16 10:16:33.224 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:33.236 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:16:33.240 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:33.324 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:16:33.331 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:16:33.336 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 96.8243ms
2023-06-16 10:16:33.345 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:33.347 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:16:33.351 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 133.0902 ms
2023-06-16 10:16:33.356 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:33.362 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 150.2248ms
2023-06-16 10:16:33.366 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:33.371 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:16:33.375 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:33.470 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:16:33.475 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:16:33.481 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 107.5262ms
2023-06-16 10:16:33.487 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:16:33.492 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 136.3034 ms
2023-06-16 10:16:33.501 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 153.8213ms
2023-06-16 10:16:59.176 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:16:59.180 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:59.182 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.0323 ms
2023-06-16 10:16:59.185 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 9.7641ms
2023-06-16 10:16:59.193 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 206
2023-06-16 10:16:59.196 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:16:59.199 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:16:59.211 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:16:59.242 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:16:59.787 -04:00 [INF] Executed DbCommand (133ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:17:00.240 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:17:00.350 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:17:00.354 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1140.3614ms
2023-06-16 10:17:00.359 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:17:00.366 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1170.1752 ms
2023-06-16 10:17:00.376 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 206 - 200 0 - 1183.7599ms
2023-06-16 10:17:31.162 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:17:31.169 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:17:31.170 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 1.7932 ms
2023-06-16 10:17:31.173 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.8820ms
2023-06-16 10:17:31.178 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 206
2023-06-16 10:17:31.180 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:17:31.182 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:17:31.184 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:17:42.444 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:17:55.932 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:18:38.326 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:18:48.028 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:18:48.030 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 76843.6459ms
2023-06-16 10:18:48.032 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:18:48.034 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 76854.5041 ms
2023-06-16 10:18:48.037 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 206 - 200 0 - 76859.1798ms
2023-06-16 10:19:27.001 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:19:27.309 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:19:27.313 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:19:27.318 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:19:27.320 -04:00 [INF] Hosting environment: Development
2023-06-16 10:19:27.322 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:19:30.572 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:19:32.362 -04:00 [INF] HTTP GET / responded 404 in 247.4604 ms
2023-06-16 10:19:32.494 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 1927.1158ms
2023-06-16 10:19:39.258 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:19:39.318 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:19:39.423 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 112.1302 ms
2023-06-16 10:19:39.517 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 259.2117ms
2023-06-16 10:19:39.538 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:19:39.819 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:19:40.928 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:19:40.983 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:19:43.719 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:19:44.903 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:19:44.906 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:19:44.908 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.1537 ms
2023-06-16 10:19:44.910 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.1867ms
2023-06-16 10:19:45.656 -04:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:19:46.004 -04:00 [INF] Executed DbCommand (140ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:19:46.031 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:19:46.113 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:19:46.116 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:19:46.121 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 5120.8296ms
2023-06-16 10:19:46.122 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:19:46.125 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:19:46.126 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:19:46.127 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 6310.2248 ms
2023-06-16 10:19:46.133 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:19:46.135 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 6596.9983ms
2023-06-16 10:19:46.232 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:19:46.322 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:19:46.328 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:19:46.333 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 204.2546ms
2023-06-16 10:19:46.341 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:19:46.346 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 230.4972 ms
2023-06-16 10:19:46.351 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 238.2404ms
2023-06-16 10:21:13.970 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:21:13.972 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:21:13.975 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.3501 ms
2023-06-16 10:21:13.977 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.8259ms
2023-06-16 10:21:13.981 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:21:13.993 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:21:13.996 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:21:13.998 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:21:14.063 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:21:14.154 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:21:14.254 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:21:14.257 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:21:14.260 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 258.4596ms
2023-06-16 10:21:14.263 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:21:14.265 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 272.4031 ms
2023-06-16 10:21:14.276 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 294.6456ms
2023-06-16 10:21:21.900 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:21:21.915 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:21:21.919 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.7078 ms
2023-06-16 10:21:21.926 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 25.6479ms
2023-06-16 10:21:21.929 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:21:21.932 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:21:21.938 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:21:21.941 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:21:21.947 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:21:22.038 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:21:22.135 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:21:22.145 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:21:22.193 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 246.9166ms
2023-06-16 10:21:22.196 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:21:22.201 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 269.6643 ms
2023-06-16 10:21:22.205 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 275.3214ms
2023-06-16 10:22:10.980 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:22:10.983 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:22:10.986 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2649 ms
2023-06-16 10:22:10.990 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.0248ms
2023-06-16 10:22:10.994 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:22:10.998 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:22:11.001 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:11.004 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:22:11.008 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:22:11.118 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:22:11.221 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:22:11.226 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:22:11.230 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 222.3468ms
2023-06-16 10:22:11.235 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:11.239 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 241.8524 ms
2023-06-16 10:22:11.244 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 249.7260ms
2023-06-16 10:22:43.920 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:22:43.922 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:22:43.924 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.9254 ms
2023-06-16 10:22:43.926 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.2547ms
2023-06-16 10:22:43.932 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:22:43.934 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:22:43.936 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:43.939 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:22:43.942 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:22:44.036 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:22:44.126 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:22:44.129 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:22:44.132 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 190.7232ms
2023-06-16 10:22:44.135 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:44.137 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 203.4535 ms
2023-06-16 10:22:44.140 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 207.4548ms
2023-06-16 10:22:48.909 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:22:48.911 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:22:48.914 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:48.917 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:22:48.921 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:22:49.021 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:22:49.117 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:22:49.128 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:22:49.133 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 213.1868ms
2023-06-16 10:22:49.139 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:49.145 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 234.2881 ms
2023-06-16 10:22:49.149 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 240.4221ms
2023-06-16 10:22:54.924 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:22:54.927 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:22:54.929 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.3435 ms
2023-06-16 10:22:54.933 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.7433ms
2023-06-16 10:22:54.936 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:22:54.939 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:22:54.941 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:54.944 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:22:54.949 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:22:55.034 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:22:55.125 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:22:55.132 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:22:55.134 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 185.7044ms
2023-06-16 10:22:55.137 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:22:55.138 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 199.6379 ms
2023-06-16 10:22:55.141 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 204.7219ms
2023-06-16 10:23:01.767 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:01.865 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:01.879 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:01.890 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:23:01.898 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:02.001 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:23:02.124 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:23:02.204 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:23:02.216 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 318.6413ms
2023-06-16 10:23:02.230 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:02.237 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 372.0782 ms
2023-06-16 10:23:02.244 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 476.4147ms
2023-06-16 10:23:12.990 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:12.990 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:12.992 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:12.994 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:12.996 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.8351 ms
2023-06-16 10:23:12.998 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.9244 ms
2023-06-16 10:23:13.001 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.9759ms
2023-06-16 10:23:13.009 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.6806ms
2023-06-16 10:23:13.009 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:13.026 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:13.030 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:13.033 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:23:13.045 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:13.131 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:23:13.134 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:23:13.138 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 93.3254ms
2023-06-16 10:23:13.142 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:13.142 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:13.147 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 121.0435 ms
2023-06-16 10:23:13.149 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:13.152 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 142.4064ms
2023-06-16 10:23:13.154 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:13.159 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:23:13.166 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:13.264 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:23:13.270 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:23:13.275 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 110.2869ms
2023-06-16 10:23:13.281 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:13.287 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 137.2653 ms
2023-06-16 10:23:13.294 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 151.3109ms
2023-06-16 10:23:20.058 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:20.058 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:20.065 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:20.104 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:20.107 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 41.7252 ms
2023-06-16 10:23:20.108 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.8922 ms
2023-06-16 10:23:20.112 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 53.8594ms
2023-06-16 10:23:20.117 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:20.119 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 60.8738ms
2023-06-16 10:23:20.123 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:20.131 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:20.135 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:23:20.138 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:20.223 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:23:20.228 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:23:20.236 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 99.2898ms
2023-06-16 10:23:20.240 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:20.242 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:20.245 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:20.251 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 128.1827 ms
2023-06-16 10:23:20.259 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:20.265 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 148.1432ms
2023-06-16 10:23:20.274 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:23:20.279 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:20.370 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:23:20.379 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:23:20.387 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 108.5668ms
2023-06-16 10:23:20.395 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:20.401 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 155.4719 ms
2023-06-16 10:23:20.405 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 164.7593ms
2023-06-16 10:23:34.195 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:34.195 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:34.197 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:34.199 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:34.202 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.4976 ms
2023-06-16 10:23:34.206 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.1238 ms
2023-06-16 10:23:34.210 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.1782ms
2023-06-16 10:23:34.212 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:34.212 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.2585ms
2023-06-16 10:23:34.215 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:34.218 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:34.222 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:23:34.226 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:34.323 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:23:34.329 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:23:34.334 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 108.9734ms
2023-06-16 10:23:34.344 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:34.344 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:23:34.349 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 134.3205 ms
2023-06-16 10:23:34.354 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:34.359 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 145.8432ms
2023-06-16 10:23:34.365 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:34.369 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:23:34.372 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:34.528 -04:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:23:34.535 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:23:34.541 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 169.1061ms
2023-06-16 10:23:34.545 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:23:34.550 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 195.8025 ms
2023-06-16 10:23:34.556 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 212.4980ms
2023-06-16 10:23:50.969 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:23:50.975 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:50.978 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.6189 ms
2023-06-16 10:23:50.981 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 12.3370ms
2023-06-16 10:23:50.987 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 204
2023-06-16 10:23:50.993 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:23:50.997 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:23:51.038 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:23:51.136 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:23:51.760 -04:00 [INF] Executed DbCommand (133ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:23:52.258 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:23:52.365 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:23:52.370 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1327.1938ms
2023-06-16 10:23:52.376 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:23:52.384 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1391.9386 ms
2023-06-16 10:23:52.397 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 204 - 200 0 - 1409.7076ms
2023-06-16 10:24:33.732 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:24:33.732 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:24:33.735 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:33.737 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:33.740 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.3210 ms
2023-06-16 10:24:33.742 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.0454 ms
2023-06-16 10:24:33.744 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.1935ms
2023-06-16 10:24:33.752 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:24:33.752 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.3910ms
2023-06-16 10:24:33.763 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:33.768 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:33.771 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:24:33.776 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:24:33.863 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:24:33.953 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:24:33.958 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:24:33.962 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 186.7026ms
2023-06-16 10:24:33.972 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:24:33.976 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:33.980 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:33.985 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 222.1906 ms
2023-06-16 10:24:33.990 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:33.996 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 244.6275ms
2023-06-16 10:24:33.999 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:24:34.016 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:24:34.110 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:24:34.219 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:24:34.227 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:24:34.282 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 267.0968ms
2023-06-16 10:24:34.364 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:34.373 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 392.7298 ms
2023-06-16 10:24:34.377 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 0 - application/json;+charset=utf-8 404.6038ms
2023-06-16 10:24:36.328 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:24:36.340 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:36.345 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:36.348 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:24:36.353 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:24:36.457 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:24:36.548 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:24:36.552 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:24:36.558 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 207.1103ms
2023-06-16 10:24:36.562 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:24:36.565 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:36.566 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:36.568 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 227.9632 ms
2023-06-16 10:24:36.578 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:36.581 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 253.1638ms
2023-06-16 10:24:36.583 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:24:36.887 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:24:37.036 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:24:37.132 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:24:37.144 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:24:37.148 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 261.5705ms
2023-06-16 10:24:37.159 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:24:37.170 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 604.2313 ms
2023-06-16 10:24:37.179 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 617.0322ms
2023-06-16 10:24:55.183 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:24:55.190 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:55.194 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 4.2534 ms
2023-06-16 10:24:55.199 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 16.1285ms
2023-06-16 10:24:55.202 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 218
2023-06-16 10:24:55.207 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:24:55.210 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:24:55.214 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:24:55.221 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:24:55.402 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:24:55.722 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:24:55.973 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:24:56.064 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:24:56.068 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 849.5265ms
2023-06-16 10:24:56.071 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:24:56.075 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 868.6075 ms
2023-06-16 10:24:56.080 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 218 - 200 0 - 877.6811ms
2023-06-16 10:25:52.019 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:25:52.021 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:25:52.023 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0776 ms
2023-06-16 10:25:52.027 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.2367ms
2023-06-16 10:25:52.046 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:25:52.048 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:25:52.054 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:25:52.058 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:25:52.062 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:25:52.195 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:25:52.287 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:25:52.378 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:25:52.471 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:25:52.474 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:25:52.477 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 415.6744ms
2023-06-16 10:25:52.480 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:25:52.482 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 433.6666 ms
2023-06-16 10:25:52.485 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 438.3478ms
2023-06-16 10:26:33.797 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:26:33.799 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:26:33.801 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.9216 ms
2023-06-16 10:26:33.803 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.8417ms
2023-06-16 10:26:33.807 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:26:33.811 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:26:33.820 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:26:33.827 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:26:33.830 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.9127 ms
2023-06-16 10:26:33.833 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 13.2008ms
2023-06-16 10:26:33.842 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 218
2023-06-16 10:26:33.848 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:21:27 p. m.', Current time: '16/6/2023 2:26:33 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 10:26:33.883 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:26:33.943 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:21:27 p. m.', Current time: '16/6/2023 2:26:33 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 10:26:33.944 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:21:27 p. m.', Current time: '16/6/2023 2:26:33 p. m.'.
2023-06-16 10:26:33.948 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:21:27 p. m.', Current time: '16/6/2023 2:26:33 p. m.'.
2023-06-16 10:26:33.948 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:26:33.950 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:26:33.952 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:26:33.954 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:26:33.957 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:26:33.969 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:26:34.058 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:26:34.153 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:34.260 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:34.362 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:34.365 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:26:34.367 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 410.8727ms
2023-06-16 10:26:34.369 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:26:34.371 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 560.7611 ms
2023-06-16 10:26:34.374 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 566.6807ms
2023-06-16 10:26:34.524 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:26:34.788 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:26:35.054 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:26:35.162 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:26:35.166 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1199.76ms
2023-06-16 10:26:35.171 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:26:35.175 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1292.8611 ms
2023-06-16 10:26:35.181 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 218 - 200 0 - 1338.1662ms
2023-06-16 10:26:50.331 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:26:50.333 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:26:50.336 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.5979 ms
2023-06-16 10:26:50.339 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.0794ms
2023-06-16 10:26:50.341 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:26:50.343 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:26:50.347 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:21:27 p. m.', Current time: '16/6/2023 2:26:50 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 10:26:50.350 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 2:21:27 p. m.', Current time: '16/6/2023 2:26:50 p. m.'.
2023-06-16 10:26:50.354 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:26:50.356 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:26:50.362 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:26:50.446 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:26:50.538 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:51.109 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:51.254 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:51.351 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:51.437 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:51.441 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:26:51.450 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1089.5727ms
2023-06-16 10:26:51.454 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:26:51.457 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1114.0831 ms
2023-06-16 10:26:51.461 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 0 - application/json;+charset=utf-8 1119.7122ms
2023-06-16 10:26:57.682 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:26:57.684 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:26:57.686 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:26:57.691 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:26:57.695 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:26:57.802 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:26:57.920 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:58.021 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:58.111 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:58.239 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:58.445 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:26:58.452 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:26:58.468 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 773.8003ms
2023-06-16 10:26:58.614 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:26:58.618 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 934.3751 ms
2023-06-16 10:26:58.624 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 942.8711ms
2023-06-16 10:27:00.194 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:27:00.210 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:27:00.212 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:27:00.214 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:27:00.217 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:27:00.307 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:27:00.400 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:00.492 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:00.588 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:00.685 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:00.775 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:00.778 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:27:00.780 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 564.0295ms
2023-06-16 10:27:00.782 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:27:00.784 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 574.6711 ms
2023-06-16 10:27:00.789 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 595.1353ms
2023-06-16 10:27:00.986 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:27:00.992 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:27:00.995 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:27:00.998 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:27:01.061 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:27:01.279 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:27:01.375 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:01.466 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:01.560 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:01.649 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:01.739 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:27:01.742 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:27:01.745 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 685.7631ms
2023-06-16 10:27:01.756 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:27:01.759 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 766.7524 ms
2023-06-16 10:27:01.766 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 780.9572ms
2023-06-16 10:28:34.983 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:28:34.985 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:28:34.988 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:28:34.992 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:28:34.996 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:28:35.693 -04:00 [INF] Executed DbCommand (694ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:28:35.784 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:35.875 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:35.962 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:36.086 -04:00 [INF] Executed DbCommand (120ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:36.179 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:36.187 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:28:36.191 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1196.3532ms
2023-06-16 10:28:36.195 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:28:36.198 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1212.6266 ms
2023-06-16 10:28:36.206 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1223.1737ms
2023-06-16 10:28:57.287 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 10:28:57.290 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:28:57.294 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 4.3305 ms
2023-06-16 10:28:57.298 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 10.6404ms
2023-06-16 10:28:57.305 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 10:28:57.312 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:28:57.316 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 10:28:57.323 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 10:28:57.339 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:28:57.499 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 10:28:57.574 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:28:57.581 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 250.0631ms
2023-06-16 10:28:57.585 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 10:28:57.589 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 277.1239 ms
2023-06-16 10:28:57.597 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 292.1217ms
2023-06-16 10:28:57.727 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:28:57.727 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:28:57.730 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:28:57.732 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:28:57.734 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.9163 ms
2023-06-16 10:28:57.737 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.8332 ms
2023-06-16 10:28:57.742 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.8738ms
2023-06-16 10:28:57.748 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 20.6083ms
2023-06-16 10:28:57.751 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:28:57.762 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:28:57.765 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:28:57.772 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:28:57.776 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:28:57.908 -04:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:28:58.041 -04:00 [INF] Executed DbCommand (129ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:58.246 -04:00 [INF] Executed DbCommand (200ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:58.444 -04:00 [INF] Executed DbCommand (193ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:58.647 -04:00 [INF] Executed DbCommand (198ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:58.734 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:58.737 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:28:58.740 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 964.1969ms
2023-06-16 10:28:58.743 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:28:58.743 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:28:58.746 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 984.0289 ms
2023-06-16 10:28:58.749 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:28:58.752 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1000.1334ms
2023-06-16 10:28:58.754 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:28:58.765 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:28:58.769 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:28:59.199 -04:00 [INF] Executed DbCommand (426ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:28:59.284 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:59.413 -04:00 [INF] Executed DbCommand (117ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:59.503 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:59.619 -04:00 [INF] Executed DbCommand (106ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:59.718 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:28:59.726 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:28:59.729 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 960.7839ms
2023-06-16 10:28:59.732 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:28:59.734 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 985.0913 ms
2023-06-16 10:28:59.750 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1006.8514ms
2023-06-16 10:29:05.462 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:05.462 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:05.467 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:05.480 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:05.492 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 25.6186 ms
2023-06-16 10:29:05.496 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 15.6897 ms
2023-06-16 10:29:05.500 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 38.1217ms
2023-06-16 10:29:05.506 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 44.6407ms
2023-06-16 10:29:05.509 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:05.523 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:05.526 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:05.529 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:29:05.533 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:05.621 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:29:05.728 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:05.839 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:05.936 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.025 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.111 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.115 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:29:06.123 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 591.5368ms
2023-06-16 10:29:06.127 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:06.129 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:06.131 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:06.137 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 613.6033 ms
2023-06-16 10:29:06.141 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:06.143 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 634.4988ms
2023-06-16 10:29:06.145 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:29:06.156 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:06.244 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:29:06.363 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.455 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.542 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.631 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.741 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:06.747 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:29:06.750 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 595.6175ms
2023-06-16 10:29:06.754 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:06.757 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 625.4877 ms
2023-06-16 10:29:06.759 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 632.3865ms
2023-06-16 10:29:16.310 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:16.310 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:16.313 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:16.315 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:16.317 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.6150 ms
2023-06-16 10:29:16.320 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.0699 ms
2023-06-16 10:29:16.322 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.3225ms
2023-06-16 10:29:16.327 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.6129ms
2023-06-16 10:29:16.342 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:16.353 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:16.358 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:16.361 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:29:16.365 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:16.458 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:29:16.463 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:29:16.468 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 103.9037ms
2023-06-16 10:29:16.472 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:16.472 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:16.475 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 122.7210 ms
2023-06-16 10:29:16.479 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:16.482 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 141.1575ms
2023-06-16 10:29:16.515 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:16.519 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:29:16.522 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:16.616 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:29:16.619 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:29:16.622 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 99.995ms
2023-06-16 10:29:16.624 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:16.628 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 149.7316 ms
2023-06-16 10:29:16.632 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 159.4624ms
2023-06-16 10:29:31.322 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:29:31.325 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:31.332 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 7.2179 ms
2023-06-16 10:29:31.336 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 14.7250ms
2023-06-16 10:29:31.339 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 203
2023-06-16 10:29:31.342 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:31.345 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:29:31.350 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:29:31.355 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:31.534 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:29:31.816 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:29:32.055 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:29:32.059 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 704.9373ms
2023-06-16 10:29:32.063 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:29:32.067 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 725.3230 ms
2023-06-16 10:29:32.071 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 203 - 200 0 - 731.9407ms
2023-06-16 10:29:32.083 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:32.087 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:32.092 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.4200 ms
2023-06-16 10:29:32.097 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.7248ms
2023-06-16 10:29:32.101 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:32.105 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:32.109 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:32.114 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:29:32.123 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:32.210 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:29:32.306 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:32.313 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:29:32.325 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 202.4056ms
2023-06-16 10:29:32.334 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:32.338 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 233.3221 ms
2023-06-16 10:29:32.343 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 241.5135ms
2023-06-16 10:29:48.513 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:48.513 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:48.516 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:48.521 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:48.523 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.0650 ms
2023-06-16 10:29:48.525 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.6785 ms
2023-06-16 10:29:48.527 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.5626ms
2023-06-16 10:29:48.530 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.3143ms
2023-06-16 10:29:48.532 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:48.576 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:48.579 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:48.582 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:29:48.588 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:48.692 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:29:48.793 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:48.804 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:29:48.808 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 221.402ms
2023-06-16 10:29:48.814 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:48.814 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:29:48.820 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 243.5970 ms
2023-06-16 10:29:48.822 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:29:48.827 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 295.4692ms
2023-06-16 10:29:48.831 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:48.838 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:29:48.842 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:29:48.936 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:29:49.027 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:29:49.030 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:29:49.034 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 193.6045ms
2023-06-16 10:29:49.040 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:29:49.045 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 223.1939 ms
2023-06-16 10:29:49.049 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 234.9925ms
2023-06-16 10:30:05.654 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:30:05.657 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:05.659 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.0275 ms
2023-06-16 10:30:05.662 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 7.9861ms
2023-06-16 10:30:05.664 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 206
2023-06-16 10:30:05.668 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:05.671 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:30:05.674 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:30:05.677 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:30:05.849 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:30:06.101 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:30:06.189 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:30:06.191 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 514.776ms
2023-06-16 10:30:06.194 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:30:06.196 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 528.2795 ms
2023-06-16 10:30:06.198 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 206 - 200 0 - 534.1774ms
2023-06-16 10:30:06.205 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:06.209 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:06.213 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.0823 ms
2023-06-16 10:30:06.216 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.9807ms
2023-06-16 10:30:06.232 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:06.236 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:06.247 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:06.250 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:30:06.261 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:30:06.347 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:30:06.439 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:30:06.533 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:30:06.541 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:30:06.547 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 286.3906ms
2023-06-16 10:30:06.552 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:06.557 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 322.3476 ms
2023-06-16 10:30:06.561 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 328.4224ms
2023-06-16 10:30:33.183 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:30:33.192 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:33.195 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 3.4284 ms
2023-06-16 10:30:33.199 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 15.9770ms
2023-06-16 10:30:33.203 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 210
2023-06-16 10:30:33.205 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:33.208 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:30:33.211 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:30:33.216 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:30:33.447 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:30:33.728 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:30:33.818 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:30:33.822 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 606.6341ms
2023-06-16 10:30:33.827 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:30:33.832 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 626.3503 ms
2023-06-16 10:30:33.838 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 210 - 200 0 - 635.0054ms
2023-06-16 10:30:33.872 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:33.877 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:33.880 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.5251 ms
2023-06-16 10:30:33.885 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 26.5431ms
2023-06-16 10:30:33.889 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:33.899 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:33.901 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:33.909 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:30:33.917 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:30:34.054 -04:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:30:34.192 -04:00 [INF] Executed DbCommand (127ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:30:34.300 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:30:34.423 -04:00 [INF] Executed DbCommand (114ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:30:34.427 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:30:34.430 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 514.2104ms
2023-06-16 10:30:34.435 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:34.437 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 538.2141 ms
2023-06-16 10:30:34.441 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 551.7729ms
2023-06-16 10:30:44.830 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:44.830 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:44.833 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:44.835 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:44.837 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.9532 ms
2023-06-16 10:30:44.840 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.9170 ms
2023-06-16 10:30:44.843 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.9907ms
2023-06-16 10:30:44.846 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.5602ms
2023-06-16 10:30:44.846 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:44.852 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:44.857 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:44.873 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:30:44.877 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:30:45.007 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:30:45.010 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:30:45.013 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 136.5265ms
2023-06-16 10:30:45.015 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:45.015 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:30:45.017 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 164.6923 ms
2023-06-16 10:30:45.019 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:30:45.021 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 174.9428ms
2023-06-16 10:30:45.025 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:45.030 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:30:45.035 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:30:45.136 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:30:45.141 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:30:45.144 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 109.9399ms
2023-06-16 10:30:45.153 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:30:45.158 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 138.9376 ms
2023-06-16 10:30:45.161 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 145.5104ms
2023-06-16 10:31:02.311 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:31:02.323 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:31:02.327 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 4.6188 ms
2023-06-16 10:31:02.332 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 20.5039ms
2023-06-16 10:31:02.338 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 207
2023-06-16 10:31:02.343 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:31:02.347 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:31:02.350 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:31:02.355 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:31:02.526 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:31:02.785 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:31:02.881 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:31:02.885 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 530.959ms
2023-06-16 10:31:02.889 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:31:02.895 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 552.0016 ms
2023-06-16 10:31:02.901 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 207 - 200 0 - 562.5157ms
2023-06-16 10:31:02.920 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:31:02.923 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:31:02.928 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.8755 ms
2023-06-16 10:31:02.931 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.3658ms
2023-06-16 10:31:02.935 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:31:02.937 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:31:02.949 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:31:02.952 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:31:02.955 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:31:03.057 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:31:03.157 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:31:03.166 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:31:03.171 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 216.7728ms
2023-06-16 10:31:03.181 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:31:03.183 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 246.0901 ms
2023-06-16 10:31:03.188 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 252.6790ms
2023-06-16 10:33:15.114 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:33:15.114 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:33:15.118 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:33:15.121 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:33:15.122 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.1376 ms
2023-06-16 10:33:15.123 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.1788 ms
2023-06-16 10:33:15.125 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.4762ms
2023-06-16 10:33:15.127 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.6717ms
2023-06-16 10:33:15.127 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:33:15.144 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:33:15.153 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:33:15.155 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:33:15.158 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:33:15.248 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:33:15.374 -04:00 [INF] Executed DbCommand (117ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:33:15.380 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:33:15.384 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 226.7439ms
2023-06-16 10:33:15.389 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:33:15.393 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:33:15.396 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 252.5637 ms
2023-06-16 10:33:15.399 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:33:15.407 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 279.2085ms
2023-06-16 10:33:15.410 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:33:15.414 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:33:15.431 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:33:15.528 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:33:15.628 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:33:15.654 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:33:15.659 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 229.1094ms
2023-06-16 10:33:15.665 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:33:15.669 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 269.5332 ms
2023-06-16 10:33:15.672 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 279.3983ms
2023-06-16 10:33:29.923 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:33:29.932 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:33:29.937 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.6226 ms
2023-06-16 10:33:29.941 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.7165ms
2023-06-16 10:33:29.944 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:33:29.948 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:33:29.952 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:33:29.956 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:33:29.961 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:33:30.057 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:33:30.158 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:33:30.163 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:33:30.167 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 206.571ms
2023-06-16 10:33:30.170 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:33:30.177 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 229.5729 ms
2023-06-16 10:33:30.185 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 241.0597ms
2023-06-16 10:34:13.944 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:13.946 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:13.948 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.1746 ms
2023-06-16 10:34:13.951 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.1466ms
2023-06-16 10:34:13.954 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:13.959 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:13.962 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:13.968 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:34:13.973 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:34:14.059 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:34:14.149 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:34:14.155 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:34:14.160 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 188.0684ms
2023-06-16 10:34:14.165 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:14.169 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 209.8440 ms
2023-06-16 10:34:14.173 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 219.2808ms
2023-06-16 10:34:34.643 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:34:35.192 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:34:35.195 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:34:35.200 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:34:35.202 -04:00 [INF] Hosting environment: Development
2023-06-16 10:34:35.204 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:34:35.709 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:35.709 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:35.813 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:35.813 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:35.821 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 33.6851 ms
2023-06-16 10:34:35.821 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 33.5534 ms
2023-06-16 10:34:35.844 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 139.7428ms
2023-06-16 10:34:35.844 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 139.7422ms
2023-06-16 10:34:35.857 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:35.889 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:36.399 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:36.789 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:34:36.820 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:34:36.825 -04:00 [INF] HTTP GET / responded 404 in 0.6346 ms
2023-06-16 10:34:36.868 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 78.7606ms
2023-06-16 10:34:38.723 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:34:40.629 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:40.644 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:40.658 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:40.661 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:34:40.670 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:34:40.695 -04:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:34:41.098 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:34:41.104 -04:00 [INF] Executed DbCommand (150ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:34:41.130 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:34:41.187 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:34:41.191 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:34:41.205 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 530.5073ms
2023-06-16 10:34:41.208 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:41.205 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4363.2146ms
2023-06-16 10:34:41.216 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:41.216 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:41.218 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:41.221 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 576.9831 ms
2023-06-16 10:34:41.224 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:41.224 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 5353.9961 ms
2023-06-16 10:34:41.232 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:34:41.237 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 608.0813ms
2023-06-16 10:34:41.237 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 0 - application/json;+charset=utf-8 5380.2631ms
2023-06-16 10:34:41.328 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:34:41.418 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:34:41.507 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:34:41.515 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:34:41.524 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 283.4951ms
2023-06-16 10:34:41.532 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:41.536 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 320.2605 ms
2023-06-16 10:34:41.541 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 333.0207ms
2023-06-16 10:34:53.016 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:53.016 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:53.018 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:53.019 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:53.024 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.1946 ms
2023-06-16 10:34:53.026 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.5515 ms
2023-06-16 10:34:53.028 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.4939ms
2023-06-16 10:34:53.031 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.4304ms
2023-06-16 10:34:53.031 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:53.036 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:53.040 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:53.043 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:34:53.047 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:34:53.139 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:34:53.242 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:34:53.245 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:34:53.247 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 201.0792ms
2023-06-16 10:34:53.249 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:53.251 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 215.1550 ms
2023-06-16 10:34:53.254 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 223.1155ms
2023-06-16 10:34:53.261 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:34:53.263 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:34:53.265 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:53.267 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:34:53.273 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:34:53.358 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:34:53.459 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:34:53.467 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:34:53.474 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 201.3668ms
2023-06-16 10:34:53.479 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:34:53.484 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 220.8840 ms
2023-06-16 10:34:53.492 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 231.8287ms
2023-06-16 10:35:09.359 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:09.359 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:09.365 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:09.366 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:09.368 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2366 ms
2023-06-16 10:35:09.369 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2447 ms
2023-06-16 10:35:09.371 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.5966ms
2023-06-16 10:35:09.377 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.7054ms
2023-06-16 10:35:09.385 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:09.396 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:09.399 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:09.401 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:09.406 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:09.492 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:09.583 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:35:09.587 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:09.593 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 187.0887ms
2023-06-16 10:35:09.602 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:09.604 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:09.611 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 214.7870 ms
2023-06-16 10:35:09.614 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:09.616 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 231.3981ms
2023-06-16 10:35:09.618 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:09.627 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:09.633 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:09.716 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:09.802 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:35:09.806 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:09.811 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 179.6589ms
2023-06-16 10:35:09.814 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:09.818 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 204.2418 ms
2023-06-16 10:35:09.823 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 219.4734ms
2023-06-16 10:35:13.297 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:13.299 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:13.302 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:13.306 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:13.313 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:13.415 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:13.418 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:13.424 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 111.7108ms
2023-06-16 10:35:13.429 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:13.432 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 132.8722 ms
2023-06-16 10:35:13.435 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 138.2446ms
2023-06-16 10:35:18.771 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:18.771 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:18.773 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:18.775 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:18.776 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4107 ms
2023-06-16 10:35:18.778 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.1108 ms
2023-06-16 10:35:18.780 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.9045ms
2023-06-16 10:35:18.784 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.4484ms
2023-06-16 10:35:18.786 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:18.793 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:18.795 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:18.797 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:18.801 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:18.888 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:18.894 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:18.899 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 98.8942ms
2023-06-16 10:35:18.903 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:18.908 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:18.914 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:18.918 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 125.5134 ms
2023-06-16 10:35:18.922 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:18.925 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 138.2190ms
2023-06-16 10:35:18.931 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:18.937 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:19.032 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:19.037 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:19.043 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 106.1101ms
2023-06-16 10:35:19.046 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:19.051 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 136.2291 ms
2023-06-16 10:35:19.058 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 154.1792ms
2023-06-16 10:35:34.167 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:35:34.173 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:34.176 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 3.3442 ms
2023-06-16 10:35:34.222 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 56.6112ms
2023-06-16 10:35:34.247 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 10:35:34.253 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:34.256 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:35:34.277 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:35:34.362 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:34.953 -04:00 [INF] Executed DbCommand (148ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:35:35.424 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:35:35.538 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:35:35.543 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1263.838ms
2023-06-16 10:35:35.549 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:35:35.561 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1307.5620 ms
2023-06-16 10:35:35.569 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 1321.3858ms
2023-06-16 10:35:35.575 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:35.578 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:35.580 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.6379 ms
2023-06-16 10:35:35.583 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.2788ms
2023-06-16 10:35:35.591 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:35.610 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:35.614 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:35.618 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:35.623 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:35.708 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:35.798 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:35:35.807 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:35.814 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 191.1964ms
2023-06-16 10:35:35.819 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:35.825 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 214.1013 ms
2023-06-16 10:35:35.829 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 238.5704ms
2023-06-16 10:35:41.541 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:41.543 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:41.546 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.9951 ms
2023-06-16 10:35:41.553 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.9571ms
2023-06-16 10:35:41.559 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:41.562 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:41.565 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:41.567 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:41.572 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:41.660 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:41.668 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:41.675 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 104.7926ms
2023-06-16 10:35:41.684 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:41.689 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 127.1824 ms
2023-06-16 10:35:41.695 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 136.0003ms
2023-06-16 10:35:45.874 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:45.876 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:45.882 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:45.884 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:45.888 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:45.979 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:45.986 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:45.992 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 105.4695ms
2023-06-16 10:35:45.998 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:35:45.998 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:46.005 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:35:46.008 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 132.3050 ms
2023-06-16 10:35:46.012 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:46.016 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 142.2180ms
2023-06-16 10:35:46.019 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:35:46.027 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:35:46.117 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:35:46.121 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:35:46.125 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 98.6622ms
2023-06-16 10:35:46.130 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:35:46.134 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 128.7189 ms
2023-06-16 10:35:46.142 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 144.0552ms
2023-06-16 10:36:03.683 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:36:03.687 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:03.691 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 4.0298 ms
2023-06-16 10:36:03.698 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 15.4894ms
2023-06-16 10:36:03.701 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 10:36:03.704 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:03.707 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:36:03.709 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:36:03.713 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:03.884 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:36:04.141 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:36:04.241 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:36:04.246 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 533.9953ms
2023-06-16 10:36:04.251 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:36:04.259 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 555.1394 ms
2023-06-16 10:36:04.265 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 564.1759ms
2023-06-16 10:36:06.183 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:06.186 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:06.191 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.7028 ms
2023-06-16 10:36:06.195 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.7903ms
2023-06-16 10:36:06.197 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:06.199 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:06.201 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:06.203 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:36:06.205 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:06.612 -04:00 [INF] Executed DbCommand (403ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:36:06.707 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:36:06.716 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:36:06.723 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 517.7417ms
2023-06-16 10:36:06.729 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:06.735 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 535.6621 ms
2023-06-16 10:36:06.741 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 544.0188ms
2023-06-16 10:36:18.974 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:18.974 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:18.977 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:18.979 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:18.980 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4558 ms
2023-06-16 10:36:18.982 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2863 ms
2023-06-16 10:36:18.985 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.9389ms
2023-06-16 10:36:18.990 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.6187ms
2023-06-16 10:36:18.990 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:18.996 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:18.999 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:19.006 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:36:19.010 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:19.093 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:36:19.099 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:36:19.104 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 94.7936ms
2023-06-16 10:36:19.109 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:19.109 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:19.112 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 116.1706 ms
2023-06-16 10:36:19.121 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:19.125 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 134.6899ms
2023-06-16 10:36:19.132 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:19.140 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:36:19.143 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:19.227 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:36:19.230 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:36:19.236 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 92.9699ms
2023-06-16 10:36:19.241 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:19.244 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 122.7217 ms
2023-06-16 10:36:19.246 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 137.5713ms
2023-06-16 10:36:36.199 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:36:36.203 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:36.205 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.7231 ms
2023-06-16 10:36:36.209 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.4146ms
2023-06-16 10:36:36.218 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 10:36:36.222 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:36.226 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:36:36.229 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:36:36.235 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:36.406 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:36:36.660 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:36:36.745 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:36:36.748 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 514.4313ms
2023-06-16 10:36:36.751 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:36:36.754 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 531.9510 ms
2023-06-16 10:36:36.757 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 538.6115ms
2023-06-16 10:36:36.764 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:36.766 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:36.768 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.9762 ms
2023-06-16 10:36:36.771 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.7977ms
2023-06-16 10:36:36.777 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:36.780 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:36.783 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:36.785 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:36:36.791 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:36.879 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:36:36.972 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:36:36.981 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:36:36.986 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 196.1401ms
2023-06-16 10:36:36.996 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:37.001 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 221.2481 ms
2023-06-16 10:36:37.010 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 233.6060ms
2023-06-16 10:36:42.133 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:42.136 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:42.139 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.6398 ms
2023-06-16 10:36:42.142 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.1250ms
2023-06-16 10:36:42.145 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:36:42.165 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:42.177 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:42.179 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:36:42.189 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:42.273 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:36:42.279 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:36:42.286 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 98.6352ms
2023-06-16 10:36:42.295 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:36:42.299 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 133.9660 ms
2023-06-16 10:36:42.306 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 160.9117ms
2023-06-16 10:36:57.763 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:36:57.765 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:57.768 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.6729 ms
2023-06-16 10:36:57.772 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 8.0474ms
2023-06-16 10:36:57.778 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 201
2023-06-16 10:36:57.780 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:36:57.783 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:36:57.785 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:36:57.789 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:36:57.957 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:36:58.256 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:36:58.515 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:36:58.607 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:36:58.635 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 848.0272ms
2023-06-16 10:36:58.639 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:36:58.641 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 860.4366 ms
2023-06-16 10:36:58.643 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 201 - 200 0 - 865.6458ms
2023-06-16 10:37:00.652 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:37:00.656 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:37:00.658 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0305 ms
2023-06-16 10:37:00.660 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.3950ms
2023-06-16 10:37:00.663 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:37:00.665 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:37:00.668 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:37:00.670 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Object Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:37:00.673 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:37:00.896 -04:00 [INF] Executed DbCommand (219ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:37:01.024 -04:00 [INF] Executed DbCommand (119ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:37:03.546 -04:00 [INF] Executed DbCommand (2,512ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:37:03.556 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:37:03.563 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 2890.3042ms
2023-06-16 10:37:03.570 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:37:03.574 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 2909.2065 ms
2023-06-16 10:37:03.581 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 2917.8119ms
2023-06-16 10:41:17.730 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:41:18.023 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:41:18.029 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:41:18.034 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:41:18.037 -04:00 [INF] Hosting environment: Development
2023-06-16 10:41:18.039 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:41:19.691 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:41:19.878 -04:00 [INF] HTTP GET / responded 404 in 109.6477 ms
2023-06-16 10:41:19.910 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 220.6929ms
2023-06-16 10:41:32.838 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:32.850 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:32.858 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:32.888 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:41:34.366 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:36.129 -04:00 [INF] Executed DbCommand (192ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:41:36.772 -04:00 [INF] Executed DbCommand (240ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:41:36.892 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:41:36.926 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:37.056 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:37.063 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4155.6084ms
2023-06-16 10:41:37.069 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:37.073 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:37.080 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:37.083 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:41:37.087 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4242.2867 ms
2023-06-16 10:41:37.092 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:37.106 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4267.8078ms
2023-06-16 10:41:37.190 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:41:37.303 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:41:37.394 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:41:37.401 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:37.405 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 316.8658ms
2023-06-16 10:41:37.412 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:37.417 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 345.5021 ms
2023-06-16 10:41:37.422 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 366.8164ms
2023-06-16 10:41:44.706 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:44.710 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:44.713 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:44.730 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:41:44.851 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:44.945 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:41:44.953 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:44.968 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 234.035ms
2023-06-16 10:41:44.981 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:44.985 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 275.2700 ms
2023-06-16 10:41:44.996 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 290.2149ms
2023-06-16 10:41:49.153 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 10:41:49.158 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:49.161 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 3.3234 ms
2023-06-16 10:41:49.163 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 10.6199ms
2023-06-16 10:41:49.166 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 10:41:49.170 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:49.173 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 10:41:49.194 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 10:41:49.249 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:49.413 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 10:41:49.733 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:49.738 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 541.5288ms
2023-06-16 10:41:49.740 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 10:41:49.742 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 572.2900 ms
2023-06-16 10:41:49.749 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 583.5838ms
2023-06-16 10:41:49.806 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:49.806 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:49.808 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:49.810 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:49.811 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.0944 ms
2023-06-16 10:41:49.813 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.6925 ms
2023-06-16 10:41:49.815 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.3974ms
2023-06-16 10:41:49.817 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.9637ms
2023-06-16 10:41:49.818 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:49.823 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:49.960 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:49.962 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:41:49.965 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:50.054 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:41:50.062 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:50.070 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 105.1827ms
2023-06-16 10:41:50.078 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:50.078 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:50.083 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:50.087 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 263.8424 ms
2023-06-16 10:41:50.120 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:50.123 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 304.7870ms
2023-06-16 10:41:50.126 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:41:50.133 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:50.227 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:41:50.235 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:50.241 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 108.6224ms
2023-06-16 10:41:50.247 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:50.254 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 171.8705 ms
2023-06-16 10:41:50.260 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 185.4233ms
2023-06-16 10:41:54.462 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:54.467 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:54.471 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:54.473 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:41:54.477 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:54.589 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:41:54.626 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:54.629 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 152.2386ms
2023-06-16 10:41:54.636 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:54.636 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:41:54.638 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 170.8325 ms
2023-06-16 10:41:54.640 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:41:54.643 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 180.7625ms
2023-06-16 10:41:54.651 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:54.659 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:41:54.667 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:41:54.812 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:41:54.816 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:41:54.819 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 153.2603ms
2023-06-16 10:41:54.822 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:41:54.825 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 184.0937 ms
2023-06-16 10:41:54.827 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 191.5579ms
2023-06-16 10:42:28.608 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:42:28.645 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:28.647 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.5060 ms
2023-06-16 10:42:28.649 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 42.5041ms
2023-06-16 10:42:30.673 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 10:42:30.680 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:30.684 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:42:30.688 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:42:30.725 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:42:31.513 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:42:31.960 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:42:32.070 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:42:32.074 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1382.2854ms
2023-06-16 10:42:32.079 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:42:32.082 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1402.4266 ms
2023-06-16 10:42:32.088 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 1414.5581ms
2023-06-16 10:42:32.126 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:32.128 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:32.130 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.3734 ms
2023-06-16 10:42:32.133 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.4093ms
2023-06-16 10:42:32.136 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:32.140 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:32.143 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:32.144 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:42:32.148 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:42:32.252 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:42:32.350 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:42:32.361 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:42:32.366 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 219.0491ms
2023-06-16 10:42:32.376 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:32.381 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 240.5954 ms
2023-06-16 10:42:32.388 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 252.4276ms
2023-06-16 10:42:37.421 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:37.421 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:37.424 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:37.428 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:37.431 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.9765 ms
2023-06-16 10:42:37.434 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.6619 ms
2023-06-16 10:42:37.437 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.1473ms
2023-06-16 10:42:37.440 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.9508ms
2023-06-16 10:42:37.440 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:37.447 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:37.449 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:37.451 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:42:37.456 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:42:37.561 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:42:37.659 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:42:37.664 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:42:37.667 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 212.7534ms
2023-06-16 10:42:37.669 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:37.670 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:37.672 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:37.675 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 228.6238 ms
2023-06-16 10:42:37.678 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:37.683 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 243.3519ms
2023-06-16 10:42:37.685 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:42:37.690 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:42:37.784 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:42:37.887 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:42:37.898 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:42:37.902 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 212.7809ms
2023-06-16 10:42:37.905 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:37.908 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 235.5058 ms
2023-06-16 10:42:37.914 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 244.9346ms
2023-06-16 10:42:50.682 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:50.686 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:50.692 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.5840 ms
2023-06-16 10:42:50.696 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.6738ms
2023-06-16 10:42:50.699 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:50.701 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:50.704 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:50.707 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:42:50.711 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:42:50.814 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:42:50.833 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:42:50.843 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 132.5404ms
2023-06-16 10:42:50.858 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:50.860 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 159.2974 ms
2023-06-16 10:42:50.865 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 166.5141ms
2023-06-16 10:42:54.970 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:54.972 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:54.974 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:54.976 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:42:54.979 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:42:55.071 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:42:55.077 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:42:55.082 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 103.3417ms
2023-06-16 10:42:55.090 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:55.090 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:42:55.094 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 122.2838 ms
2023-06-16 10:42:55.099 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:42:55.105 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 135.5316ms
2023-06-16 10:42:55.110 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:55.122 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:42:55.128 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:42:55.223 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:42:55.232 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:42:55.243 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 115.9758ms
2023-06-16 10:42:55.250 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:42:55.256 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 157.1202 ms
2023-06-16 10:42:55.259 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 169.3782ms
2023-06-16 10:43:09.827 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 10:43:09.832 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:43:09.839 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 7.3263 ms
2023-06-16 10:43:09.844 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 17.8546ms
2023-06-16 10:43:09.849 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 10:43:09.856 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:43:09.860 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:43:09.864 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:43:09.871 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:43:10.048 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 10:43:10.320 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:43:10.412 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:43:10.451 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 583.2269ms
2023-06-16 10:43:10.466 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 10:43:10.470 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 613.8868 ms
2023-06-16 10:43:10.478 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 629.7458ms
2023-06-16 10:43:10.489 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:43:10.495 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:43:10.497 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.5638 ms
2023-06-16 10:43:10.501 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.7279ms
2023-06-16 10:43:10.510 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:43:10.513 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:43:10.516 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:43:10.532 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:43:10.537 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:43:10.676 -04:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:43:11.074 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:43:11.160 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:43:11.231 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 696.4535ms
2023-06-16 10:43:11.244 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:43:11.247 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 733.8688 ms
2023-06-16 10:43:11.324 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 814.3449ms
2023-06-16 10:44:16.902 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 10:44:16.904 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:16.907 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.4633 ms
2023-06-16 10:44:16.909 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 7.3796ms
2023-06-16 10:44:16.912 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 136
2023-06-16 10:44:16.914 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:16.917 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 10:44:16.921 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCitas(Clinica.SqlTables.Evaluation) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:44:16.936 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:44:17.058 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 10:44:17.279 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 10:44:17.403 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2023-06-16 10:44:17.408 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 483.854ms
2023-06-16 10:44:17.412 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 10:44:17.417 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 503.2208 ms
2023-06-16 10:44:17.421 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 136 - 200 - application/json;+charset=utf-8 509.1872ms
2023-06-16 10:44:17.424 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 10:44:17.426 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:17.428 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 2.2544 ms
2023-06-16 10:44:17.431 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 6.9199ms
2023-06-16 10:44:17.434 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 130
2023-06-16 10:44:17.436 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:17.438 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 10:44:17.444 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:44:17.451 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:44:17.545 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 10:44:17.753 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 10:44:18.038 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:44:18.133 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:44:18.140 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 692.4975ms
2023-06-16 10:44:18.143 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 10:44:18.147 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 710.9093 ms
2023-06-16 10:44:18.150 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 130 - 200 0 - 716.1317ms
2023-06-16 10:44:21.469 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:44:21.474 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:21.476 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8551 ms
2023-06-16 10:44:21.478 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.6862ms
2023-06-16 10:44:21.480 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:44:21.482 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:21.484 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:44:21.486 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:44:21.489 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:44:21.604 -04:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:44:21.700 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:44:21.707 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:44:21.714 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 225.1419ms
2023-06-16 10:44:21.721 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:44:21.732 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 250.1457 ms
2023-06-16 10:44:21.737 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 257.1607ms
2023-06-16 10:44:24.677 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 10:44:24.681 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:24.684 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.9897 ms
2023-06-16 10:44:24.687 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 10.0552ms
2023-06-16 10:44:24.690 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 137
2023-06-16 10:44:24.691 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:24.693 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 10:44:24.695 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarCitas(Clinica.SqlTables.Evaluation) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:44:24.698 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:44:24.788 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 10:44:25.276 -04:00 [INF] Executed DbCommand (392ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 10:44:25.375 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2023-06-16 10:44:25.378 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 680.576ms
2023-06-16 10:44:25.381 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 10:44:25.386 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 694.4127 ms
2023-06-16 10:44:25.389 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 137 - 200 - application/json;+charset=utf-8 699.0678ms
2023-06-16 10:44:25.393 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 10:44:25.395 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:25.398 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 2.3335 ms
2023-06-16 10:44:25.401 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 8.1839ms
2023-06-16 10:44:25.403 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 130
2023-06-16 10:44:25.405 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:25.407 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 10:44:25.410 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 10:44:25.414 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:44:25.504 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 10:44:25.691 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 10:44:25.951 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 10:44:26.050 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 10:44:26.052 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 638.458ms
2023-06-16 10:44:26.056 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 10:44:26.058 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 652.7580 ms
2023-06-16 10:44:26.061 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 130 - 200 0 - 657.8045ms
2023-06-16 10:44:26.069 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:44:26.071 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:44:26.074 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:44:26.077 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:44:26.085 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:44:26.182 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 10:44:26.276 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 10:44:26.282 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 10:44:26.285 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 200.0708ms
2023-06-16 10:44:26.287 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:44:26.290 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 219.1449 ms
2023-06-16 10:44:26.295 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 225.7450ms
2023-06-16 10:57:18.856 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:57:19.390 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:57:19.399 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:57:19.405 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:57:19.408 -04:00 [INF] Hosting environment: Development
2023-06-16 10:57:19.414 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:57:21.285 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:57:21.506 -04:00 [INF] HTTP GET / responded 404 in 129.8768 ms
2023-06-16 10:57:21.529 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 248.4799ms
2023-06-16 10:59:45.427 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 10:59:45.893 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 10:59:45.896 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 10:59:45.901 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 10:59:45.905 -04:00 [INF] Hosting environment: Development
2023-06-16 10:59:45.918 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 10:59:47.871 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 10:59:48.158 -04:00 [INF] HTTP GET / responded 404 in 170.2620 ms
2023-06-16 10:59:48.180 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 313.7882ms
2023-06-16 10:59:54.803 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 10:59:54.814 -04:00 [INF] CORS policy execution successful.
2023-06-16 10:59:54.823 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 10:59:54.862 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 10:59:57.485 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 10:59:59.701 -04:00 [INF] Executed DbCommand (198ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:00:00.274 -04:00 [INF] Executed DbCommand (185ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:00:00.298 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:00:00.386 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:00:00.389 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 5514.9137ms
2023-06-16 11:00:00.394 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:00.401 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:00.404 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 5594.4051 ms
2023-06-16 11:00:00.405 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:00.409 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:00:00.414 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:00.417 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 5613.7383ms
2023-06-16 11:00:00.510 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:00:00.604 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:00:00.654 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:00:00.660 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 247.8973ms
2023-06-16 11:00:00.662 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:00.664 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 264.8536 ms
2023-06-16 11:00:00.668 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 282.2493ms
2023-06-16 11:00:10.784 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 11:00:10.787 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:10.790 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.8599 ms
2023-06-16 11:00:10.792 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 8.6164ms
2023-06-16 11:00:10.802 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 11:00:10.805 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:10.807 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:00:10.832 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 11:00:10.946 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:11.086 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 11:00:11.400 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:00:11.405 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 569.2956ms
2023-06-16 11:00:11.408 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:00:11.410 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 604.7373 ms
2023-06-16 11:00:11.420 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 618.2437ms
2023-06-16 11:00:11.482 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:00:11.482 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:00:11.484 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:11.487 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:11.489 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3708 ms
2023-06-16 11:00:11.491 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.8941 ms
2023-06-16 11:00:11.494 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.4065ms
2023-06-16 11:00:11.497 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.0027ms
2023-06-16 11:00:11.497 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:00:11.503 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:11.613 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:11.668 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:00:11.671 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:11.770 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:00:11.772 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:00:11.775 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 103.9821ms
2023-06-16 11:00:11.777 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:11.779 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 276.2205 ms
2023-06-16 11:00:11.782 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 284.8314ms
2023-06-16 11:00:13.765 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:00:13.767 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:13.770 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:13.773 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:00:13.777 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:13.908 -04:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:00:13.913 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:00:13.915 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 138.7814ms
2023-06-16 11:00:13.917 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:13.919 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 152.2510 ms
2023-06-16 11:00:13.922 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 157.6405ms
2023-06-16 11:00:30.564 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 11:00:30.566 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:30.568 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 1.9883 ms
2023-06-16 11:00:30.570 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 6.4337ms
2023-06-16 11:00:30.573 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 11:00:30.576 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:30.580 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:00:30.587 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:00:30.613 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:31.055 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 11:00:31.480 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:00:31.584 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:00:31.586 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 996.9184ms
2023-06-16 11:00:31.588 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:00:31.590 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1014.1168 ms
2023-06-16 11:00:31.592 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 1019.2241ms
2023-06-16 11:00:31.602 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:00:31.603 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:31.605 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.1556 ms
2023-06-16 11:00:31.608 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.2483ms
2023-06-16 11:00:31.613 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:00:31.617 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:31.619 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:31.622 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:00:31.628 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:31.720 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:00:31.812 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:00:31.818 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:00:31.821 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 194.4595ms
2023-06-16 11:00:31.823 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:00:31.825 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 208.6487 ms
2023-06-16 11:00:31.831 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 217.5555ms
2023-06-16 11:00:46.362 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:00:46.364 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:46.366 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.5718 ms
2023-06-16 11:00:46.370 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 7.9552ms
2023-06-16 11:00:46.376 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 136
2023-06-16 11:00:46.378 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:46.380 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:00:46.387 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:00:46.395 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:46.777 -04:00 [INF] Executed DbCommand (340ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:00:48.175 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:00:48.229 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:00:48.234 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 1844.1379ms
2023-06-16 11:00:48.236 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:00:48.238 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 1860.1218 ms
2023-06-16 11:00:48.253 -04:00 [ERR] Connection id "0HMREF99H7F50", Request id "0HMREF99H7F50:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: The connection does not support MultipleActiveResultSets.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalTransaction.Rollback()
   at Microsoft.Data.SqlClient.SqlTransaction.Dispose(Boolean disposing)
   at System.Data.Common.DbTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|227_0(HttpProtocol protocol, Stack`1 events)
2023-06-16 11:00:48.265 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 136 - 400 - application/problem+json;+charset=utf-8 1889.6545ms
2023-06-16 11:00:51.092 -04:00 [INF] Executed DbCommand (2,978ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:00:53.442 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:00:53.445 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:53.447 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.2874 ms
2023-06-16 11:00:53.449 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 7.3894ms
2023-06-16 11:00:53.452 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 136
2023-06-16 11:00:53.454 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:00:53.456 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:00:53.457 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:00:53.464 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:00:53.750 -04:00 [INF] Executed DbCommand (283ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:00:53.859 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:00:53.894 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:00:53.898 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 436.3305ms
2023-06-16 11:00:53.901 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:00:53.918 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 464.7702 ms
2023-06-16 11:00:53.966 -04:00 [ERR] Connection id "0HMREF99H7F50", Request id "0HMREF99H7F50:00000007": An unhandled exception was thrown by the application.
System.InvalidOperationException: The connection does not support MultipleActiveResultSets.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalTransaction.Rollback()
   at Microsoft.Data.SqlClient.SqlTransaction.Dispose(Boolean disposing)
   at System.Data.Common.DbTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|227_0(HttpProtocol protocol, Stack`1 events)
2023-06-16 11:00:53.976 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 136 - 400 - application/problem+json;+charset=utf-8 524.4290ms
2023-06-16 11:00:54.020 -04:00 [INF] Executed DbCommand (162ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:01:28.921 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:01:28.925 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:01:28.927 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.9643 ms
2023-06-16 11:01:28.930 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.5669ms
2023-06-16 11:01:28.935 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:01:28.937 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:01:28.940 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:01:28.943 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:01:28.946 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:01:29.036 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:01:29.127 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:01:29.131 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:01:29.134 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 188.8305ms
2023-06-16 11:01:29.139 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:01:29.142 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 205.1424 ms
2023-06-16 11:01:29.148 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 213.3289ms
2023-06-16 11:01:51.023 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:01:51.355 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:01:51.360 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.1948 ms
2023-06-16 11:01:51.365 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 342.1454ms
2023-06-16 11:01:51.376 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:01:51.379 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:01:51.386 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:01:51.400 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:01:51.416 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:01:51.506 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:01:51.685 -04:00 [INF] Executed DbCommand (157ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:01:51.739 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:01:51.742 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 327.2452ms
2023-06-16 11:01:51.745 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:01:51.748 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 369.0774 ms
2023-06-16 11:01:51.751 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 375.2035ms
2023-06-16 11:01:56.112 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:01:56.124 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:01:56.126 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:01:56.128 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:01:56.131 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:01:56.315 -04:00 [INF] Executed DbCommand (181ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:01:56.434 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:01:56.437 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:01:56.440 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 309.202ms
2023-06-16 11:01:56.442 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:01:56.445 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 320.6724 ms
2023-06-16 11:01:56.448 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 337.0594ms
2023-06-16 11:03:03.946 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:03.950 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:03.970 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 20.0446 ms
2023-06-16 11:03:03.980 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 34.9442ms
2023-06-16 11:03:03.988 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:03.992 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:03.994 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:03.999 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:03:04.003 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:03:04.254 -04:00 [INF] Executed DbCommand (248ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:03:04.400 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:03:04.657 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:03:04.953 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 951.7073ms
2023-06-16 11:03:05.713 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:05.721 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1729.6473 ms
2023-06-16 11:03:05.736 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1747.3293ms
2023-06-16 11:03:12.901 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:12.903 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:12.907 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.0655 ms
2023-06-16 11:03:12.909 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.2390ms
2023-06-16 11:03:12.914 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:12.916 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:12.919 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:12.923 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:03:12.928 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:03:13.019 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:03:13.111 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:03:13.115 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:03:13.117 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 189.493ms
2023-06-16 11:03:13.119 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:13.121 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 205.1202 ms
2023-06-16 11:03:13.124 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 210.1275ms
2023-06-16 11:03:29.214 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:29.216 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:29.223 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.6748 ms
2023-06-16 11:03:29.225 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.2676ms
2023-06-16 11:03:29.247 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:29.251 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:29.254 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:29.256 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:03:29.264 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:03:29.359 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:03:29.452 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:03:29.455 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:03:29.457 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 194.4415ms
2023-06-16 11:03:29.462 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:29.462 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:29.464 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 213.6249 ms
2023-06-16 11:03:29.467 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:29.471 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 225.3652ms
2023-06-16 11:03:29.487 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:29.508 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:03:29.513 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:03:29.605 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:03:29.837 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:03:29.841 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:03:29.858 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 345.9743ms
2023-06-16 11:03:29.860 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:29.863 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 396.3378 ms
2023-06-16 11:03:29.871 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 0 - application/json;+charset=utf-8 408.3087ms
2023-06-16 11:03:33.668 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:33.677 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:33.683 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:33.687 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:03:33.691 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:03:33.819 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:03:34.216 -04:00 [INF] Executed DbCommand (391ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:03:34.219 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:03:34.222 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 531.6335ms
2023-06-16 11:03:34.235 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:34.235 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:03:34.244 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 567.4057 ms
2023-06-16 11:03:34.246 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:34.252 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 584.1519ms
2023-06-16 11:03:34.259 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:34.267 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:03:34.285 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:03:34.392 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:03:34.484 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:03:34.488 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:03:34.491 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 206.2087ms
2023-06-16 11:03:34.501 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:03:34.505 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 259.8738 ms
2023-06-16 11:03:34.508 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 272.4552ms
2023-06-16 11:03:51.722 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:03:51.724 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:51.726 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 1.9218 ms
2023-06-16 11:03:51.728 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 6.1400ms
2023-06-16 11:03:51.731 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 230
2023-06-16 11:03:51.733 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:03:51.736 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:03:51.738 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:03:51.743 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:03:52.441 -04:00 [INF] Executed DbCommand (694ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:03:52.532 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:03:52.561 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:03:52.564 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 823.1111ms
2023-06-16 11:03:52.568 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:03:52.570 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 837.0333 ms
2023-06-16 11:03:52.577 -04:00 [ERR] Connection id "0HMREF99H7F58", Request id "0HMREF99H7F58:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: The connection does not support MultipleActiveResultSets.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalTransaction.Rollback()
   at Microsoft.Data.SqlClient.SqlTransaction.Dispose(Boolean disposing)
   at System.Data.Common.DbTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|227_0(HttpProtocol protocol, Stack`1 events)
2023-06-16 11:03:52.587 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 230 - 400 - application/problem+json;+charset=utf-8 856.0361ms
2023-06-16 11:03:52.613 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:04:24.135 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:04:24.137 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:04:24.142 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 4.9961 ms
2023-06-16 11:04:24.146 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 11.1598ms
2023-06-16 11:04:24.165 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 230
2023-06-16 11:04:24.172 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:04:24.178 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:04:24.181 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:04:24.185 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:04:24.310 -04:00 [INF] Executed DbCommand (120ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:04:24.404 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:04:24.454 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:04:24.465 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 280.6364ms
2023-06-16 11:04:24.501 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:04:24.676 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:04:24.682 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 510.5058 ms
2023-06-16 11:04:25.242 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:04:25.245 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:04:25.247 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8457 ms
2023-06-16 11:04:25.249 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.5228ms
2023-06-16 11:04:25.259 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:04:25.265 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:04:25.271 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:04:25.277 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:04:25.280 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:04:25.385 -04:00 [ERR] Connection id "0HMREF99H7F59", Request id "0HMREF99H7F59:00000003": An unhandled exception was thrown by the application.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.Data.SqlClient.SqlInternalTransaction.Rollback()
   at Microsoft.Data.SqlClient.SqlTransaction.Dispose(Boolean disposing)
   at System.Data.Common.DbTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|227_0(HttpProtocol protocol, Stack`1 events)
2023-06-16 11:04:25.392 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 230 - 400 - application/problem+json;+charset=utf-8 1227.8389ms
2023-06-16 11:04:40.218 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:04:40.222 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:04:40.224 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.4051 ms
2023-06-16 11:04:40.229 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 11.0245ms
2023-06-16 11:04:40.231 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 230
2023-06-16 11:04:40.265 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:04:40.372 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:04:40.379 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:04:58.282 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:04:59.737 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:05:13.840 -04:00 [ERR] Failed executing DbCommand (48,551ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:05:13.853 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): Tiempo de espera de la operación de espera agotado.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3aec1641-a110-4d0b-9597-6c7f652c456f
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): Tiempo de espera de la operación de espera agotado.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:3aec1641-a110-4d0b-9597-6c7f652c456f
Error Number:-2,State:0,Class:11
2023-06-16 11:05:13.902 -04:00 [INF] el error en las citas es :
2023-06-16 11:05:13.904 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.Data.SqlClient.SqlException'.
2023-06-16 11:05:26.282 -04:00 [INF] Executed DbCommand (12,357ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:05:26.299 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:06:12.823 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:06:12.827 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 92436.2279ms
2023-06-16 11:06:12.834 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:06:12.840 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 92575.2935 ms
2023-06-16 11:06:12.843 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 230 - 400 - application/problem+json;+charset=utf-8 92611.6648ms
2023-06-16 11:06:12.894 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 107613.9992ms
2023-06-16 11:06:12.899 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:06:12.903 -04:00 [ERR] HTTP GET /api/Clinica/Citas responded 500 in 107637.7363 ms
System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported. Path: $.TargetSite.MethodHandle.Value.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 11:06:12.922 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported. Path: $.TargetSite.MethodHandle.Value.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 11:06:12.947 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 500 - text/plain;+charset=utf-8 107687.7559ms
2023-06-16 11:06:56.350 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 11:06:56.923 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 11:06:56.928 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 11:06:56.935 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 11:06:56.938 -04:00 [INF] Hosting environment: Development
2023-06-16 11:06:56.952 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 11:06:59.240 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 11:06:59.570 -04:00 [INF] HTTP GET / responded 404 in 221.2133 ms
2023-06-16 11:06:59.599 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 363.7511ms
2023-06-16 11:07:16.669 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:07:16.669 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:07:16.680 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:07:16.680 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:07:16.686 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.6831 ms
2023-06-16 11:07:16.686 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.6831 ms
2023-06-16 11:07:16.690 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 21.3434ms
2023-06-16 11:07:16.693 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:07:16.695 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 25.7555ms
2023-06-16 11:07:16.700 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:07:17.153 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:07:17.313 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:07:18.987 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:07:21.013 -04:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:07:21.385 -04:00 [INF] Executed DbCommand (145ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:07:21.410 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:07:21.481 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:07:21.486 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4158.8416ms
2023-06-16 11:07:21.490 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:07:21.497 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:07:21.500 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4801.3840 ms
2023-06-16 11:07:21.501 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:07:21.507 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:07:21.512 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:07:21.514 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4820.3534ms
2023-06-16 11:07:21.610 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:07:21.701 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:07:21.706 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:07:21.709 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 199.3056ms
2023-06-16 11:07:21.713 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:07:21.716 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 219.1658 ms
2023-06-16 11:07:21.719 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 237.8791ms
2023-06-16 11:07:29.702 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:07:29.704 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:07:29.711 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 6.4060 ms
2023-06-16 11:07:29.715 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 13.4080ms
2023-06-16 11:07:29.719 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 232
2023-06-16 11:07:29.721 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:07:29.724 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:07:29.746 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:07:29.865 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:07:30.052 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:08:51.705 -04:00 [INF] Executed DbCommand (70,501ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:08:51.821 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:10:00.732 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 11:10:01.114 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 11:10:01.118 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 11:10:01.124 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 11:10:01.127 -04:00 [INF] Hosting environment: Development
2023-06-16 11:10:01.129 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 11:10:02.581 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 11:10:02.796 -04:00 [INF] HTTP GET / responded 404 in 117.4759 ms
2023-06-16 11:10:02.822 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 241.8000ms
2023-06-16 11:10:10.925 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:10:10.926 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:10:10.939 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:10:10.939 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:10:10.945 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 11.0812 ms
2023-06-16 11:10:10.948 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 13.7921 ms
2023-06-16 11:10:10.956 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 29.8150ms
2023-06-16 11:10:10.965 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:10:10.974 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 48.4720ms
2023-06-16 11:10:10.994 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:10:11.270 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 3:05:11 p. m.', Current time: '16/6/2023 3:10:11 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 11:10:11.329 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 3:05:11 p. m.', Current time: '16/6/2023 3:10:11 p. m.'.
2023-06-16 11:10:11.337 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:10:11.368 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:10:12.848 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:10:14.795 -04:00 [INF] Executed DbCommand (471ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:10:15.206 -04:00 [INF] Executed DbCommand (136ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:10:15.247 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:10:15.359 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:10:15.358 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 3977.638ms
2023-06-16 11:10:15.362 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:10:15.366 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:10:15.369 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 3:05:11 p. m.', Current time: '16/6/2023 3:10:15 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 11:10:15.376 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 3:05:11 p. m.', Current time: '16/6/2023 3:10:15 p. m.'.
2023-06-16 11:10:15.376 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4383.7579 ms
2023-06-16 11:10:15.379 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:10:15.383 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:10:15.387 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:10:15.393 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4427.5324ms
2023-06-16 11:10:15.519 -04:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:10:15.624 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:10:15.628 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:10:15.632 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 247.3524ms
2023-06-16 11:10:15.636 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:10:15.640 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 277.9718 ms
2023-06-16 11:10:15.643 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 284.3911ms
2023-06-16 11:10:38.193 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:10:38.195 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:10:38.197 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.5700 ms
2023-06-16 11:10:38.200 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 6.9195ms
2023-06-16 11:10:38.208 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 229
2023-06-16 11:10:38.210 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:10:38.213 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 3:05:11 p. m.', Current time: '16/6/2023 3:10:38 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 11:10:38.217 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 3:05:11 p. m.', Current time: '16/6/2023 3:10:38 p. m.'.
2023-06-16 11:10:38.220 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:10:38.246 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:10:38.383 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:10:38.553 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:10:38.993 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:10:39.058 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:10:39.064 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:10:39.068 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 819.9396ms
2023-06-16 11:10:39.076 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:10:39.082 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 872.2283 ms
2023-06-16 11:10:39.219 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 229 - 400 - application/problem+json;+charset=utf-8 1010.9957ms
2023-06-16 11:10:53.751 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:10:53.754 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:10:53.757 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:10:53.759 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:10:53.763 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:10:53.860 -04:00 [ERR] An error occurred using a transaction.
2023-06-16 11:11:02.075 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 11:11:02.078 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:02.106 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 28.1051 ms
2023-06-16 11:11:02.110 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 34.5693ms
2023-06-16 11:11:02.116 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 11:11:02.123 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:02.126 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:11:02.133 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 11:11:02.147 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:11:02.650 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 11:11:02.728 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:11:02.732 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 593.4757ms
2023-06-16 11:11:02.740 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:11:02.742 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 619.5550 ms
2023-06-16 11:11:02.745 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 628.8805ms
2023-06-16 11:11:02.841 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:11:02.841 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:11:02.844 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:02.849 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:02.854 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.8760 ms
2023-06-16 11:11:02.857 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.3877 ms
2023-06-16 11:11:02.864 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 23.2609ms
2023-06-16 11:11:02.870 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:11:02.870 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 28.7309ms
2023-06-16 11:11:02.875 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:02.904 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:02.907 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:11:02.911 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:11:03.000 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:11:03.094 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:11:03.099 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:11:03.103 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 193.0011ms
2023-06-16 11:11:03.106 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:11:03.147 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:03.154 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:03.158 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 282.9432 ms
2023-06-16 11:11:03.162 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:03.178 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 309.2877ms
2023-06-16 11:11:03.179 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:11:03.211 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:11:03.298 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:11:03.400 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:11:03.403 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:11:03.407 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 196.7918ms
2023-06-16 11:11:03.411 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:03.412 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 258.4193 ms
2023-06-16 11:11:03.415 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 309.2440ms
2023-06-16 11:11:05.432 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:11:05.435 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:05.438 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:05.441 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:11:05.444 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:11:05.528 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:11:05.623 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:11:05.642 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:11:05.662 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 219.1994ms
2023-06-16 11:11:05.669 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:11:05.673 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:05.710 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:05.722 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 286.9368 ms
2023-06-16 11:11:05.727 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:05.732 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 300.1411ms
2023-06-16 11:11:05.756 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:11:05.803 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:11:05.894 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:11:05.989 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:11:06.005 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:11:06.008 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 205.5646ms
2023-06-16 11:11:06.012 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:06.018 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 308.1700 ms
2023-06-16 11:11:06.022 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 352.6230ms
2023-06-16 11:11:19.681 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:11:19.686 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:19.688 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.0666 ms
2023-06-16 11:11:19.691 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 9.9754ms
2023-06-16 11:11:19.693 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 229
2023-06-16 11:11:19.697 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:11:19.700 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:11:19.702 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:11:19.705 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:11:19.812 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:11:19.943 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:11:19.990 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:11:19.992 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 287.4998ms
2023-06-16 11:11:19.995 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:11:19.997 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 299.8552 ms
2023-06-16 11:11:20.001 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:11:20.017 -04:00 [ERR] Connection id "0HMREFF0QINOE", Request id "0HMREFF0QINOE:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: There is already an open DataReader associated with this Connection which must be closed first.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalTransaction.Rollback()
   at Microsoft.Data.SqlClient.SqlTransaction.Dispose(Boolean disposing)
   at System.Data.Common.DbTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|227_0(HttpProtocol protocol, Stack`1 events)
2023-06-16 11:11:20.060 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 229 - 400 - application/problem+json;+charset=utf-8 366.5948ms
2023-06-16 11:11:23.882 -04:00 [ERR] Failed executing DbCommand (30,114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:11:23.891 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): Tiempo de espera de la operación de espera agotado.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e9023d9b-a21e-42bf-a0cc-3867fb243956
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): Tiempo de espera de la operación de espera agotado.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e9023d9b-a21e-42bf-a0cc-3867fb243956
Error Number:-2,State:0,Class:11
2023-06-16 11:11:23.942 -04:00 [INF] el error en las citas es :
2023-06-16 11:11:23.944 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.Data.SqlClient.SqlException'.
2023-06-16 11:11:24.025 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 30263.0981ms
2023-06-16 11:11:24.028 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:11:24.031 -04:00 [ERR] HTTP GET /api/Clinica/Citas responded 500 in 30277.6293 ms
System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported. Path: $.TargetSite.MethodHandle.Value.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 11:11:24.045 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported. Path: $.TargetSite.MethodHandle.Value.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 11:11:24.062 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 500 - text/plain;+charset=utf-8 30311.5420ms
2023-06-16 11:12:15.301 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:15.301 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:15.303 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:15.305 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:15.306 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.7863 ms
2023-06-16 11:12:15.307 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.7295 ms
2023-06-16 11:12:15.310 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.7168ms
2023-06-16 11:12:15.313 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.2012ms
2023-06-16 11:12:15.315 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:15.322 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:15.324 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:15.327 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:12:15.331 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:12:15.420 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:12:15.528 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:12:15.532 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:12:15.534 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 203.4235ms
2023-06-16 11:12:15.561 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:15.565 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:15.568 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 245.9754 ms
2023-06-16 11:12:15.570 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:15.572 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 256.9765ms
2023-06-16 11:12:15.574 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:15.593 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:12:15.597 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:12:15.699 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:12:15.790 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:12:15.795 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:12:15.798 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 202.3651ms
2023-06-16 11:12:15.804 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:15.811 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 240.7149 ms
2023-06-16 11:12:15.815 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 249.9393ms
2023-06-16 11:12:21.251 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:12:21.258 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:21.261 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.4696 ms
2023-06-16 11:12:21.267 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 16.0675ms
2023-06-16 11:12:21.297 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 229
2023-06-16 11:12:21.299 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:21.301 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:12:21.304 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:12:21.308 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:12:21.397 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:12:21.489 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:12:21.527 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:12:21.530 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 222.6036ms
2023-06-16 11:12:21.549 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:12:21.552 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 252.3650 ms
2023-06-16 11:12:21.558 -04:00 [ERR] Connection id "0HMREFF0QINOG", Request id "0HMREFF0QINOG:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: The connection does not support MultipleActiveResultSets.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalTransaction.Rollback()
   at Microsoft.Data.SqlClient.SqlTransaction.Dispose(Boolean disposing)
   at System.Data.Common.DbTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|227_0(HttpProtocol protocol, Stack`1 events)
2023-06-16 11:12:21.587 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 229 - 400 - application/problem+json;+charset=utf-8 289.2745ms
2023-06-16 11:12:21.593 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:12:48.580 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:48.580 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:48.590 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:48.593 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:48.595 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.7182 ms
2023-06-16 11:12:48.597 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3172 ms
2023-06-16 11:12:48.655 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 75.4188ms
2023-06-16 11:12:48.672 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:48.673 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 92.5709ms
2023-06-16 11:12:48.680 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:48.686 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:48.689 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:12:48.693 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:12:48.819 -04:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:12:48.917 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:12:48.920 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:12:48.923 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 230.5208ms
2023-06-16 11:12:48.935 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:12:48.937 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:48.939 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:48.944 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 263.9267 ms
2023-06-16 11:12:48.946 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:48.952 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 281.3985ms
2023-06-16 11:12:48.962 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:12:48.984 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:12:49.081 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:12:49.190 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:12:49.193 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:12:49.200 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 216.3867ms
2023-06-16 11:12:49.203 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:12:49.212 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 272.4569 ms
2023-06-16 11:12:49.216 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 281.0308ms
2023-06-16 11:12:52.226 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:12:52.228 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:52.233 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 5.5653 ms
2023-06-16 11:12:52.236 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 9.8896ms
2023-06-16 11:12:52.239 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 232
2023-06-16 11:12:52.244 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:12:52.248 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:12:52.251 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:12:52.254 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:12:52.354 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:12:52.443 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:12:52.490 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-06-16 11:12:52.492 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 239.1222ms
2023-06-16 11:12:52.495 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:12:52.497 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 400 in 253.4467 ms
2023-06-16 11:12:52.501 -04:00 [ERR] Connection id "0HMREFF0QINOI", Request id "0HMREFF0QINOI:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: The connection does not support MultipleActiveResultSets.
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.ValidateConnectionForExecute(SqlCommand command)
   at Microsoft.Data.SqlClient.SqlInternalTransaction.Rollback()
   at Microsoft.Data.SqlClient.SqlTransaction.Dispose(Boolean disposing)
   at System.Data.Common.DbTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalTransaction.DisposeAsync()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|227_0(HttpProtocol protocol, Stack`1 events)
2023-06-16 11:12:52.512 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 232 - 400 - application/problem+json;+charset=utf-8 273.4344ms
2023-06-16 11:12:52.535 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:14:18.525 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:14:18.531 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:14:18.533 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 1.9348 ms
2023-06-16 11:14:18.535 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 9.6496ms
2023-06-16 11:14:18.538 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 232
2023-06-16 11:14:18.540 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:14:18.544 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:14:18.547 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:14:30.642 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:14:30.729 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:14:36.066 -04:00 [INF] Executed DbCommand (532ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:14:36.076 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 11:16:04.282 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 11:16:04.724 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 11:16:04.729 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 11:16:04.735 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 11:16:04.739 -04:00 [INF] Hosting environment: Development
2023-06-16 11:16:04.743 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 11:16:06.443 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 11:16:06.635 -04:00 [INF] HTTP GET / responded 404 in 112.8341 ms
2023-06-16 11:16:06.662 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 221.6435ms
2023-06-16 11:16:17.641 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:17.641 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:17.651 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:17.651 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:17.655 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.8685 ms
2023-06-16 11:16:17.655 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.8686 ms
2023-06-16 11:16:17.659 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.5743ms
2023-06-16 11:16:17.667 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 26.1169ms
2023-06-16 11:16:17.668 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:17.685 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:17.981 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:18.004 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:16:19.411 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:16:20.950 -04:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:16:21.334 -04:00 [INF] Executed DbCommand (124ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:16:21.370 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:16:21.440 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 3427.707ms
2023-06-16 11:16:21.445 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:21.452 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 3768.1101 ms
2023-06-16 11:16:21.462 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 3793.7731ms
2023-06-16 11:16:22.193 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:22.195 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:22.200 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:22.202 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:16:22.206 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:16:22.304 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:16:22.392 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:16:22.395 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:16:22.398 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 193.4111ms
2023-06-16 11:16:22.401 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:22.402 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 207.6086 ms
2023-06-16 11:16:22.405 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 211.6292ms
2023-06-16 11:16:39.136 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 11:16:39.138 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:39.140 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 1.9858 ms
2023-06-16 11:16:39.142 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 8.8808ms
2023-06-16 11:16:39.147 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 11:16:39.151 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:39.154 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:16:39.174 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:16:39.318 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:16:39.920 -04:00 [INF] Executed DbCommand (116ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 11:16:40.367 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:16:40.474 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:16:40.503 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1326.8951ms
2023-06-16 11:16:40.506 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:16:40.509 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1357.6229 ms
2023-06-16 11:16:40.523 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 1376.8087ms
2023-06-16 11:16:40.543 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:40.551 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:40.554 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.1730 ms
2023-06-16 11:16:40.558 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.8821ms
2023-06-16 11:16:40.568 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:40.571 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:40.573 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:40.575 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:16:40.584 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:16:40.682 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:16:40.777 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:16:40.914 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:16:40.917 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:16:40.921 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 338.087ms
2023-06-16 11:16:40.924 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:40.926 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 355.4014 ms
2023-06-16 11:16:40.932 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 364.3396ms
2023-06-16 11:16:50.528 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:50.532 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:50.534 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0282 ms
2023-06-16 11:16:50.537 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.8098ms
2023-06-16 11:16:50.541 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:50.543 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:50.547 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:50.550 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:16:50.553 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:16:50.652 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:16:50.740 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:16:50.745 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:16:50.747 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 194.5882ms
2023-06-16 11:16:50.749 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:50.751 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 208.1708 ms
2023-06-16 11:16:50.762 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 221.1314ms
2023-06-16 11:16:57.240 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:57.240 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:57.242 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:57.244 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:57.245 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4247 ms
2023-06-16 11:16:57.247 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.7366 ms
2023-06-16 11:16:57.249 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.6122ms
2023-06-16 11:16:57.251 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:57.251 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.9141ms
2023-06-16 11:16:57.254 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:57.258 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:57.261 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:16:57.264 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:16:57.351 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:16:57.442 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:16:57.445 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:16:57.448 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 184.6263ms
2023-06-16 11:16:57.452 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:57.452 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:16:57.454 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 199.3297 ms
2023-06-16 11:16:57.455 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:16:57.457 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 206.1593ms
2023-06-16 11:16:57.459 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:57.464 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:16:57.469 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:16:57.555 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:16:57.641 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:16:57.644 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:16:57.651 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 182.6281ms
2023-06-16 11:16:57.654 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:16:57.658 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 202.3156 ms
2023-06-16 11:16:57.660 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 208.3306ms
2023-06-16 11:17:11.544 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:17:11.546 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:17:11.549 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 2.8400 ms
2023-06-16 11:17:11.552 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 7.2975ms
2023-06-16 11:17:11.555 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 229
2023-06-16 11:17:11.561 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:17:11.563 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:17:11.570 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:17:14.389 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:17:14.547 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:17:20.117 -04:00 [INF] Executed DbCommand (1,846ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:17:20.333 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2023-06-16 11:41:06.708 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 11:41:07.184 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 11:41:07.191 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 11:41:07.196 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 11:41:07.198 -04:00 [INF] Hosting environment: Development
2023-06-16 11:41:07.200 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 11:41:09.057 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 11:41:09.384 -04:00 [INF] HTTP GET / responded 404 in 224.9993 ms
2023-06-16 11:41:09.414 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 360.8878ms
2023-06-16 11:41:36.008 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:41:36.024 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:41:36.044 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:41:36.102 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:41:39.547 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:41:42.955 -04:00 [INF] Executed DbCommand (279ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:41:43.598 -04:00 [INF] Executed DbCommand (232ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:41:43.642 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:41:43.779 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 7461.2258ms
2023-06-16 11:41:43.787 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:41:43.803 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 7783.9367 ms
2023-06-16 11:41:43.841 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 7833.1423ms
2023-06-16 11:41:44.056 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:41:44.074 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:41:44.083 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:41:44.087 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:41:44.095 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:41:44.211 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:41:44.308 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:41:44.313 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:41:44.317 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 224.5067ms
2023-06-16 11:41:44.321 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:41:44.325 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 253.3899 ms
2023-06-16 11:41:44.329 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 273.0463ms
2023-06-16 11:41:54.786 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:41:54.793 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:41:54.797 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 4.0991 ms
2023-06-16 11:41:54.800 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 14.0099ms
2023-06-16 11:41:54.812 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:41:54.815 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:41:54.818 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:41:54.852 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:41:58.456 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:41:58.677 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:41:59.173 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:41:59.321 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:41:59.323 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 4465.5587ms
2023-06-16 11:41:59.325 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:41:59.327 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 4511.9177 ms
2023-06-16 11:41:59.333 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 4521.1868ms
2023-06-16 11:42:00.275 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:42:00.277 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:00.279 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 2.0758 ms
2023-06-16 11:42:00.281 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 6.6351ms
2023-06-16 11:42:00.284 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126
2023-06-16 11:42:00.287 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:00.289 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:42:00.293 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:42:00.307 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:00.401 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:42:00.622 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:42:00.941 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:42:01.054 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:42:01.056 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 761.003ms
2023-06-16 11:42:01.059 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:42:01.060 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 773.1442 ms
2023-06-16 11:42:01.063 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126 - 200 0 - 778.5204ms
2023-06-16 11:42:17.245 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 11:42:17.248 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:17.251 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 3.4882 ms
2023-06-16 11:42:17.257 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 11.8967ms
2023-06-16 11:42:17.268 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 11:42:17.277 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:17.282 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:42:17.287 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 11:42:17.300 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:17.783 -04:00 [INF] Executed DbCommand (439ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 11:42:18.113 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:42:18.136 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 844.1632ms
2023-06-16 11:42:18.145 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:42:18.158 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 881.0770 ms
2023-06-16 11:42:18.196 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 928.4896ms
2023-06-16 11:42:18.373 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:18.373 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:18.376 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:18.383 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:18.386 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.6825 ms
2023-06-16 11:42:18.390 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.3023 ms
2023-06-16 11:42:18.393 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.9965ms
2023-06-16 11:42:18.408 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 34.9508ms
2023-06-16 11:42:18.409 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:18.423 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:18.572 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:18.714 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:42:18.718 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:18.823 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:42:18.921 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:42:18.959 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:42:18.962 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 244.9352ms
2023-06-16 11:42:18.966 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:18.967 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:18.970 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 547.5295 ms
2023-06-16 11:42:18.974 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:18.980 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 570.9957ms
2023-06-16 11:42:19.002 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:19.079 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:42:19.093 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:19.188 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:42:19.282 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:42:19.285 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:42:19.289 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 196.0919ms
2023-06-16 11:42:19.296 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:19.300 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 326.2323 ms
2023-06-16 11:42:19.320 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 353.3006ms
2023-06-16 11:42:22.978 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:23.007 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:23.009 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:23.013 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:42:23.025 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:23.111 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:42:23.210 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:42:23.213 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:42:23.217 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 192.4ms
2023-06-16 11:42:23.254 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:23.274 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:23.274 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:23.277 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 270.0512 ms
2023-06-16 11:42:23.284 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:23.302 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:42:23.302 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 324.4372ms
2023-06-16 11:42:23.307 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:23.436 -04:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:42:23.530 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:42:23.538 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:42:23.541 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 234.7373ms
2023-06-16 11:42:23.545 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:23.552 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 278.3709 ms
2023-06-16 11:42:23.555 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 300.9633ms
2023-06-16 11:42:44.819 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:44.825 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:44.827 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0868 ms
2023-06-16 11:42:44.830 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.0547ms
2023-06-16 11:42:44.835 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:44.837 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:44.840 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:44.870 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:42:44.879 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:44.980 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:42:45.072 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:42:45.202 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:42:45.205 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 326.7528ms
2023-06-16 11:42:45.208 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:45.219 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 382.2454 ms
2023-06-16 11:42:45.223 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 387.6554ms
2023-06-16 11:42:52.900 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:52.902 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:52.904 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.1780 ms
2023-06-16 11:42:52.906 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.8901ms
2023-06-16 11:42:52.909 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:42:52.912 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:42:52.914 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:52.916 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:42:52.919 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:42:53.004 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:42:53.105 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:42:53.140 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:42:53.142 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 223.5821ms
2023-06-16 11:42:53.148 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:42:53.151 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 239.1218 ms
2023-06-16 11:42:53.154 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 245.1268ms
2023-06-16 11:43:01.832 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:01.841 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:01.846 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.7265 ms
2023-06-16 11:43:01.851 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.4028ms
2023-06-16 11:43:01.860 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:01.866 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:01.870 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:01.873 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:01.880 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:01.968 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:43:02.062 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:43:02.066 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:43:02.072 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 193.1946ms
2023-06-16 11:43:02.080 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:02.087 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 220.7752 ms
2023-06-16 11:43:02.092 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 231.9331ms
2023-06-16 11:43:12.169 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:12.169 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:12.178 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:12.180 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:12.183 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.3620 ms
2023-06-16 11:43:12.185 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.0042 ms
2023-06-16 11:43:12.188 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.0606ms
2023-06-16 11:43:12.197 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 28.1020ms
2023-06-16 11:43:12.197 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:12.210 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:12.222 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:12.226 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:12.231 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:12.315 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:43:12.399 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:43:12.403 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:43:12.406 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 175.1167ms
2023-06-16 11:43:12.412 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:12.414 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:12.417 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:12.419 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 209.3816 ms
2023-06-16 11:43:12.430 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:12.432 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 235.1949ms
2023-06-16 11:43:12.436 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:12.446 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:12.533 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:43:12.929 -04:00 [INF] Executed DbCommand (392ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:43:12.933 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:43:12.936 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 490.3315ms
2023-06-16 11:43:12.938 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:12.940 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 523.5032 ms
2023-06-16 11:43:12.945 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 533.1360ms
2023-06-16 11:43:16.074 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:43:16.075 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:43:16.081 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:16.084 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:16.086 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 4.4120 ms
2023-06-16 11:43:16.088 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 4.1970 ms
2023-06-16 11:43:16.096 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 21.3793ms
2023-06-16 11:43:16.102 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129
2023-06-16 11:43:16.103 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:43:16.100 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 24.7322ms
2023-06-16 11:43:16.165 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:16.167 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:16.177 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:43:16.180 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:43:16.182 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:43:16.184 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:16.187 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:20.560 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:20.677 -04:00 [INF] Executed DbCommand (114ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:43:20.847 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:43:21.033 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:43:21.130 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:43:21.197 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:43:21.231 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:43:21.233 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 5046.5852ms
2023-06-16 11:43:21.236 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:43:21.240 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 5074.4829 ms
2023-06-16 11:43:21.243 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129 - 200 0 - 5140.5678ms
2023-06-16 11:43:21.281 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:43:21.284 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 5092.5876ms
2023-06-16 11:43:21.285 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:43:21.287 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 5120.2544 ms
2023-06-16 11:43:21.290 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 5187.2135ms
2023-06-16 11:43:32.214 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:32.214 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:32.217 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:32.221 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:32.226 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.2325 ms
2023-06-16 11:43:32.230 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.0070 ms
2023-06-16 11:43:32.234 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.6650ms
2023-06-16 11:43:32.243 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:32.244 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 29.9403ms
2023-06-16 11:43:32.249 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:32.259 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:32.261 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:32.264 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:32.355 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:43:32.441 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:43:32.445 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:43:32.448 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 184.2817ms
2023-06-16 11:43:32.466 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:32.472 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:32.473 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:32.484 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 235.4583 ms
2023-06-16 11:43:32.491 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:32.497 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 254.2411ms
2023-06-16 11:43:32.501 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:32.565 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:32.730 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:43:32.818 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:43:32.822 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:43:32.827 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 262.2286ms
2023-06-16 11:43:32.831 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:32.835 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 361.7465 ms
2023-06-16 11:43:32.838 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 371.9470ms
2023-06-16 11:43:39.008 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:43:39.009 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:43:39.014 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:39.016 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:39.018 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 4.2820 ms
2023-06-16 11:43:39.023 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 6.6191 ms
2023-06-16 11:43:39.025 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 16.7875ms
2023-06-16 11:43:39.028 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:43:39.031 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 22.0966ms
2023-06-16 11:43:39.035 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129
2023-06-16 11:43:39.037 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:39.042 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:39.044 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:43:39.047 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:43:39.050 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:39.054 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:43:39.057 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:39.061 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:39.375 -04:00 [INF] Executed DbCommand (311ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:43:39.659 -04:00 [INF] Executed DbCommand (597ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:43:40.855 -04:00 [INF] Executed DbCommand (731ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:43:41.231 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:43:41.233 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 2176.5599ms
2023-06-16 11:43:41.236 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:43:41.238 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 2200.9001 ms
2023-06-16 11:43:41.241 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 2212.2777ms
2023-06-16 11:43:43.841 -04:00 [INF] Executed DbCommand (3,705ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:43:52.558 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:43:52.657 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:43:52.663 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 13604.7031ms
2023-06-16 11:43:52.665 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:43:52.668 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 13625.6754 ms
2023-06-16 11:43:52.670 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129 - 200 0 - 13635.0775ms
2023-06-16 11:43:58.592 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:58.592 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:58.595 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:58.596 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:58.598 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2021 ms
2023-06-16 11:43:58.599 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4524 ms
2023-06-16 11:43:58.604 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.4314ms
2023-06-16 11:43:58.607 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:58.609 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.5264ms
2023-06-16 11:43:58.614 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:58.622 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:58.629 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:58.636 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:58.722 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:43:58.821 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:43:58.824 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:43:58.827 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 191.6961ms
2023-06-16 11:43:58.830 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:43:58.833 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:58.834 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:43:58.838 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 224.2948 ms
2023-06-16 11:43:58.843 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:58.847 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 239.6482ms
2023-06-16 11:43:58.860 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:43:58.868 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:43:58.955 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:43:59.042 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:43:59.048 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:43:59.058 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 190.7202ms
2023-06-16 11:43:59.067 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:43:59.098 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 264.2569 ms
2023-06-16 11:43:59.111 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 281.4595ms
2023-06-16 11:44:07.669 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:44:07.669 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:44:07.683 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:07.686 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:07.694 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 10.6473 ms
2023-06-16 11:44:07.696 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 9.6865 ms
2023-06-16 11:44:07.699 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 30.0135ms
2023-06-16 11:44:07.709 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:44:07.711 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 42.3012ms
2023-06-16 11:44:07.718 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 141
2023-06-16 11:44:07.722 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:07.726 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:07.728 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:44:07.729 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:44:07.735 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:07.737 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:44:07.740 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:07.743 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:08.043 -04:00 [INF] Executed DbCommand (190ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:44:08.146 -04:00 [INF] Executed DbCommand (399ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:44:08.218 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:44:08.355 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:44:08.443 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:44:08.445 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 705.6315ms
2023-06-16 11:44:08.448 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:44:08.449 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 727.0234 ms
2023-06-16 11:44:08.452 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 743.1211ms
2023-06-16 11:44:08.475 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:44:08.741 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:44:08.830 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:44:08.833 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 1090.9641ms
2023-06-16 11:44:08.835 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:44:08.837 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 1110.7509 ms
2023-06-16 11:44:08.839 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 141 - 200 0 - 1120.7013ms
2023-06-16 11:44:15.200 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:15.200 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:15.202 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:15.204 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:15.205 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.3019 ms
2023-06-16 11:44:15.207 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2887 ms
2023-06-16 11:44:15.209 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.4330ms
2023-06-16 11:44:15.212 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.7860ms
2023-06-16 11:44:15.212 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:15.217 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:15.220 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:15.228 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:15.232 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:15.318 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:15.404 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:15.547 -04:00 [INF] Executed DbCommand (136ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:15.550 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:15.552 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 321.0805ms
2023-06-16 11:44:15.555 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:15.555 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:15.558 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 340.3237 ms
2023-06-16 11:44:15.560 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:15.563 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 351.0688ms
2023-06-16 11:44:15.571 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:15.576 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:15.579 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:15.666 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:15.754 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:15.862 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:15.865 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:15.868 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 289.5505ms
2023-06-16 11:44:15.874 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:15.883 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 322.4212 ms
2023-06-16 11:44:15.886 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 330.3590ms
2023-06-16 11:44:24.908 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:24.910 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:24.913 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.4730 ms
2023-06-16 11:44:24.916 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.5795ms
2023-06-16 11:44:24.920 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:24.924 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:24.927 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:24.930 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:24.934 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:25.034 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:25.129 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:25.216 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:25.221 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:25.224 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 290.4958ms
2023-06-16 11:44:25.226 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:25.228 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 304.5491 ms
2023-06-16 11:44:25.231 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 312.2789ms
2023-06-16 11:44:35.595 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:35.620 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:35.631 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.8523 ms
2023-06-16 11:44:35.638 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 42.5421ms
2023-06-16 11:44:35.670 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:35.673 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:35.679 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:35.685 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:35.689 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:35.788 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:35.928 -04:00 [INF] Executed DbCommand (112ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:36.051 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:36.267 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:36.576 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 887.6836ms
2023-06-16 11:44:37.165 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:37.201 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1528.3250 ms
2023-06-16 11:44:37.221 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1550.6751ms
2023-06-16 11:44:43.241 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:43.241 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:43.245 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:43.248 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:43.250 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.3699 ms
2023-06-16 11:44:43.255 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.5544 ms
2023-06-16 11:44:43.259 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.8859ms
2023-06-16 11:44:43.261 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:43.264 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 23.3765ms
2023-06-16 11:44:43.274 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:43.278 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:43.282 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:43.291 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:43.375 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:43.479 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:43.575 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:43.583 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:43.613 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 322.3963ms
2023-06-16 11:44:43.704 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:43.717 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 443.0102 ms
2023-06-16 11:44:43.724 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 463.0853ms
2023-06-16 11:44:45.738 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:45.744 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:45.748 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:45.755 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:45.759 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:52.414 -04:00 [INF] Executed DbCommand (6,651ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:52.503 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:52.601 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:52.605 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:52.609 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 6850.8049ms
2023-06-16 11:44:52.615 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:52.617 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 6873.4624 ms
2023-06-16 11:44:52.619 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 6881.7255ms
2023-06-16 11:44:57.254 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:57.254 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:57.257 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:57.259 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:57.260 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.8216 ms
2023-06-16 11:44:57.262 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.3106 ms
2023-06-16 11:44:57.264 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.3904ms
2023-06-16 11:44:57.268 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.9188ms
2023-06-16 11:44:57.268 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:57.275 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:57.278 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:57.281 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:57.285 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:57.372 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:57.463 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:57.554 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:57.559 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:57.561 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 276.7293ms
2023-06-16 11:44:57.564 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:44:57.565 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:57.567 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:44:57.570 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 294.4242 ms
2023-06-16 11:44:57.572 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:57.575 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 307.1936ms
2023-06-16 11:44:57.577 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:44:57.588 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:44:57.677 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:44:57.774 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:57.861 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:44:57.865 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:44:57.868 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 280.5185ms
2023-06-16 11:44:57.872 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:44:57.875 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 307.8025 ms
2023-06-16 11:44:57.877 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 313.5968ms
2023-06-16 11:45:07.220 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:45:07.221 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:45:07.223 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:45:07.225 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:45:07.227 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 3.3323 ms
2023-06-16 11:45:07.228 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 3.2728 ms
2023-06-16 11:45:07.230 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 10.0718ms
2023-06-16 11:45:07.235 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 14.2315ms
2023-06-16 11:45:07.235 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:45:07.240 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129
2023-06-16 11:45:07.244 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:45:07.245 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:45:07.247 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:45:07.256 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:45:07.259 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:45:07.260 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:45:07.264 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:45:07.266 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:45:07.359 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:45:08.281 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:45:08.368 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:45:08.371 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 1107.9512ms
2023-06-16 11:45:08.374 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:45:08.377 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 1133.5966 ms
2023-06-16 11:45:08.380 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 1145.0252ms
2023-06-16 11:45:08.581 -04:00 [INF] Executed DbCommand (1,305ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:45:08.747 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:45:08.996 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:45:09.286 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:45:09.372 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:45:09.375 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 2109.7223ms
2023-06-16 11:45:09.379 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:45:09.382 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 2136.7011 ms
2023-06-16 11:45:09.385 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129 - 200 0 - 2145.2241ms
2023-06-16 11:45:43.678 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:45:43.684 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:45:43.686 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8464 ms
2023-06-16 11:45:43.689 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.4759ms
2023-06-16 11:45:43.691 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:45:43.693 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:45:43.696 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:45:43.699 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:45:43.702 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:45:44.100 -04:00 [INF] Executed DbCommand (395ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:45:44.189 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:45:44.192 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:45:44.195 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 493.8103ms
2023-06-16 11:45:44.198 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:45:44.200 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 506.9605 ms
2023-06-16 11:45:44.203 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 511.4148ms
2023-06-16 11:46:05.175 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:05.179 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:05.181 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8529 ms
2023-06-16 11:46:05.183 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.8352ms
2023-06-16 11:46:05.191 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:05.267 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:05.280 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:05.283 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:46:05.289 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:46:05.393 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:46:05.482 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:46:05.485 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:46:05.488 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 200.8368ms
2023-06-16 11:46:05.492 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:05.495 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 228.2354 ms
2023-06-16 11:46:05.497 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 305.9303ms
2023-06-16 11:46:16.807 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:16.807 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:16.809 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:16.810 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:16.812 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.7894 ms
2023-06-16 11:46:16.813 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2251 ms
2023-06-16 11:46:16.815 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.4388ms
2023-06-16 11:46:16.818 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.1253ms
2023-06-16 11:46:16.825 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:16.842 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:16.845 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:16.848 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:46:16.851 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:46:16.939 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:46:17.033 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:46:17.036 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:46:17.038 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 187.805ms
2023-06-16 11:46:17.041 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:17.041 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:17.043 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 201.0856 ms
2023-06-16 11:46:17.046 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:17.050 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 227.9185ms
2023-06-16 11:46:17.052 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:17.057 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:46:17.063 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:46:17.149 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:46:17.237 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:46:17.241 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:46:17.244 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 181.6341ms
2023-06-16 11:46:17.247 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:17.253 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 206.8125 ms
2023-06-16 11:46:17.256 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 214.3203ms
2023-06-16 11:46:54.799 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:54.988 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:54.991 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.9678 ms
2023-06-16 11:46:55.086 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 287.3523ms
2023-06-16 11:46:55.096 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:55.102 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:55.107 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:55.114 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:46:55.501 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:46:55.586 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:46:55.683 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:46:55.708 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:46:55.721 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 221.2002ms
2023-06-16 11:46:55.757 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:55.784 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 681.9657 ms
2023-06-16 11:46:55.787 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 691.3798ms
2023-06-16 11:46:56.891 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:46:56.893 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:46:56.896 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:56.898 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:46:56.901 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:46:56.996 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:46:57.263 -04:00 [INF] Executed DbCommand (261ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:46:57.266 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:46:57.270 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 369.1335ms
2023-06-16 11:46:57.274 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:46:57.276 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 382.9913 ms
2023-06-16 11:46:57.279 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 388.0295ms
2023-06-16 11:47:17.912 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:17.914 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:17.916 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.9135 ms
2023-06-16 11:47:17.919 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.8264ms
2023-06-16 11:47:17.922 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:17.925 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:17.929 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:17.931 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:47:17.936 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:47:18.022 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:47:18.108 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:47:18.111 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:47:18.114 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 178.5838ms
2023-06-16 11:47:18.116 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:18.118 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 192.9617 ms
2023-06-16 11:47:18.120 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 198.2400ms
2023-06-16 11:47:44.461 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:44.477 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:44.502 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 25.0892 ms
2023-06-16 11:47:44.526 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 64.0610ms
2023-06-16 11:47:44.567 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:44.570 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:44.582 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:44.593 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:47:44.604 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:47:44.796 -04:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:47:44.956 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:47:45.032 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:47:45.135 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 531.9697ms
2023-06-16 11:47:45.142 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:45.209 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 638.4099 ms
2023-06-16 11:47:45.212 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 0 - application/json;+charset=utf-8 644.8493ms
2023-06-16 11:47:49.837 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:49.837 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:49.840 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:49.842 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:49.845 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.9190 ms
2023-06-16 11:47:49.845 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.5960 ms
2023-06-16 11:47:49.849 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.6926ms
2023-06-16 11:47:49.855 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:49.857 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.1718ms
2023-06-16 11:47:49.860 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:49.875 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:49.877 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:47:49.881 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:47:49.965 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:47:50.056 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:47:50.059 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:47:50.062 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 181.0334ms
2023-06-16 11:47:50.066 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:47:50.068 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:50.087 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:50.088 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 228.5207 ms
2023-06-16 11:47:50.091 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:50.093 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 238.3759ms
2023-06-16 11:47:50.097 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:47:50.151 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:47:50.254 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:47:50.345 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:47:50.352 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:47:50.390 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 240.6617ms
2023-06-16 11:47:50.394 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:47:50.396 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 308.9190 ms
2023-06-16 11:47:50.400 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 333.1585ms
2023-06-16 11:47:55.990 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:47:55.991 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:47:55.994 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:55.996 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:55.999 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 4.7784 ms
2023-06-16 11:47:56.000 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 4.2968 ms
2023-06-16 11:47:56.003 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 12.3294ms
2023-06-16 11:47:56.005 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:47:56.006 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 15.0540ms
2023-06-16 11:47:56.010 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126
2023-06-16 11:47:56.014 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:56.018 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:47:56.020 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:47:56.021 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:47:56.024 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:47:56.031 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:47:56.036 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:47:56.037 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:47:56.133 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:47:56.453 -04:00 [INF] Executed DbCommand (411ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:47:56.609 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:47:56.622 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:47:56.696 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:47:56.700 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 665.3877ms
2023-06-16 11:47:56.706 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:47:56.708 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 694.1774 ms
2023-06-16 11:47:56.714 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 710.1317ms
2023-06-16 11:47:56.876 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:47:56.959 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:47:56.962 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 926.1805ms
2023-06-16 11:47:56.965 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:47:56.969 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 950.7208 ms
2023-06-16 11:47:56.973 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126 - 200 0 - 962.4425ms
2023-06-16 11:48:26.480 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:48:26.483 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:48:26.489 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:26.489 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:26.494 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3404 ms
2023-06-16 11:48:26.495 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.8859 ms
2023-06-16 11:48:26.498 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.5052ms
2023-06-16 11:48:26.510 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 26.9849ms
2023-06-16 11:48:26.517 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:48:26.530 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:26.533 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:48:26.536 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:48:26.544 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:48:26.629 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:48:26.737 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:48:26.740 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:48:26.745 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 202.4173ms
2023-06-16 11:48:26.749 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:48:26.749 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:48:26.752 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 221.8868 ms
2023-06-16 11:48:26.756 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:26.761 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 243.3241ms
2023-06-16 11:48:26.771 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:48:26.776 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:48:26.779 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:48:26.872 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:48:26.978 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:48:26.982 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:48:26.984 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 206.5352ms
2023-06-16 11:48:26.988 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:48:26.990 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 234.0148 ms
2023-06-16 11:48:26.997 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 247.8928ms
2023-06-16 11:48:33.105 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:48:33.105 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:48:33.107 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:33.109 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:33.110 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 3.1010 ms
2023-06-16 11:48:33.112 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 3.4369 ms
2023-06-16 11:48:33.114 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 9.5418ms
2023-06-16 11:48:33.120 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 14.6067ms
2023-06-16 11:48:33.153 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126
2023-06-16 11:48:33.152 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:48:33.162 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:33.164 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:48:33.168 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:48:33.171 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:48:33.176 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:48:33.179 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:48:33.183 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:48:33.189 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:48:33.270 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:48:33.275 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:48:33.435 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:48:33.449 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:48:33.534 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:48:33.536 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 349.867ms
2023-06-16 11:48:33.539 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:48:33.542 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 377.5376 ms
2023-06-16 11:48:33.544 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 392.5767ms
2023-06-16 11:48:33.687 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:48:33.784 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:48:33.787 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 605.3926ms
2023-06-16 11:48:33.790 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:48:33.794 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 632.2410 ms
2023-06-16 11:48:33.804 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126 - 200 0 - 652.1366ms
2023-06-16 11:49:10.916 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:10.928 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:10.929 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.9138 ms
2023-06-16 11:49:10.932 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.1960ms
2023-06-16 11:49:10.935 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:10.937 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:10.940 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:10.943 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:10.946 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:11.032 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:49:11.124 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:49:11.128 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:49:11.131 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 185.6529ms
2023-06-16 11:49:11.137 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:11.139 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 202.3659 ms
2023-06-16 11:49:11.143 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 208.3277ms
2023-06-16 11:49:18.100 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:18.102 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:18.104 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8284 ms
2023-06-16 11:49:18.106 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.1303ms
2023-06-16 11:49:18.108 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:18.111 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:18.114 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:18.116 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:18.120 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:18.205 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:49:18.293 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:49:18.297 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:49:18.301 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 181.1071ms
2023-06-16 11:49:18.304 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:18.306 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 195.5499 ms
2023-06-16 11:49:18.309 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 200.3840ms
2023-06-16 11:49:26.915 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:26.915 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:26.919 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:26.921 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:26.922 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.6828 ms
2023-06-16 11:49:26.924 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.5592 ms
2023-06-16 11:49:26.927 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.3970ms
2023-06-16 11:49:26.929 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.2248ms
2023-06-16 11:49:26.929 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:26.935 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:26.937 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:26.939 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:26.944 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:27.035 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:49:27.121 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:49:27.125 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:49:27.129 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 186.6493ms
2023-06-16 11:49:27.132 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:27.132 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:27.138 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 202.6328 ms
2023-06-16 11:49:27.140 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:27.142 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 212.2253ms
2023-06-16 11:49:27.143 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:27.148 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:27.153 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:27.238 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:49:27.331 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:49:27.334 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:49:27.337 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 184.0961ms
2023-06-16 11:49:27.339 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:27.342 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 201.7850 ms
2023-06-16 11:49:27.344 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 211.5241ms
2023-06-16 11:49:45.202 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:45.211 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:45.215 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:45.217 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:45.219 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3359 ms
2023-06-16 11:49:45.222 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.6323 ms
2023-06-16 11:49:45.227 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 25.0127ms
2023-06-16 11:49:45.233 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 21.6161ms
2023-06-16 11:49:45.234 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:45.277 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:45.281 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:45.285 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:45.289 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:45.384 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:49:45.478 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:49:45.481 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:49:45.485 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 196.4964ms
2023-06-16 11:49:45.489 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:45.490 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:45.494 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 216.5441 ms
2023-06-16 11:49:45.510 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:45.516 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 282.5102ms
2023-06-16 11:49:45.526 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:45.532 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:45.542 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:45.634 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:49:45.721 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:49:45.732 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:49:45.744 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 202.706ms
2023-06-16 11:49:45.747 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:45.752 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 242.0457 ms
2023-06-16 11:49:45.761 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 271.0998ms
2023-06-16 11:49:53.656 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:49:53.656 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:49:53.658 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:53.660 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:53.661 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 3.2398 ms
2023-06-16 11:49:53.663 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 3.5946 ms
2023-06-16 11:49:53.665 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 9.8556ms
2023-06-16 11:49:53.669 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 13.0311ms
2023-06-16 11:49:53.675 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126
2023-06-16 11:49:53.670 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:49:53.681 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:53.682 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:53.685 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:49:53.691 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:49:53.694 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:49:53.696 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:53.701 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:53.712 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:54.117 -04:00 [INF] Executed DbCommand (403ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:49:54.118 -04:00 [INF] Executed DbCommand (400ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:49:54.297 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:49:54.297 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:49:54.385 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:49:54.387 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 676.2919ms
2023-06-16 11:49:54.390 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:49:54.393 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 710.7422 ms
2023-06-16 11:49:54.396 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 726.2076ms
2023-06-16 11:49:54.547 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:49:54.637 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:49:54.640 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 941.6656ms
2023-06-16 11:49:54.642 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:49:54.644 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 963.3413 ms
2023-06-16 11:49:54.646 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 126 - 200 0 - 971.7600ms
2023-06-16 11:49:54.659 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:54.664 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:54.679 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 15.4976 ms
2023-06-16 11:49:54.683 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 23.6566ms
2023-06-16 11:49:54.695 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:49:54.706 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:49:54.711 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:54.721 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:49:54.728 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:49:54.848 -04:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:49:54.939 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:49:54.943 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:49:54.946 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 218.6907ms
2023-06-16 11:49:54.948 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:49:54.962 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 255.9932 ms
2023-06-16 11:49:54.971 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 275.3148ms
2023-06-16 11:50:00.264 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:50:00.264 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:50:00.266 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:00.268 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:00.269 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 3.1316 ms
2023-06-16 11:50:00.271 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 3.2042 ms
2023-06-16 11:50:00.273 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 10.0550ms
2023-06-16 11:50:00.277 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 12.7940ms
2023-06-16 11:50:00.277 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:50:00.282 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129
2023-06-16 11:50:00.288 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:00.289 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:00.292 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:50:00.293 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:50:00.299 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:00.303 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:50:00.306 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:00.308 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:00.404 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:50:00.405 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:50:00.573 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:50:00.573 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:50:00.662 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:50:00.664 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 358.5419ms
2023-06-16 11:50:00.666 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:50:00.668 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 380.6902 ms
2023-06-16 11:50:00.672 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 395.3919ms
2023-06-16 11:50:00.839 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:50:00.926 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:50:00.930 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 622.1787ms
2023-06-16 11:50:00.933 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:50:00.936 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 646.6505 ms
2023-06-16 11:50:00.938 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 129 - 200 0 - 656.9736ms
2023-06-16 11:50:00.945 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:00.950 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:00.953 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.0877 ms
2023-06-16 11:50:00.956 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.7832ms
2023-06-16 11:50:00.958 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:00.960 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:00.963 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:00.975 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:00.991 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:01.076 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:01.168 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:01.170 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:01.173 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 184.6129ms
2023-06-16 11:50:01.175 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:01.178 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 218.1865 ms
2023-06-16 11:50:01.182 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 223.6821ms
2023-06-16 11:50:13.207 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:13.207 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:13.210 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:13.212 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:13.214 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.2455 ms
2023-06-16 11:50:13.216 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.6558 ms
2023-06-16 11:50:13.225 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.7309ms
2023-06-16 11:50:13.232 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:13.228 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 21.2652ms
2023-06-16 11:50:13.243 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:13.251 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:13.257 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:13.263 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:13.350 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:13.439 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:13.443 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:13.445 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 185.356ms
2023-06-16 11:50:13.448 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:13.448 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:13.450 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 206.3590 ms
2023-06-16 11:50:13.451 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:13.459 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 228.0855ms
2023-06-16 11:50:13.467 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:13.476 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:13.479 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:13.563 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:13.648 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:13.667 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:13.677 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 197.8964ms
2023-06-16 11:50:13.679 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:13.682 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 230.4071 ms
2023-06-16 11:50:13.691 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 243.2287ms
2023-06-16 11:50:21.829 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:21.832 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:21.868 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:21.870 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:21.872 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.1056 ms
2023-06-16 11:50:21.875 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.0297 ms
2023-06-16 11:50:21.879 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 50.1697ms
2023-06-16 11:50:21.883 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:21.884 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 52.3831ms
2023-06-16 11:50:21.890 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:21.899 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:21.902 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:21.905 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:21.992 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:22.086 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:22.089 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:22.092 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 187.8329ms
2023-06-16 11:50:22.098 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:22.099 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:22.101 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 211.0202 ms
2023-06-16 11:50:22.103 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:22.106 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 222.7143ms
2023-06-16 11:50:22.122 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:22.126 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:22.132 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:22.272 -04:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:22.357 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:22.365 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:22.368 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 236.228ms
2023-06-16 11:50:22.370 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:22.372 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 269.4359 ms
2023-06-16 11:50:22.381 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 281.8537ms
2023-06-16 11:50:42.169 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 11:50:42.176 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:42.179 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 3.1327 ms
2023-06-16 11:50:42.182 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 12.7898ms
2023-06-16 11:50:42.190 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187
2023-06-16 11:50:42.194 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:42.197 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:50:42.203 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:50:42.222 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:42.418 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 11:50:43.538 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:50:43.644 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:50:43.647 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1436.8312ms
2023-06-16 11:50:43.649 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:50:43.651 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1457.8998 ms
2023-06-16 11:50:43.654 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187 - 200 0 - 1463.5064ms
2023-06-16 11:50:43.671 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:43.672 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:43.674 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0272 ms
2023-06-16 11:50:43.682 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.9437ms
2023-06-16 11:50:43.685 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:43.700 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:43.706 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:43.711 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:43.721 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:43.841 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:43.937 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:44.023 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:44.026 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:44.031 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 311.3012ms
2023-06-16 11:50:44.033 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:44.040 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 339.7082 ms
2023-06-16 11:50:44.043 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 358.0679ms
2023-06-16 11:50:48.849 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:48.849 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:48.851 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:48.853 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:48.855 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4153 ms
2023-06-16 11:50:48.858 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.1495 ms
2023-06-16 11:50:48.860 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.0082ms
2023-06-16 11:50:48.864 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.1687ms
2023-06-16 11:50:48.865 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:48.870 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:48.872 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:48.876 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:48.883 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:48.973 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:49.060 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:49.147 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:49.150 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:49.152 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 269.9721ms
2023-06-16 11:50:49.154 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:50:49.157 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:49.162 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:50:49.164 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 294.1067 ms
2023-06-16 11:50:49.167 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:49.170 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 304.9640ms
2023-06-16 11:50:49.183 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:50:49.187 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:50:49.282 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:50:49.475 -04:00 [INF] Executed DbCommand (187ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:49.562 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:50:49.566 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:50:49.569 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 382.1333ms
2023-06-16 11:50:49.571 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:50:49.575 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 413.2734 ms
2023-06-16 11:50:49.578 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 423.3216ms
2023-06-16 11:51:04.219 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - -
2023-06-16 11:51:04.219 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - -
2023-06-16 11:51:04.224 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:04.226 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:04.227 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/EditarRecurrencia responded 204 in 3.2373 ms
2023-06-16 11:51:04.229 -04:00 [INF] HTTP OPTIONS /api/Clinica/EditarCitas responded 204 in 3.2697 ms
2023-06-16 11:51:04.231 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/EditarRecurrencia - - - 204 - - 12.3799ms
2023-06-16 11:51:04.239 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 130
2023-06-16 11:51:04.241 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/EditarCitas - - - 204 - - 22.5026ms
2023-06-16 11:51:04.244 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135
2023-06-16 11:51:04.247 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:04.252 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:04.253 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:51:04.255 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:51:04.257 -04:00 [INF] Route matched with {action = "EditarRecurrencia", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EditarRecurrencia(Clinica.Modelos.Recurrencia) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:51:04.259 -04:00 [INF] Route matched with {action = "EditarCitas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditarCitas(Clinica.Modelos.Citas) on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:51:04.262 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:51:04.267 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:51:04.400 -04:00 [INF] Executed DbCommand (130ms) [Parameters=[@__obj_IdEvaluation_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[IdRecurrencia], [r].[Dias], [r].[FechaInicio], [r].[Frecuencia], [r].[IdEvaluation], [r].[Repetir]
FROM [recurrencia] AS [r]
WHERE [r].[IdEvaluation] = @__obj_IdEvaluation_0
2023-06-16 11:51:04.401 -04:00 [INF] Executed DbCommand (126ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[id], [e].[IdConsultorio], [e].[IdPatients], [e].[IdTerapeuta], [e].[IdTherapy], [e].[Price], [e].[Visitas]
FROM [Evaluation] AS [e]
WHERE [e].[id] = @__p_0
2023-06-16 11:51:04.571 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [recurrencia]
WHERE [IdRecurrencia] = @p0;
SELECT @@ROWCOUNT;
2023-06-16 11:51:04.571 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Evaluation] SET [IdConsultorio] = @p0, [IdPatients] = @p1, [IdTerapeuta] = @p2, [IdTherapy] = @p3, [Price] = @p4, [Visitas] = @p5
WHERE [id] = @p6;
SELECT @@ROWCOUNT;
2023-06-16 11:51:04.660 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:51:04.663 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.EditarCitas (Clinica) in 396.4584ms
2023-06-16 11:51:04.666 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.EditarCitas (Clinica)'
2023-06-16 11:51:04.670 -04:00 [INF] HTTP POST /api/Clinica/EditarCitas responded 200 in 418.1062 ms
2023-06-16 11:51:04.674 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Clinica/EditarCitas application/json 135 - 200 0 - 429.5026ms
2023-06-16 11:51:04.820 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:51:04.905 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:51:04.909 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica) in 647.7708ms
2023-06-16 11:51:04.911 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.EditarRecurrencia (Clinica)'
2023-06-16 11:51:04.913 -04:00 [INF] HTTP POST /api/traerpaciente/EditarRecurrencia responded 200 in 666.4998 ms
2023-06-16 11:51:04.916 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/EditarRecurrencia application/json 130 - 200 0 - 677.0412ms
2023-06-16 11:51:04.924 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:51:04.927 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:04.929 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0525 ms
2023-06-16 11:51:04.935 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.0770ms
2023-06-16 11:51:04.939 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:51:04.942 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:04.957 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:51:04.963 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:51:04.969 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:51:05.054 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:51:05.146 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:51:05.235 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:51:05.238 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:51:05.240 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 272.5613ms
2023-06-16 11:51:05.250 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:51:05.252 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 310.4578 ms
2023-06-16 11:51:05.255 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 316.4355ms
2023-06-16 11:51:17.242 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:51:17.242 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:51:17.245 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:17.248 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:17.255 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.4299 ms
2023-06-16 11:51:17.259 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.7420 ms
2023-06-16 11:51:17.261 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.3702ms
2023-06-16 11:51:17.264 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 20.5348ms
2023-06-16 11:51:17.264 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:51:17.273 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:17.276 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:51:17.278 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:51:17.287 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:51:17.372 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:51:17.458 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:51:17.547 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:51:17.550 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:51:17.553 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 266.8952ms
2023-06-16 11:51:17.556 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:51:17.556 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:51:17.559 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 285.4507 ms
2023-06-16 11:51:17.564 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:51:17.570 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 306.4477ms
2023-06-16 11:51:17.571 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:51:17.576 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:51:17.588 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:51:17.696 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:51:17.791 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:51:17.886 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:51:17.892 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:51:17.894 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 306.9847ms
2023-06-16 11:51:17.898 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:51:17.915 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 350.9230 ms
2023-06-16 11:51:17.924 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 367.9961ms
2023-06-16 11:56:21.844 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 11:56:22.392 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 11:56:22.398 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 11:56:22.403 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 11:56:22.405 -04:00 [INF] Hosting environment: Development
2023-06-16 11:56:22.408 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 11:56:24.958 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 11:56:25.735 -04:00 [INF] HTTP GET / responded 404 in 649.8056 ms
2023-06-16 11:56:25.765 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 814.0858ms
2023-06-16 11:56:37.187 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 11:56:37.198 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:56:37.201 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 7.9271 ms
2023-06-16 11:56:37.205 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 17.6346ms
2023-06-16 11:56:37.210 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 11:56:37.239 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:56:37.249 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:56:37.296 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 11:56:39.053 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:56:40.847 -04:00 [INF] Executed DbCommand (174ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 11:56:41.180 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:56:41.213 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 3902.9412ms
2023-06-16 11:56:41.226 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 11:56:41.229 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 3990.7776 ms
2023-06-16 11:56:41.244 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 4034.7250ms
2023-06-16 11:56:50.242 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 11:56:50.246 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:56:50.248 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.5738 ms
2023-06-16 11:56:50.250 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 8.1233ms
2023-06-16 11:56:50.253 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 11:56:50.256 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:56:50.381 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 11:56:50.386 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:56:50.434 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:56:51.116 -04:00 [ERR] Failed executing DbCommand (101ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:56:51.269 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 11:56:58.642 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 8253.9742ms
2023-06-16 11:56:58.647 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 11:56:58.650 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 8394.4432 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 184
   at lambda_method77(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 11:56:58.685 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 184
   at lambda_method77(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 11:56:58.707 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 500 - text/plain;+charset=utf-8 8453.2724ms
2023-06-16 11:57:30.483 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:57:30.490 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:57:30.497 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:30.507 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.9380 ms
2023-06-16 11:57:30.510 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 26.5657ms
2023-06-16 11:57:30.514 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:30.516 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.4861 ms
2023-06-16 11:57:30.521 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:57:30.521 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 31.3188ms
2023-06-16 11:57:30.525 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:30.527 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:57:30.535 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:57:30.602 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:57:30.791 -04:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:57:30.838 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:57:30.843 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 305.1668ms
2023-06-16 11:57:30.845 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:57:30.851 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:30.851 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:57:30.854 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:57:30.864 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:57:30.866 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 343.2666 ms
2023-06-16 11:57:30.870 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:57:30.878 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 357.2910ms
2023-06-16 11:57:30.969 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:57:30.972 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:57:30.974 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 105.658ms
2023-06-16 11:57:30.976 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:57:30.978 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 126.9219 ms
2023-06-16 11:57:30.987 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 141.5608ms
2023-06-16 11:57:52.734 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 11:57:52.741 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:52.743 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 1.9563 ms
2023-06-16 11:57:52.745 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 11.3441ms
2023-06-16 11:57:52.749 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 207
2023-06-16 11:57:52.751 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:52.757 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:57:52.761 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:57:52.788 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:57:53.064 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 11:57:53.472 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:57:53.746 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:57:54.016 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:57:54.113 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:57:54.116 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1352.6593ms
2023-06-16 11:57:54.119 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:57:54.124 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1372.1628 ms
2023-06-16 11:57:54.126 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 207 - 200 0 - 1376.7598ms
2023-06-16 11:57:55.188 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:57:55.189 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:55.191 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8893 ms
2023-06-16 11:57:55.194 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 5.7843ms
2023-06-16 11:57:55.197 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:57:55.199 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:57:55.202 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:57:55.203 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:57:55.206 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:57:55.295 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:57:55.459 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:57:55.549 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:57:55.636 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:57:55.639 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:57:55.671 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 465.492ms
2023-06-16 11:57:55.673 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:57:55.676 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 477.4355 ms
2023-06-16 11:57:55.687 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 489.6804ms
2023-06-16 11:58:08.261 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 11:58:08.264 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:08.266 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.0054 ms
2023-06-16 11:58:08.270 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 9.1160ms
2023-06-16 11:58:08.273 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 186
2023-06-16 11:58:08.275 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:08.280 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:58:08.282 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:58:08.288 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:58:08.458 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 11:58:08.736 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:58:08.821 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 11:58:08.823 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 536.5908ms
2023-06-16 11:58:08.826 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 11:58:08.828 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 552.6171 ms
2023-06-16 11:58:08.830 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 186 - 200 0 - 557.0280ms
2023-06-16 11:58:08.843 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:58:08.847 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:08.860 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 12.9855 ms
2023-06-16 11:58:08.863 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.6218ms
2023-06-16 11:58:08.869 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:58:08.872 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:08.877 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:58:08.882 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:58:08.888 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:58:08.976 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:58:09.062 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:58:09.065 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:58:09.075 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 187.8998ms
2023-06-16 11:58:09.077 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:58:09.079 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 207.5154 ms
2023-06-16 11:58:09.082 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 212.9611ms
2023-06-16 11:58:19.563 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:58:19.563 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:58:19.568 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:19.568 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:19.570 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.6706 ms
2023-06-16 11:58:19.572 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.6730 ms
2023-06-16 11:58:19.574 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.5908ms
2023-06-16 11:58:19.579 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:58:19.579 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.9132ms
2023-06-16 11:58:19.584 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:19.588 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:58:19.591 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:58:19.600 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:58:19.683 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:58:19.772 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:58:19.776 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:58:19.780 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 180.3887ms
2023-06-16 11:58:19.782 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:58:19.783 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 11:58:19.786 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 201.7858 ms
2023-06-16 11:58:19.788 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:19.790 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 211.4718ms
2023-06-16 11:58:19.804 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:58:19.806 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 11:58:19.815 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:58:19.906 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 11:58:19.996 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 11:58:20.000 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 11:58:20.003 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 189.6653ms
2023-06-16 11:58:20.010 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 11:58:20.017 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 229.4886 ms
2023-06-16 11:58:20.025 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 241.8987ms
2023-06-16 11:58:30.750 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 11:58:30.753 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:30.755 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.0719 ms
2023-06-16 11:58:30.758 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 7.9108ms
2023-06-16 11:58:30.760 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 11:58:30.765 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:30.769 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 11:58:30.771 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:58:30.774 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:58:30.951 -04:00 [ERR] Failed executing DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:58:31.041 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 11:58:46.386 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 15612.8264ms
2023-06-16 11:58:46.389 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 11:58:46.392 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 15627.4050 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 184
   at lambda_method77(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 11:58:46.405 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:ebe5a963-1119-409b-9322-d6dc705e98de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 184
   at lambda_method77(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 11:58:46.419 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 500 - text/plain;+charset=utf-8 15658.9737ms
2023-06-16 11:58:55.686 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 11:58:55.688 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:55.691 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 3.0114 ms
2023-06-16 11:58:55.711 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 24.7193ms
2023-06-16 11:58:55.731 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 11:58:55.743 -04:00 [INF] CORS policy execution successful.
2023-06-16 11:58:55.748 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 11:58:55.751 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 11:58:55.758 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 11:58:56.017 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:58:56.304 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:58:56.594 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 11:58:56.687 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 11:58:56.696 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 939.7332ms
2023-06-16 11:58:56.702 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 11:58:56.709 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 965.7601 ms
2023-06-16 11:58:56.713 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 200 - application/json;+charset=utf-8 982.3534ms
2023-06-16 12:02:15.307 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:02:15.661 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:02:15.664 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:02:15.672 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:02:15.674 -04:00 [INF] Hosting environment: Development
2023-06-16 12:02:15.676 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:02:17.887 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:02:18.193 -04:00 [INF] HTTP GET / responded 404 in 118.9801 ms
2023-06-16 12:02:18.214 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 333.6597ms
2023-06-16 12:03:19.994 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:03:20.002 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:03:20.005 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 6.8122 ms
2023-06-16 12:03:20.008 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 14.7913ms
2023-06-16 12:03:20.016 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:03:20.019 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:03:20.311 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:03:20.337 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:03:21.877 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:03:23.746 -04:00 [INF] Executed DbCommand (486ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:03:24.162 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:03:24.441 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:03:24.544 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 12:03:24.560 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 4215.5528ms
2023-06-16 12:03:24.564 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:03:24.566 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 4547.5812 ms
2023-06-16 12:03:24.582 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 200 - application/json;+charset=utf-8 4565.4653ms
2023-06-16 12:04:42.614 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:04:42.614 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:04:42.642 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:04:42.642 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:04:42.645 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.5704 ms
2023-06-16 12:04:42.646 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.1153 ms
2023-06-16 12:04:42.649 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 36.7674ms
2023-06-16 12:04:42.658 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:04:42.658 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 46.7366ms
2023-06-16 12:04:42.673 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:04:42.677 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:04:42.687 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:04:42.760 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:04:43.448 -04:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:04:43.496 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:04:43.507 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 817.9325ms
2023-06-16 12:04:43.511 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:04:43.520 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 847.2579 ms
2023-06-16 12:04:43.528 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 870.2870ms
2023-06-16 12:04:45.176 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:04:45.178 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:04:45.180 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:04:45.182 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:04:45.194 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:04:45.324 -04:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:04:45.329 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:04:45.332 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 147.6529ms
2023-06-16 12:04:45.335 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:04:45.338 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 159.5209 ms
2023-06-16 12:04:45.341 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 165.0651ms
2023-06-16 12:05:01.226 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 12:05:01.231 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:05:01.232 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 1.8711 ms
2023-06-16 12:05:01.235 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.0915ms
2023-06-16 12:05:01.238 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 192
2023-06-16 12:05:01.239 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:05:01.241 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:05:01.245 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:05:01.265 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:05:01.528 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 12:05:01.865 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:05:02.135 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:05:02.261 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 12:05:02.263 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1015.5394ms
2023-06-16 12:05:02.265 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:05:02.268 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1028.6928 ms
2023-06-16 12:05:02.271 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 192 - 200 0 - 1033.1647ms
2023-06-16 12:05:02.298 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:05:02.304 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:05:02.310 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.4446 ms
2023-06-16 12:05:02.313 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.2530ms
2023-06-16 12:05:02.320 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:05:02.337 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:05:02.346 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:05:02.349 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:05:02.359 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:05:02.453 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:05:02.739 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:05:02.835 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:05:02.840 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:05:02.877 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 518.501ms
2023-06-16 12:05:02.879 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:05:02.881 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 543.8638 ms
2023-06-16 12:05:02.888 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 572.9413ms
2023-06-16 12:07:06.442 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:07:06.442 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:07:06.444 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:06.446 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:06.448 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.7290 ms
2023-06-16 12:07:06.450 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3334 ms
2023-06-16 12:07:06.452 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.4747ms
2023-06-16 12:07:06.458 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.4371ms
2023-06-16 12:07:06.465 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:07:06.473 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:06.481 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:01:40 p. m.', Current time: '16/6/2023 4:07:06 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 12:07:06.539 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:01:40 p. m.', Current time: '16/6/2023 4:07:06 p. m.'.
2023-06-16 12:07:06.541 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:06.544 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:07:06.555 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:07:06.647 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:07:06.757 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:06.852 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:06.855 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:07:06.857 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 303.2172ms
2023-06-16 12:07:06.862 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:07:06.864 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:06.867 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:06.869 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 396.0082 ms
2023-06-16 12:07:06.872 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:01:40 p. m.', Current time: '16/6/2023 4:07:06 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 12:07:06.874 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 408.3927ms
2023-06-16 12:07:06.897 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:01:40 p. m.', Current time: '16/6/2023 4:07:06 p. m.'.
2023-06-16 12:07:06.912 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:06.915 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:07:06.929 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:07:07.077 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:07:07.168 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:07.262 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:07.265 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:07:07.267 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 338.383ms
2023-06-16 12:07:07.269 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:07.271 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 404.7173 ms
2023-06-16 12:07:07.274 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 411.0807ms
2023-06-16 12:07:17.548 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:07:17.552 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:17.554 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:17.558 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:07:17.562 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:07:17.666 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:07:17.779 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:17.891 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:18.134 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:07:18.138 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 576.4406ms
2023-06-16 12:07:18.148 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:18.149 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:07:18.153 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 601.5348 ms
2023-06-16 12:07:18.154 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:18.164 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 616.3832ms
2023-06-16 12:07:18.167 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:18.194 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:07:18.200 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:07:18.327 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:07:18.427 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:18.519 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:07:18.528 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:07:18.537 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 338.0711ms
2023-06-16 12:07:18.552 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:18.558 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 403.6339 ms
2023-06-16 12:07:18.567 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 417.6949ms
2023-06-16 12:07:31.868 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:07:31.871 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:31.873 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:31.875 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:07:31.879 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:07:31.969 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:07:31.971 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:07:31.974 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 95.2974ms
2023-06-16 12:07:31.976 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:07:31.978 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 107.5636 ms
2023-06-16 12:07:31.988 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 119.9566ms
2023-06-16 12:07:48.606 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:07:49.039 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:07:49.047 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:07:49.055 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:07:49.057 -04:00 [INF] Hosting environment: Development
2023-06-16 12:07:49.059 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:07:51.020 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:07:51.267 -04:00 [INF] HTTP GET / responded 404 in 132.9328 ms
2023-06-16 12:07:51.287 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 271.2498ms
2023-06-16 12:07:56.198 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 12:07:56.209 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:56.215 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 10.8083 ms
2023-06-16 12:07:56.217 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 19.1089ms
2023-06-16 12:07:56.221 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 12:07:56.224 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:07:56.231 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 12:07:56.261 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 12:07:57.702 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:07:59.297 -04:00 [INF] Executed DbCommand (183ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 12:07:59.662 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:07:59.683 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 3411.7136ms
2023-06-16 12:07:59.686 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 12:07:59.692 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 3468.5319 ms
2023-06-16 12:07:59.706 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 3485.3449ms
2023-06-16 12:08:01.190 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:01.190 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:01.195 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:01.195 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:01.197 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.2735 ms
2023-06-16 12:08:01.199 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.3143 ms
2023-06-16 12:08:01.203 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.7130ms
2023-06-16 12:08:01.206 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:01.206 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.1615ms
2023-06-16 12:08:01.219 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:01.333 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:01.342 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:08:01.361 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:08:01.894 -04:00 [INF] Executed DbCommand (436ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:08:01.940 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:08:01.951 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 606.0811ms
2023-06-16 12:08:01.955 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:01.958 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:01.963 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:01.966 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:01.969 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:08:01.970 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 750.8910 ms
2023-06-16 12:08:01.980 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 774.3453ms
2023-06-16 12:08:02.038 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:08:02.127 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:08:02.131 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:08:02.134 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 161.247ms
2023-06-16 12:08:02.136 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:02.139 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 175.2393 ms
2023-06-16 12:08:02.143 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 185.1019ms
2023-06-16 12:08:06.660 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:06.662 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:06.664 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:06.666 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:08:06.670 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:08:06.755 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:08:06.758 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:08:06.761 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 91.4222ms
2023-06-16 12:08:06.764 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:06.764 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:06.766 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 104.0250 ms
2023-06-16 12:08:06.769 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:06.771 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 112.0077ms
2023-06-16 12:08:06.774 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:06.780 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:08:06.785 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:08:07.173 -04:00 [INF] Executed DbCommand (384ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:08:07.177 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:08:07.182 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 397.5764ms
2023-06-16 12:08:07.185 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:07.189 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 419.5911 ms
2023-06-16 12:08:07.194 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 430.4255ms
2023-06-16 12:08:35.557 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 12:08:35.567 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:35.569 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.3637 ms
2023-06-16 12:08:35.572 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 14.9097ms
2023-06-16 12:08:35.582 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 12:08:35.585 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:35.588 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:08:35.597 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:08:35.626 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:08:36.077 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 12:08:36.471 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:08:36.578 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 12:08:36.581 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 978.3726ms
2023-06-16 12:08:36.584 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:08:36.585 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1000.2284 ms
2023-06-16 12:08:36.590 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 1007.8105ms
2023-06-16 12:08:36.596 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:36.599 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:36.601 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0218 ms
2023-06-16 12:08:36.605 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 8.3239ms
2023-06-16 12:08:36.608 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:08:36.610 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:08:36.613 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:36.615 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:08:36.620 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:08:36.704 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:08:36.900 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:08:36.905 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:08:36.938 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 319.3053ms
2023-06-16 12:08:36.940 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:08:36.942 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 331.9811 ms
2023-06-16 12:08:36.951 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 342.6121ms
2023-06-16 12:09:08.151 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:09:08.156 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:08.159 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.0580 ms
2023-06-16 12:09:08.162 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.9856ms
2023-06-16 12:09:08.166 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:09:08.169 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:08.173 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:09:08.177 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:09:08.181 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:09:08.270 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:09:08.276 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:09:08.280 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 100.8328ms
2023-06-16 12:09:08.287 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:09:08.293 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 123.8318 ms
2023-06-16 12:09:08.297 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 130.0767ms
2023-06-16 12:09:14.243 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 12:09:14.245 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:14.250 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 5.2922 ms
2023-06-16 12:09:14.253 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.1519ms
2023-06-16 12:09:14.266 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 12:09:14.275 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:14.278 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:09:14.284 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:09:14.294 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:09:14.472 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 12:09:14.752 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:09:14.846 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 12:09:14.848 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 554.7154ms
2023-06-16 12:09:14.850 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:09:14.852 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 576.9904 ms
2023-06-16 12:09:14.855 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 588.6323ms
2023-06-16 12:09:14.861 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:09:14.864 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:14.868 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.8451 ms
2023-06-16 12:09:14.871 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.6161ms
2023-06-16 12:09:14.872 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:09:14.881 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:14.884 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:09:14.887 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:09:14.894 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:09:15.001 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:09:15.109 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:09:15.156 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:09:15.160 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 268.6867ms
2023-06-16 12:09:15.170 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:09:15.174 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 293.2693 ms
2023-06-16 12:09:15.184 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 311.5469ms
2023-06-16 12:09:28.213 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:09:28.215 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:28.217 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.1036 ms
2023-06-16 12:09:28.220 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 7.6573ms
2023-06-16 12:09:28.223 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:09:28.225 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:09:28.228 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:09:28.231 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:09:28.270 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:09:28.540 -04:00 [ERR] Failed executing DbCommand (91ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:09:28.696 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8b2fe9b5-2ff8-4b0a-9c85-ac20f762bea2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8b2fe9b5-2ff8-4b0a-9c85-ac20f762bea2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 12:09:37.684 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 9450.4618ms
2023-06-16 12:09:37.688 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:09:37.692 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 9466.6179 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8b2fe9b5-2ff8-4b0a-9c85-ac20f762bea2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 184
   at lambda_method238(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 12:09:37.724 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8b2fe9b5-2ff8-4b0a-9c85-ac20f762bea2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 184
   at lambda_method238(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 12:09:37.746 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 500 - text/plain;+charset=utf-8 9522.4545ms
2023-06-16 12:10:08.613 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:10:08.618 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:10:08.620 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.0137 ms
2023-06-16 12:10:08.623 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 10.6945ms
2023-06-16 12:10:08.625 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:10:08.630 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:10:08.633 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:10:08.635 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:10:08.638 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:10:08.815 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:10:09.082 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:10:09.328 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:10:09.419 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 12:10:09.453 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 815.9265ms
2023-06-16 12:10:09.464 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:10:09.466 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 835.9734 ms
2023-06-16 12:10:09.470 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 200 - application/json;+charset=utf-8 844.9593ms
2023-06-16 12:10:30.348 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:10:30.349 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:10:30.357 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:10:30.361 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:10:30.370 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 13.4437 ms
2023-06-16 12:10:30.374 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 13.2726 ms
2023-06-16 12:10:30.380 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 31.3003ms
2023-06-16 12:10:30.392 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 42.7124ms
2023-06-16 12:10:30.398 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:10:30.419 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:10:30.430 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:10:30.433 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:10:30.442 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:10:30.540 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:10:30.640 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:30.739 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:30.827 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:30.920 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:30.924 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:10:30.926 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 485.1136ms
2023-06-16 12:10:30.930 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:10:30.930 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:10:30.932 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 513.0647 ms
2023-06-16 12:10:30.934 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:10:30.942 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 543.9883ms
2023-06-16 12:10:30.944 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:10:30.956 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:10:30.962 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:10:31.056 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:10:31.163 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:31.269 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:31.357 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:31.451 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:10:31.455 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:10:31.458 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 497.1674ms
2023-06-16 12:10:31.462 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:10:31.465 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 531.5074 ms
2023-06-16 12:10:31.479 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 549.3943ms
2023-06-16 12:12:15.387 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:12:15.391 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:12:15.402 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:12:15.404 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:12:15.407 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.1568 ms
2023-06-16 12:12:15.409 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.0545 ms
2023-06-16 12:12:15.413 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 25.7409ms
2023-06-16 12:12:15.415 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 27.3459ms
2023-06-16 12:12:15.418 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:12:15.438 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:12:15.441 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:12:15.443 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:12:15.446 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:12:15.548 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:12:15.645 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:15.738 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:15.839 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:15.926 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:15.929 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:12:15.932 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 486.3809ms
2023-06-16 12:12:15.935 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:12:15.935 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:12:15.937 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 499.3211 ms
2023-06-16 12:12:15.939 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:12:15.943 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 526.1807ms
2023-06-16 12:12:15.945 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:12:15.964 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:12:15.968 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:12:16.070 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:12:16.255 -04:00 [INF] Executed DbCommand (174ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:16.339 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:16.425 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:16.521 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:12:16.527 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:12:16.532 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 564.4025ms
2023-06-16 12:12:16.535 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:12:16.542 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 603.0398 ms
2023-06-16 12:12:16.546 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 611.0950ms
2023-06-16 12:17:18.556 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:18.557 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:18.561 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:18.563 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:18.568 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.1850 ms
2023-06-16 12:17:18.570 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.0220 ms
2023-06-16 12:17:18.573 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.2760ms
2023-06-16 12:17:18.575 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:18.575 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.7577ms
2023-06-16 12:17:18.579 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:18.584 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:18.589 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:17:18.592 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:17:18.696 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:17:18.781 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:18.868 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:18.967 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:19.057 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:19.060 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:17:19.063 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 471.689ms
2023-06-16 12:17:19.065 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:19.066 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:19.068 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 488.2182 ms
2023-06-16 12:17:19.069 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:19.073 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 497.1158ms
2023-06-16 12:17:19.083 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:19.094 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:17:19.099 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:17:19.208 -04:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:17:19.376 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:19.465 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:19.557 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:19.650 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:17:19.653 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:17:19.655 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 557.4133ms
2023-06-16 12:17:19.658 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:19.660 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 590.8996 ms
2023-06-16 12:17:19.662 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 596.5286ms
2023-06-16 12:17:21.981 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:21.982 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:21.985 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:21.987 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:17:21.990 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:17:22.075 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:17:22.079 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:17:22.082 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 92.252ms
2023-06-16 12:17:22.084 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:22.088 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 105.5452 ms
2023-06-16 12:17:22.093 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 112.4926ms
2023-06-16 12:17:28.589 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:28.589 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:28.598 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:28.601 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:28.603 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.7063 ms
2023-06-16 12:17:28.606 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.4212 ms
2023-06-16 12:17:28.610 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 21.2718ms
2023-06-16 12:17:28.633 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:28.617 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 27.8028ms
2023-06-16 12:17:28.639 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:28.644 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:28.646 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:17:28.650 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:17:28.735 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:17:28.741 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:17:28.745 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 94.983ms
2023-06-16 12:17:28.754 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:28.757 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:28.760 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:28.762 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 123.6445 ms
2023-06-16 12:17:28.770 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:28.772 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 143.8124ms
2023-06-16 12:17:28.776 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:17:28.793 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:17:28.886 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:17:28.890 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:17:28.893 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 100.6004ms
2023-06-16 12:17:28.895 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:28.901 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 140.7394 ms
2023-06-16 12:17:28.907 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 153.3242ms
2023-06-16 12:17:45.140 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:45.140 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:45.146 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:45.154 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:45.156 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 10.0850 ms
2023-06-16 12:17:45.159 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.1403 ms
2023-06-16 12:17:45.162 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 22.0175ms
2023-06-16 12:17:45.164 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 24.4357ms
2023-06-16 12:17:45.164 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:45.169 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:45.171 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:45.176 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:17:45.180 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:17:45.267 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:17:45.271 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:17:45.275 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 95.0861ms
2023-06-16 12:17:45.278 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:45.279 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:17:45.281 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 111.9006 ms
2023-06-16 12:17:45.285 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:17:45.288 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 123.8353ms
2023-06-16 12:17:45.291 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:45.314 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:17:45.320 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:17:45.426 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:17:45.429 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:17:45.431 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 111.9122ms
2023-06-16 12:17:45.435 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:17:45.438 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 153.7795 ms
2023-06-16 12:17:45.442 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 163.4623ms
2023-06-16 12:18:04.156 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 12:18:04.158 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:18:04.161 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.4628 ms
2023-06-16 12:18:04.163 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.5532ms
2023-06-16 12:18:04.166 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 12:18:04.168 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:18:04.179 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:12:59 p. m.', Current time: '16/6/2023 4:18:04 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 12:18:04.186 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:12:59 p. m.', Current time: '16/6/2023 4:18:04 p. m.'.
2023-06-16 12:18:04.188 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:18:04.203 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:18:04.206 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:18:04.682 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 12:18:04.940 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:18:05.025 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 12:18:05.028 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 822.6519ms
2023-06-16 12:18:05.031 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:18:05.036 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 867.6953 ms
2023-06-16 12:18:05.039 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 872.8396ms
2023-06-16 12:18:05.059 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:18:05.074 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:18:05.079 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.6975 ms
2023-06-16 12:18:05.082 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 23.2951ms
2023-06-16 12:18:05.094 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:18:05.096 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:18:05.099 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:12:59 p. m.', Current time: '16/6/2023 4:18:05 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 12:18:05.109 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 4:12:59 p. m.', Current time: '16/6/2023 4:18:05 p. m.'.
2023-06-16 12:18:05.111 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:18:05.114 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:18:05.120 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:18:05.208 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:18:05.293 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:18:05.296 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:18:05.299 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 180.3101ms
2023-06-16 12:18:05.309 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:18:05.311 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 215.2390 ms
2023-06-16 12:18:05.325 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 231.5835ms
2023-06-16 12:19:11.968 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 12:19:11.971 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:11.973 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 1.8847 ms
2023-06-16 12:19:11.975 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 7.2286ms
2023-06-16 12:19:11.978 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 12:19:11.982 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:11.985 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 12:19:11.988 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 12:19:11.992 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:19:12.098 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 12:19:12.102 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:19:12.106 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 114.7544ms
2023-06-16 12:19:12.108 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 12:19:12.111 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 128.6228 ms
2023-06-16 12:19:12.117 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 138.7288ms
2023-06-16 12:19:20.182 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:19:20.184 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:20.187 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.5104 ms
2023-06-16 12:19:20.190 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 8.1520ms
2023-06-16 12:19:20.193 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:19:20.197 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:20.199 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:19:20.203 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:19:20.207 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:19:20.392 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:19:20.725 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:19:21.000 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:19:21.085 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 12:19:21.088 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 881.3166ms
2023-06-16 12:19:21.090 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:19:21.093 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 896.0650 ms
2023-06-16 12:19:21.098 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 200 - application/json;+charset=utf-8 905.3884ms
2023-06-16 12:19:37.447 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:19:37.447 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:19:37.457 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:37.466 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:37.468 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 11.7627 ms
2023-06-16 12:19:37.471 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.9997 ms
2023-06-16 12:19:37.474 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 26.9548ms
2023-06-16 12:19:37.479 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 31.7883ms
2023-06-16 12:19:37.479 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:19:37.485 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:37.488 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:19:37.494 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:19:37.497 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:19:37.587 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:19:37.699 -04:00 [INF] Executed DbCommand (106ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:37.786 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:37.873 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:37.961 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:37.964 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:19:37.967 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 470.6869ms
2023-06-16 12:19:37.971 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:19:37.971 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:19:37.973 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 488.5327 ms
2023-06-16 12:19:37.977 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:19:37.981 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 501.1483ms
2023-06-16 12:19:37.982 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:19:38.014 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:19:38.024 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:19:38.126 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:19:38.215 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:38.301 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:38.387 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:38.478 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:19:38.503 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:19:38.513 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 490.0942ms
2023-06-16 12:19:38.522 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:19:38.558 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 580.9462 ms
2023-06-16 12:19:38.572 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 601.7044ms
2023-06-16 12:42:15.908 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:42:16.336 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:42:16.341 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:42:16.348 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:42:16.351 -04:00 [INF] Hosting environment: Development
2023-06-16 12:42:16.352 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:42:18.667 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:42:18.920 -04:00 [INF] HTTP GET / responded 404 in 157.2099 ms
2023-06-16 12:42:18.945 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 281.8599ms
2023-06-16 12:42:51.140 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:42:51.152 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:42:51.175 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:42:51.219 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:42:52.997 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:42:54.951 -04:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:42:55.362 -04:00 [INF] Executed DbCommand (141ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:42:55.404 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:42:55.504 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4273.015ms
2023-06-16 12:42:55.514 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:42:55.525 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:42:55.544 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:42:55.550 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:42:55.551 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4403.6108 ms
2023-06-16 12:42:55.554 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:42:55.567 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 4426.9561ms
2023-06-16 12:42:55.572 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:42:55.687 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:42:55.783 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:42:55.786 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:42:55.792 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 221.9988ms
2023-06-16 12:42:55.798 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:42:55.802 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 259.0324 ms
2023-06-16 12:42:55.806 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 292.4528ms
2023-06-16 12:43:04.166 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:43:04.170 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:43:04.173 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 3.0239 ms
2023-06-16 12:43:04.176 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 10.8179ms
2023-06-16 12:43:04.180 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:43:04.185 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:43:04.192 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:43:04.218 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:43:04.385 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:43:04.840 -04:00 [INF] Executed DbCommand (108ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:05.185 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:05.451 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:05.730 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:05.992 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:06.260 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:06.556 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:06.865 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:07.131 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:07.726 -04:00 [INF] Executed DbCommand (398ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:07.992 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:08.281 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:08.545 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:08.821 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:09.095 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:09.365 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:09.648 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:09.937 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:10.200 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:10.469 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:10.735 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:11.014 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:11.279 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:11.571 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:11.839 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:12.124 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:12.399 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:12.689 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:12.988 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:13.327 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:13.597 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:13.875 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:14.154 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:14.549 -04:00 [INF] Executed DbCommand (114ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:14.827 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:43:14.916 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 12:43:14.922 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 10700.5817ms
2023-06-16 12:43:14.924 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:43:14.927 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 10741.9553 ms
2023-06-16 12:43:14.935 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 200 - application/json;+charset=utf-8 10755.1849ms
2023-06-16 12:46:22.853 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:46:23.220 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:46:23.225 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:46:23.232 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:46:23.235 -04:00 [INF] Hosting environment: Development
2023-06-16 12:46:23.244 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:46:25.452 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:46:25.808 -04:00 [INF] HTTP GET / responded 404 in 132.2640 ms
2023-06-16 12:46:25.855 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 384.2881ms
2023-06-16 12:46:31.789 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 12:46:31.800 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:31.813 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 17.0334 ms
2023-06-16 12:46:31.817 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 27.3880ms
2023-06-16 12:46:31.824 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 12:46:31.830 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:31.839 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 12:46:31.876 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 12:46:33.435 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:46:35.053 -04:00 [INF] Executed DbCommand (164ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 12:46:35.452 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:46:35.478 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 3591.4314ms
2023-06-16 12:46:35.486 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 12:46:35.488 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 3658.8684 ms
2023-06-16 12:46:35.504 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 3680.1121ms
2023-06-16 12:46:35.676 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:46:35.676 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:46:35.679 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:35.683 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:35.683 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.8891 ms
2023-06-16 12:46:35.685 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.2139 ms
2023-06-16 12:46:35.687 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.3460ms
2023-06-16 12:46:35.691 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.4880ms
2023-06-16 12:46:35.691 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:46:35.737 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:35.870 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:46:35.882 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:46:35.928 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:46:36.229 -04:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:46:36.281 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:46:36.307 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 390.1598ms
2023-06-16 12:46:36.312 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:46:36.320 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:46:36.325 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:36.330 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:46:36.336 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 599.2274 ms
2023-06-16 12:46:36.340 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:46:36.351 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 659.8361ms
2023-06-16 12:46:36.430 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:46:36.522 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:46:36.528 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:46:36.533 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 169.4534ms
2023-06-16 12:46:36.536 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:46:36.538 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 212.7757 ms
2023-06-16 12:46:36.541 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 220.7570ms
2023-06-16 12:46:53.226 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 12:46:53.231 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:53.233 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.4700 ms
2023-06-16 12:46:53.239 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 14.0725ms
2023-06-16 12:46:53.248 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188
2023-06-16 12:46:53.256 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:53.261 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:46:53.267 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:46:53.306 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:46:53.764 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 12:46:54.184 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:46:54.314 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 12:46:54.317 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1044.382ms
2023-06-16 12:46:54.320 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:46:54.323 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1066.8648 ms
2023-06-16 12:46:54.331 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 188 - 200 0 - 1082.9264ms
2023-06-16 12:46:54.375 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:46:54.412 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:54.426 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 14.2967 ms
2023-06-16 12:46:54.496 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 120.4075ms
2023-06-16 12:46:54.558 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:46:54.564 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:46:54.577 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:46:54.579 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:46:54.591 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:46:54.692 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:46:54.864 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:46:54.875 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:46:54.905 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 315.0503ms
2023-06-16 12:46:54.907 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:46:54.910 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 346.0527 ms
2023-06-16 12:46:54.912 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 354.4832ms
2023-06-16 12:47:03.186 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:47:03.190 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:47:03.192 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.4814 ms
2023-06-16 12:47:03.196 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 9.4835ms
2023-06-16 12:47:03.199 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:47:03.202 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:47:03.204 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:47:03.210 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:47:03.253 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:47:04.710 -04:00 [ERR] Failed executing DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:47:04.871 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8cfbb008-6250-4743-ac86-c9ee07c2211e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:8cfbb008-6250-4743-ac86-c9ee07c2211e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 12:47:13.145 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:47:13.820 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:47:13.824 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:47:13.832 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:47:13.840 -04:00 [INF] Hosting environment: Development
2023-06-16 12:47:13.844 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:47:16.150 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:47:16.392 -04:00 [INF] HTTP GET / responded 404 in 120.1680 ms
2023-06-16 12:47:16.419 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 267.5831ms
2023-06-16 12:47:30.291 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:47:30.302 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:47:30.309 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 12.2035 ms
2023-06-16 12:47:30.314 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 23.4242ms
2023-06-16 12:47:30.318 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:47:30.329 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:47:30.621 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:47:30.722 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:48:09.465 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:48:09.876 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:48:09.884 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:48:09.889 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:48:09.892 -04:00 [INF] Hosting environment: Development
2023-06-16 12:48:09.894 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:48:11.877 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:48:12.146 -04:00 [INF] HTTP GET / responded 404 in 124.1730 ms
2023-06-16 12:48:12.168 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 355.5987ms
2023-06-16 12:48:36.255 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:48:36.293 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:36.305 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 22.8349 ms
2023-06-16 12:48:36.316 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 60.6553ms
2023-06-16 12:48:36.325 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:48:36.345 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:36.693 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:48:36.719 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:48:38.414 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:48:39.987 -04:00 [INF] Executed DbCommand (163ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:48:40.132 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:48:40.260 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 3533.1282ms
2023-06-16 12:48:40.268 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:48:40.274 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 3929.3966 ms
2023-06-16 12:48:40.289 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 3964.1001ms
2023-06-16 12:48:42.498 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:48:42.498 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:48:42.503 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:42.508 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:42.511 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.4782 ms
2023-06-16 12:48:42.513 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.1587 ms
2023-06-16 12:48:42.515 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 17.3292ms
2023-06-16 12:48:42.518 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 20.2013ms
2023-06-16 12:48:42.518 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:48:42.527 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:42.538 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:48:42.544 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:48:42.554 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:48:42.670 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:48:42.678 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:48:42.684 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 133.9515ms
2023-06-16 12:48:42.693 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:48:42.693 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:48:42.702 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 175.8724 ms
2023-06-16 12:48:42.708 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:42.709 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 190.5231ms
2023-06-16 12:48:42.722 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:48:42.748 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:48:42.819 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:48:42.913 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:48:42.916 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:48:42.932 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 179.7303ms
2023-06-16 12:48:42.936 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:48:42.939 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 231.1602 ms
2023-06-16 12:48:42.949 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 255.7467ms
2023-06-16 12:48:59.037 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 12:48:59.047 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:59.053 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 6.4812 ms
2023-06-16 12:48:59.056 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 19.1255ms
2023-06-16 12:48:59.089 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187
2023-06-16 12:48:59.093 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:48:59.096 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:48:59.127 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:48:59.208 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:48:59.950 -04:00 [INF] Executed DbCommand (185ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 12:49:00.576 -04:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 12:49:00.713 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 12:49:00.718 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1587.1562ms
2023-06-16 12:49:00.723 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 12:49:00.734 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1641.0080 ms
2023-06-16 12:49:00.744 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187 - 200 0 - 1655.5036ms
2023-06-16 12:49:01.688 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:49:01.692 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:49:01.695 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.0108 ms
2023-06-16 12:49:01.699 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.2420ms
2023-06-16 12:49:01.704 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 12:49:01.711 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:49:01.714 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:49:01.719 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 12:49:01.723 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 12:49:01.807 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 12:49:02.276 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 12:49:02.434 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 12:49:02.506 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 784.6145ms
2023-06-16 12:49:02.512 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 12:49:02.516 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 805.1152 ms
2023-06-16 12:49:02.521 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 817.0267ms
2023-06-16 12:49:12.964 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:49:12.966 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:49:12.968 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.9474 ms
2023-06-16 12:49:12.970 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 6.1876ms
2023-06-16 12:49:12.979 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:49:12.981 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:49:12.983 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:49:12.987 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:50:43.476 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:50:43.891 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:50:43.907 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:50:43.914 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:50:43.923 -04:00 [INF] Hosting environment: Development
2023-06-16 12:50:43.926 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:50:47.340 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:50:47.545 -04:00 [INF] HTTP GET / responded 404 in 108.6076 ms
2023-06-16 12:50:47.565 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 227.8373ms
2023-06-16 12:51:03.201 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:51:03.551 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:51:03.553 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:51:03.559 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:51:03.561 -04:00 [INF] Hosting environment: Development
2023-06-16 12:51:03.564 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:51:05.521 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:51:05.786 -04:00 [INF] HTTP GET / responded 404 in 153.2062 ms
2023-06-16 12:51:05.809 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 294.7333ms
2023-06-16 12:51:34.753 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 12:51:34.783 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:51:34.789 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 9.8135 ms
2023-06-16 12:51:34.798 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 44.5017ms
2023-06-16 12:51:34.802 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 12:51:34.814 -04:00 [INF] CORS policy execution successful.
2023-06-16 12:51:35.521 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 12:51:35.547 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 12:52:29.034 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:52:29.436 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:52:29.445 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:52:29.452 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:52:29.458 -04:00 [INF] Hosting environment: Development
2023-06-16 12:52:29.466 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:52:31.230 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:52:31.468 -04:00 [INF] HTTP GET / responded 404 in 117.5129 ms
2023-06-16 12:52:31.497 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 267.7497ms
2023-06-16 12:53:24.364 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 12:53:24.739 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 12:53:24.744 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 12:53:24.750 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 12:53:24.753 -04:00 [INF] Hosting environment: Development
2023-06-16 12:53:24.756 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 12:53:26.572 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 12:53:26.969 -04:00 [INF] HTTP GET / responded 404 in 169.0028 ms
2023-06-16 12:53:26.992 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 429.1814ms
2023-06-16 13:03:35.731 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:03:36.259 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:03:36.262 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:03:36.268 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:03:36.274 -04:00 [INF] Hosting environment: Development
2023-06-16 13:03:36.277 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:03:38.199 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:03:38.418 -04:00 [INF] HTTP GET / responded 404 in 116.3543 ms
2023-06-16 13:03:38.442 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 242.1432ms
2023-06-16 13:04:01.163 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:04:01.171 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:01.174 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 6.8286 ms
2023-06-16 13:04:01.177 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 13.8175ms
2023-06-16 13:04:01.183 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:04:01.186 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:01.196 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:04:01.228 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:04:02.996 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:04:04.749 -04:00 [INF] Executed DbCommand (161ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 13:04:05.158 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:04:05.179 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 3943.225ms
2023-06-16 13:04:05.182 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:04:05.185 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 4000.2710 ms
2023-06-16 13:04:05.199 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 4015.5819ms
2023-06-16 13:04:06.754 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:06.754 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:06.762 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:06.762 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:06.766 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.7594 ms
2023-06-16 13:04:06.769 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.5870 ms
2023-06-16 13:04:06.771 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.9912ms
2023-06-16 13:04:06.774 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 19.5550ms
2023-06-16 13:04:06.774 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:06.789 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:06.915 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:06.921 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:04:06.935 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:04:07.140 -04:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:04:07.385 -04:00 [INF] Executed DbCommand (132ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:04:07.420 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:04:07.466 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 540.997ms
2023-06-16 13:04:07.468 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:07.470 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:07.470 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:07.473 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:07.475 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:04:07.481 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 692.6619 ms
2023-06-16 13:04:07.489 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 714.5044ms
2023-06-16 13:04:07.553 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:04:07.652 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:04:07.744 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:04:07.747 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:04:07.750 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 272.3594ms
2023-06-16 13:04:07.753 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:07.755 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 284.5298 ms
2023-06-16 13:04:07.758 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 289.5355ms
2023-06-16 13:04:17.165 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:17.165 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:04:17.165 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:17.167 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:17.173 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:17.176 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:17.179 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 12.3355 ms
2023-06-16 13:04:17.182 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 9.6847 ms
2023-06-16 13:04:17.188 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 12.2606 ms
2023-06-16 13:04:17.196 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:17.199 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 34.4229ms
2023-06-16 13:04:17.206 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 40.9219ms
2023-06-16 13:04:17.210 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 13:04:17.210 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:17.193 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 28.4370ms
2023-06-16 13:04:17.219 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:17.222 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:17.226 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:04:17.228 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:04:17.233 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:04:17.245 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:04:20.493 -04:00 [INF] Executed DbCommand (3,239ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:04:22.209 -04:00 [INF] Executed DbCommand (174ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:04:34.835 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:04:39.839 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 22595.2834ms
2023-06-16 13:04:40.773 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:04:40.776 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:40.778 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:04:44.082 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 26872.4562 ms
2023-06-16 13:04:55.859 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:56.859 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 39661.4681ms
2023-06-16 13:04:58.252 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:04:58.266 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:04:58.407 -04:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:04:58.542 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:04:58.546 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:04:58.549 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 283.8748ms
2023-06-16 13:04:58.552 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:04:58.555 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 17776.9830 ms
2023-06-16 13:04:58.558 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 17784.2947ms
2023-06-16 13:05:42.010 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 84757.1218ms
2023-06-16 13:05:42.031 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:05:42.040 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 84819.6796 ms
System.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.
   at System.Collections.Generic.List`1.set_Capacity(Int32 value)
   at System.Collections.Generic.List`1.AddWithResize(T item)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 169
   at lambda_method91(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 13:05:42.243 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.
   at System.Collections.Generic.List`1.set_Capacity(Int32 value)
   at System.Collections.Generic.List`1.AddWithResize(T item)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 169
   at lambda_method91(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 13:05:42.293 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 500 - text/plain;+charset=utf-8 85081.5151ms
2023-06-16 13:06:21.514 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:06:21.970 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:06:21.972 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:06:21.978 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:06:21.981 -04:00 [INF] Hosting environment: Development
2023-06-16 13:06:21.983 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:06:24.733 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:06:24.976 -04:00 [INF] HTTP GET / responded 404 in 137.9021 ms
2023-06-16 13:06:25.001 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 272.2934ms
2023-06-16 13:06:33.674 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:06:33.682 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:06:33.685 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 6.3938 ms
2023-06-16 13:06:33.687 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 13.6065ms
2023-06-16 13:06:33.691 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 13:06:33.693 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:06:33.971 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:06:33.996 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:06:35.532 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:06:36.937 -04:00 [ERR] Failed executing DbCommand (164ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:06:37.097 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f397d7b3-12ad-4665-8212-7c9abfcced02
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f397d7b3-12ad-4665-8212-7c9abfcced02
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 13:06:46.246 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 12239.1933ms
2023-06-16 13:06:46.250 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:06:46.255 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 12562.0852 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f397d7b3-12ad-4665-8212-7c9abfcced02
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 207
   at lambda_method7(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 13:06:46.298 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f397d7b3-12ad-4665-8212-7c9abfcced02
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 207
   at lambda_method7(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 13:06:46.340 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 500 - text/plain;+charset=utf-8 12649.3053ms
2023-06-16 13:07:02.155 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:07:02.160 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:07:02.162 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.3894 ms
2023-06-16 13:07:02.165 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 9.3613ms
2023-06-16 13:07:02.166 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 13:07:02.175 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:07:02.180 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:07:02.182 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:07:02.237 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:07:02.425 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:07:02.786 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:07:03.049 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:07:03.147 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:07:03.158 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 973.3229ms
2023-06-16 13:07:03.160 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:07:03.162 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 987.5458 ms
2023-06-16 13:07:03.164 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 200 - application/json;+charset=utf-8 997.9260ms
2023-06-16 13:11:05.899 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:11:06.302 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:11:06.322 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:11:06.328 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:11:06.331 -04:00 [INF] Hosting environment: Development
2023-06-16 13:11:06.335 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:11:08.038 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:11:08.352 -04:00 [INF] HTTP GET / responded 404 in 195.3351 ms
2023-06-16 13:11:08.478 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 445.0840ms
2023-06-16 13:11:35.171 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:11:35.183 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:11:35.187 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 10.9282 ms
2023-06-16 13:11:35.190 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 19.1759ms
2023-06-16 13:11:35.224 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124
2023-06-16 13:11:35.228 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:11:35.741 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:11:35.921 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:12:57.098 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:12:59.430 -04:00 [INF] Executed DbCommand (183ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:13:03.327 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:13:03.594 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:13:03.841 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:13:04.093 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:13:04.362 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:13:04.454 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:13:04.473 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 88505.8801ms
2023-06-16 13:13:04.475 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:13:04.477 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 89249.7685 ms
2023-06-16 13:13:04.492 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 124 - 200 - application/json;+charset=utf-8 89268.3534ms
2023-06-16 13:15:24.949 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:15:25.558 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:15:25.563 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:15:25.569 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:15:25.571 -04:00 [INF] Hosting environment: Development
2023-06-16 13:15:25.579 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:15:28.445 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:15:28.737 -04:00 [INF] HTTP GET / responded 404 in 156.0373 ms
2023-06-16 13:15:28.762 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 322.3578ms
2023-06-16 13:19:14.864 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:19:14.876 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:19:14.883 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 11.7775 ms
2023-06-16 13:19:14.906 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 42.9819ms
2023-06-16 13:19:14.912 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:19:14.921 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:19:14.929 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:19:14.964 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:19:16.654 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:19:18.894 -04:00 [INF] Executed DbCommand (151ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 13:19:19.233 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:19:19.264 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 4286.5874ms
2023-06-16 13:19:19.267 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:19:19.270 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 4349.3871 ms
2023-06-16 13:19:19.293 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 4381.3215ms
2023-06-16 13:19:50.574 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:19:50.579 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:19:50.581 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.9938 ms
2023-06-16 13:19:50.583 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 9.5120ms
2023-06-16 13:19:50.593 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:19:50.597 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:19:50.759 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:19:50.771 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:20:02.383 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:20:02.771 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:03.121 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:03.691 -04:00 [INF] Executed DbCommand (393ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:04.270 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:04.544 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:04.814 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:05.075 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:05.378 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:05.743 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:06.020 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:06.333 -04:00 [INF] Executed DbCommand (123ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:06.592 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:20:06.680 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:20:06.685 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 15908.9877ms
2023-06-16 13:20:06.689 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:20:06.692 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 16094.6126 ms
2023-06-16 13:20:06.695 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 16101.3810ms
2023-06-16 13:23:13.849 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:13.849 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:13.853 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:13.855 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:13.857 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.5047 ms
2023-06-16 13:23:13.859 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.9193 ms
2023-06-16 13:23:13.862 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.2283ms
2023-06-16 13:23:13.865 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 16.5346ms
2023-06-16 13:23:13.865 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:13.885 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:13.887 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:13.896 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:23:13.962 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:23:14.165 -04:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:23:14.200 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:23:14.209 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:14.209 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 311.1351ms
2023-06-16 13:23:14.211 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:14.216 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:14.216 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:14.220 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:23:14.228 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:23:14.233 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 349.0879 ms
2023-06-16 13:23:14.243 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 378.0939ms
2023-06-16 13:23:14.341 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:23:14.351 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:23:14.354 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 125.9535ms
2023-06-16 13:23:14.377 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:14.385 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 173.8101 ms
2023-06-16 13:23:14.396 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 187.0470ms
2023-06-16 13:23:27.799 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 13:23:27.801 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:27.803 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.1204 ms
2023-06-16 13:23:27.806 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 6.3295ms
2023-06-16 13:23:27.808 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 186
2023-06-16 13:23:27.810 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:27.814 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 13:23:27.819 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:23:27.846 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:23:28.176 -04:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 13:23:28.512 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:23:28.613 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 13:23:28.615 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 793.6927ms
2023-06-16 13:23:28.619 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 13:23:28.621 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 811.2502 ms
2023-06-16 13:23:28.624 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 186 - 200 0 - 815.6855ms
2023-06-16 13:23:28.638 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:28.640 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:28.642 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0417 ms
2023-06-16 13:23:28.645 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.9641ms
2023-06-16 13:23:28.652 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:28.654 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:28.656 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:28.658 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:23:28.669 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:23:28.756 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:23:28.965 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:23:28.970 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:23:29.006 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 337.6327ms
2023-06-16 13:23:29.012 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:29.022 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 367.6728 ms
2023-06-16 13:23:29.025 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 373.0663ms
2023-06-16 13:23:59.101 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:59.105 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:59.107 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:59.108 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:59.110 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.1457 ms
2023-06-16 13:23:59.112 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.8468 ms
2023-06-16 13:23:59.114 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.8339ms
2023-06-16 13:23:59.116 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.9632ms
2023-06-16 13:23:59.164 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:59.175 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:59.178 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:59.181 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:23:59.185 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:23:59.287 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:23:59.385 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:23:59.388 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:23:59.394 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 210.1795ms
2023-06-16 13:23:59.398 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:23:59.399 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:59.406 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:23:59.414 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 239.7644 ms
2023-06-16 13:23:59.416 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:59.433 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 271.4889ms
2023-06-16 13:23:59.436 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:23:59.443 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:23:59.535 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:23:59.626 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:23:59.631 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:23:59.635 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 192.3493ms
2023-06-16 13:23:59.641 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:23:59.645 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 238.9517 ms
2023-06-16 13:23:59.649 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 251.0146ms
2023-06-16 13:24:18.210 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:24:18.212 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:18.214 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 1.9593 ms
2023-06-16 13:24:18.217 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 6.3121ms
2023-06-16 13:24:18.219 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:24:18.221 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:18.223 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:24:18.225 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:24:18.229 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:24:18.357 -04:00 [INF] Executed DbCommand (124ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 13:24:18.412 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:24:18.418 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 190.8913ms
2023-06-16 13:24:18.423 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:24:18.425 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 203.7220 ms
2023-06-16 13:24:18.428 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 208.5713ms
2023-06-16 13:24:31.422 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:24:31.424 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:31.428 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 3.4666 ms
2023-06-16 13:24:31.430 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 8.2163ms
2023-06-16 13:24:31.435 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:24:31.437 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:31.440 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:24:31.442 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:24:34.002 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:24:34.189 -04:00 [ERR] Failed executing DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:24:34.326 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:2c26bcc5-d974-476d-a0bc-9bdcdde2bde3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:2c26bcc5-d974-476d-a0bc-9bdcdde2bde3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 13:24:36.714 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 5268.4402ms
2023-06-16 13:24:36.717 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:24:36.721 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 5283.2406 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:2c26bcc5-d974-476d-a0bc-9bdcdde2bde3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 206
   at lambda_method77(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 13:24:36.749 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:2c26bcc5-d974-476d-a0bc-9bdcdde2bde3
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 206
   at lambda_method77(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 13:24:36.772 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 500 - text/plain;+charset=utf-8 5336.8406ms
2023-06-16 13:24:50.689 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:24:50.689 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:24:50.696 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:50.698 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:50.699 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.9022 ms
2023-06-16 13:24:50.701 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 3.0688 ms
2023-06-16 13:24:50.703 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 14.2751ms
2023-06-16 13:24:50.716 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 112
2023-06-16 13:24:50.706 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 17.7098ms
2023-06-16 13:24:50.732 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:50.734 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:24:50.736 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:24:50.738 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:24:50.741 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:24:50.743 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:24:54.354 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:24:54.354 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:24:55.218 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:24:55.221 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 4474.6217ms
2023-06-16 13:24:55.229 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:24:55.232 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 4499.9063 ms
2023-06-16 13:24:55.236 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 112 - 200 - application/json;+charset=utf-8 4519.4668ms
2023-06-16 13:24:55.397 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:24:55.671 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:24:55.933 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:24:56.206 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:24:56.475 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:24:56.751 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:24:56.847 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:24:56.850 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 2493.2ms
2023-06-16 13:24:56.853 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:24:56.855 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 6117.0021 ms
2023-06-16 13:24:56.858 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 6125.1074ms
2023-06-16 13:26:08.720 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:08.720 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:08.723 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:08.724 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:08.726 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.1159 ms
2023-06-16 13:26:08.727 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.2893 ms
2023-06-16 13:26:08.729 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.1431ms
2023-06-16 13:26:08.732 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.4671ms
2023-06-16 13:26:08.732 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:08.742 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:08.747 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:08.749 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:26:08.754 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:26:08.845 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:26:08.848 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:26:08.850 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 97.7403ms
2023-06-16 13:26:08.856 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:08.857 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:08.859 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 116.8705 ms
2023-06-16 13:26:08.860 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:08.863 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 131.1065ms
2023-06-16 13:26:08.867 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:08.887 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:26:08.890 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:26:08.984 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:26:08.987 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:26:08.989 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 99.2656ms
2023-06-16 13:26:08.991 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:08.993 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 132.8253 ms
2023-06-16 13:26:08.996 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 138.6288ms
2023-06-16 13:26:15.489 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:15.489 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:15.492 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:15.496 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:15.498 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.9043 ms
2023-06-16 13:26:15.499 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.3051 ms
2023-06-16 13:26:15.501 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.4641ms
2023-06-16 13:26:15.503 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.6246ms
2023-06-16 13:26:15.503 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:15.509 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:15.513 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:15.516 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:26:15.518 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:26:15.608 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:26:15.612 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:26:15.614 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 96.587ms
2023-06-16 13:26:15.618 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:26:15.621 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:15.624 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:26:15.629 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 120.0311 ms
2023-06-16 13:26:15.631 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:15.636 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:26:15.636 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 132.9093ms
2023-06-16 13:26:15.655 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:26:15.748 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:26:15.751 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:26:15.753 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 98.4518ms
2023-06-16 13:26:15.755 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:26:15.761 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 136.7885 ms
2023-06-16 13:26:15.764 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 146.0499ms
2023-06-16 13:32:05.140 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:32:05.511 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:32:05.514 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:32:05.520 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:32:05.523 -04:00 [INF] Hosting environment: Development
2023-06-16 13:32:05.525 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:32:07.662 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:32:07.983 -04:00 [INF] HTTP GET / responded 404 in 217.4946 ms
2023-06-16 13:32:08.017 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 360.2629ms
2023-06-16 13:32:09.431 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:32:09.431 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:32:09.443 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:09.443 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:09.448 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.1957 ms
2023-06-16 13:32:09.453 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 13.3860 ms
2023-06-16 13:32:09.457 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 25.9623ms
2023-06-16 13:32:09.464 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 33.1793ms
2023-06-16 13:32:09.464 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:32:09.481 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:09.760 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:09.779 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:32:11.617 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:32:13.537 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:32:13.540 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:13.544 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:13.547 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:32:13.551 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:32:14.495 -04:00 [INF] Executed DbCommand (166ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:32:14.590 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:32:14.632 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4843.9135ms
2023-06-16 13:32:14.637 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:14.643 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 5162.9812 ms
2023-06-16 13:32:14.655 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 0 - application/json;+charset=utf-8 5190.9666ms
2023-06-16 13:32:14.742 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:32:14.747 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:32:14.751 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1201.6818ms
2023-06-16 13:32:14.757 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:14.757 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:32:14.759 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1219.5952 ms
2023-06-16 13:32:14.761 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:14.764 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1226.4294ms
2023-06-16 13:32:14.765 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:14.776 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:32:14.839 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:32:14.928 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:32:14.933 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:32:14.936 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 157.7204ms
2023-06-16 13:32:14.940 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:14.943 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 182.4365 ms
2023-06-16 13:32:14.946 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 189.7984ms
2023-06-16 13:32:51.267 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 13:32:51.270 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:51.275 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 4.8961 ms
2023-06-16 13:32:51.277 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.2593ms
2023-06-16 13:32:51.279 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 191
2023-06-16 13:32:51.284 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:51.287 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 13:32:51.310 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:32:51.375 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:32:52.157 -04:00 [INF] Executed DbCommand (129ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 13:32:52.644 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:32:52.745 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 13:32:52.749 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1435.8426ms
2023-06-16 13:32:52.751 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 13:32:52.754 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1470.3617 ms
2023-06-16 13:32:52.761 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 191 - 200 0 - 1481.5767ms
2023-06-16 13:32:52.776 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:32:52.783 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:52.785 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.3041 ms
2023-06-16 13:32:52.789 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.5898ms
2023-06-16 13:32:52.801 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:32:52.816 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:32:52.824 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:52.832 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:32:52.835 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:32:52.929 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:32:53.235 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:32:53.246 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:32:53.281 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 446.6946ms
2023-06-16 13:32:53.283 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:32:53.286 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 469.9795 ms
2023-06-16 13:32:53.291 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 490.7849ms
2023-06-16 13:33:12.649 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:33:12.651 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:33:12.653 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.9430 ms
2023-06-16 13:33:12.656 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 6.7814ms
2023-06-16 13:33:12.661 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 112
2023-06-16 13:33:12.665 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:33:12.669 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:33:12.675 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:33:12.706 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:33:12.712 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 32.1025ms
2023-06-16 13:33:12.715 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:33:12.716 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 51.1567 ms
2023-06-16 13:33:12.719 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 112 - 200 - application/json;+charset=utf-8 58.1240ms
2023-06-16 13:33:42.944 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:33:42.951 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:33:42.953 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.5075 ms
2023-06-16 13:33:42.957 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 13.2318ms
2023-06-16 13:33:42.959 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:33:42.972 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:33:42.975 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:33:42.978 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:33:42.991 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:33:43.210 -04:00 [ERR] Failed executing DbCommand (110ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:33:43.364 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:b2154d2a-9371-454c-b723-5329cfd4e0fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:b2154d2a-9371-454c-b723-5329cfd4e0fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 13:33:45.590 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 2607.7086ms
2023-06-16 13:33:45.595 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:33:45.599 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 2627.8344 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:b2154d2a-9371-454c-b723-5329cfd4e0fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 190
   at lambda_method183(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 13:33:45.628 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:b2154d2a-9371-454c-b723-5329cfd4e0fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 190
   at lambda_method183(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 13:33:45.648 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 500 - text/plain;+charset=utf-8 2689.0204ms
2023-06-16 13:34:12.314 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:34:12.327 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:34:12.329 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.7922 ms
2023-06-16 13:34:12.331 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 16.3906ms
2023-06-16 13:34:12.336 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:34:12.338 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:34:12.346 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:34:12.348 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:34:12.351 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:34:12.525 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:34:12.814 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:34:13.081 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:34:13.177 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:34:13.180 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 829.3868ms
2023-06-16 13:34:13.182 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:34:13.184 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 846.0201 ms
2023-06-16 13:34:13.186 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 850.3679ms
2023-06-16 13:36:27.256 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:36:28.048 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:36:28.059 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:36:28.065 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:36:28.073 -04:00 [INF] Hosting environment: Development
2023-06-16 13:36:28.076 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:36:31.321 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:36:31.559 -04:00 [INF] HTTP GET / responded 404 in 137.8140 ms
2023-06-16 13:36:31.606 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 277.1210ms
2023-06-16 13:37:05.736 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:37:05.781 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:37:05.791 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 19.0411 ms
2023-06-16 13:37:05.794 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 58.2223ms
2023-06-16 13:37:05.803 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:37:05.810 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:37:05.821 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:37:05.862 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:37:07.633 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:37:09.627 -04:00 [INF] Executed DbCommand (172ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 13:37:10.038 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:37:10.101 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 4221.2087ms
2023-06-16 13:37:10.105 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:37:10.107 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 4297.8630 ms
2023-06-16 13:37:10.126 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 4323.6697ms
2023-06-16 13:37:36.182 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:37:36.185 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:37:36.187 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.1514 ms
2023-06-16 13:37:36.190 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 10.5368ms
2023-06-16 13:37:36.193 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:37:36.196 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:37:36.313 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:37:36.317 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:37:36.367 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:37:36.789 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:37:37.127 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:37:37.384 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:37:37.643 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:37:37.955 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:37:38.214 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:37:38.300 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:37:38.306 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1986.2502ms
2023-06-16 13:37:38.308 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:37:38.311 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 2114.5400 ms
2023-06-16 13:37:38.313 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 2119.7939ms
2023-06-16 13:39:44.578 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:39:44.841 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:39:44.853 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 11.9910 ms
2023-06-16 13:39:44.865 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 287.5334ms
2023-06-16 13:39:44.882 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:39:44.926 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:39:44.948 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:39:45.158 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:39:45.526 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:40:04.375 -04:00 [ERR] An error occurred using the connection to database 'db_a98bec_clinica' on server 'SQL5110.site4now.net'.
2023-06-16 13:40:04.410 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=18790; handshake=8; 
 ---> System.ComponentModel.Win32Exception (258): Tiempo de espera de la operación de espera agotado.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:67ce99db-3d1f-446a-a8ea-43671edf7c76
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=18790; handshake=8; 
 ---> System.ComponentModel.Win32Exception (258): Tiempo de espera de la operación de espera agotado.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:67ce99db-3d1f-446a-a8ea-43671edf7c76
Error Number:-2,State:0,Class:11
2023-06-16 13:40:12.736 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:40:13.187 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:40:13.191 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:40:13.197 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:40:13.200 -04:00 [INF] Hosting environment: Development
2023-06-16 13:40:13.202 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:40:15.015 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:40:15.223 -04:00 [INF] HTTP GET / responded 404 in 104.2804 ms
2023-06-16 13:40:15.245 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 233.5777ms
2023-06-16 13:40:28.043 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:40:28.054 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:40:28.063 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 14.9357 ms
2023-06-16 13:40:28.067 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 24.0210ms
2023-06-16 13:40:28.073 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:40:28.081 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:40:28.359 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:40:28.385 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:40:29.962 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:40:45.577 -04:00 [ERR] An error occurred using the connection to database 'db_a98bec_clinica' on server 'SQL5110.site4now.net'.
2023-06-16 13:40:45.624 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): No se ha encontrado la ruta de acceso de la red.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): No se ha encontrado la ruta de acceso de la red.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2023-06-16 13:40:56.028 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:40:56.403 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:40:56.406 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:40:56.412 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:40:56.415 -04:00 [INF] Hosting environment: Development
2023-06-16 13:40:56.417 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:40:58.095 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:40:58.295 -04:00 [INF] HTTP GET / responded 404 in 101.1240 ms
2023-06-16 13:40:58.318 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 229.7262ms
2023-06-16 13:46:50.554 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:46:50.959 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:46:50.965 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:46:50.971 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:46:50.974 -04:00 [INF] Hosting environment: Development
2023-06-16 13:46:50.977 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:46:52.785 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:46:53.010 -04:00 [INF] HTTP GET / responded 404 in 132.3284 ms
2023-06-16 13:46:53.036 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 248.8621ms
2023-06-16 13:46:59.251 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 13:46:59.262 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:46:59.266 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 6.9902 ms
2023-06-16 13:46:59.268 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 16.8403ms
2023-06-16 13:46:59.274 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 13:46:59.277 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:46:59.533 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 13:46:59.585 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:47:01.452 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:47:03.089 -04:00 [INF] Executed DbCommand (193ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 13:47:03.974 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:47:04.086 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 13:47:04.099 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 4501.2681ms
2023-06-16 13:47:04.104 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 13:47:04.114 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 4837.7048 ms
2023-06-16 13:47:04.136 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 4861.6785ms
2023-06-16 13:47:04.209 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:47:04.212 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:04.215 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.0985 ms
2023-06-16 13:47:04.219 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.8242ms
2023-06-16 13:47:04.225 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:47:04.240 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:04.245 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:47:04.260 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:47:04.330 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:47:05.015 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:47:05.274 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:47:05.318 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:47:05.374 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1111.3467ms
2023-06-16 13:47:05.378 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:47:05.380 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1141.0461 ms
2023-06-16 13:47:05.388 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1162.7123ms
2023-06-16 13:47:10.858 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:47:10.861 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:10.863 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:47:10.869 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:47:10.887 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:47:10.987 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:47:11.079 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:47:11.084 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:47:11.088 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 215.9077ms
2023-06-16 13:47:11.092 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:47:11.092 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 13:47:11.096 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 235.9795 ms
2023-06-16 13:47:11.099 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:11.102 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 243.6158ms
2023-06-16 13:47:11.103 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:47:11.109 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 13:47:11.116 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:47:11.217 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 13:47:11.325 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 13:47:11.329 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:47:11.332 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 217.7457ms
2023-06-16 13:47:11.336 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 13:47:11.339 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 239.7542 ms
2023-06-16 13:47:11.342 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 250.2578ms
2023-06-16 13:47:35.780 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:47:35.783 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:35.786 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.7060 ms
2023-06-16 13:47:35.788 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 9.7333ms
2023-06-16 13:47:35.795 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:47:35.798 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:35.801 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:47:35.806 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:47:35.820 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:47:35.950 -04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 13:47:36.013 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:47:36.018 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 205.3382ms
2023-06-16 13:47:36.020 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:47:36.022 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 224.4183 ms
2023-06-16 13:47:36.025 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 230.6333ms
2023-06-16 13:47:41.282 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:47:41.284 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:41.287 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.8956 ms
2023-06-16 13:47:41.291 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 9.3106ms
2023-06-16 13:47:41.301 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:47:41.304 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:41.308 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:47:41.314 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:47:41.318 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:47:41.421 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 13:47:41.424 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:47:41.426 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 109.3815ms
2023-06-16 13:47:41.450 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:47:41.456 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 151.8098 ms
2023-06-16 13:47:41.460 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 158.2185ms
2023-06-16 13:47:51.670 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:47:51.673 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:51.675 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.0248 ms
2023-06-16 13:47:51.677 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 7.2681ms
2023-06-16 13:47:51.692 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:47:51.694 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:47:51.699 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:47:51.704 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 13:47:51.738 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:47:52.941 -04:00 [INF] Executed DbCommand (702ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:47:53.298 -04:00 [INF] Executed DbCommand (115ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:47:53.547 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 13:47:53.642 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 13:47:53.648 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1941.279ms
2023-06-16 13:47:53.653 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:47:53.655 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 1961.0421 ms
2023-06-16 13:47:53.658 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 1966.0647ms
2023-06-16 13:51:58.666 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 13:51:58.668 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:51:58.670 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 1.7134 ms
2023-06-16 13:51:58.672 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 6.1009ms
2023-06-16 13:51:58.711 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 13:51:58.713 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:51:58.720 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:51:58.724 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 13:51:58.730 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 13:51:58.817 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 13:51:58.821 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 13:51:58.823 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 95.0127ms
2023-06-16 13:51:58.826 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 13:51:58.828 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 114.7340 ms
2023-06-16 13:51:58.830 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 119.4148ms
2023-06-16 13:57:31.487 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 13:57:31.900 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 13:57:31.905 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 13:57:31.914 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 13:57:31.917 -04:00 [INF] Hosting environment: Development
2023-06-16 13:57:31.920 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 13:57:34.516 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 13:57:35.046 -04:00 [INF] HTTP GET / responded 404 in 271.3391 ms
2023-06-16 13:57:35.082 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 572.4859ms
2023-06-16 13:58:11.998 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 13:58:12.008 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:58:12.022 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 18.0737 ms
2023-06-16 13:58:12.029 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 31.1451ms
2023-06-16 13:58:12.039 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 13:58:12.046 -04:00 [INF] CORS policy execution successful.
2023-06-16 13:58:12.341 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 13:58:12.371 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:00:58.279 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 14:00:58.741 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 14:00:58.805 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 14:00:58.812 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 14:00:58.929 -04:00 [INF] Hosting environment: Development
2023-06-16 14:00:58.932 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 14:01:00.553 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 14:01:00.760 -04:00 [INF] HTTP GET / responded 404 in 123.5536 ms
2023-06-16 14:01:00.788 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 233.6375ms
2023-06-16 14:01:13.009 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 14:01:13.019 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:01:13.023 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 8.1106 ms
2023-06-16 14:01:13.026 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 16.9251ms
2023-06-16 14:01:13.031 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 112
2023-06-16 14:01:13.034 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:01:13.320 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:01:13.345 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:01:13.716 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 14:01:13.734 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 377.1684ms
2023-06-16 14:01:13.738 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:01:13.739 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 705.9566 ms
2023-06-16 14:01:13.745 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 112 - 200 - application/json;+charset=utf-8 713.9267ms
2023-06-16 14:01:37.429 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 14:01:37.436 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:01:37.439 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.8108 ms
2023-06-16 14:01:37.442 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 12.3466ms
2023-06-16 14:01:37.450 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 14:01:37.453 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:01:37.457 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:01:37.459 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:01:54.115 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:02:00.649 -04:00 [INF] Executed DbCommand (147ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:02:05.222 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:02:12.686 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:02:13.023 -04:00 [INF] Executed DbCommand (169ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:02:14.267 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:02:14.547 -04:00 [INF] Executed DbCommand (106ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:02:14.637 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 14:02:14.641 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 37177.7817ms
2023-06-16 14:02:14.663 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:02:14.666 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 37213.1459 ms
2023-06-16 14:02:14.677 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 37227.4125ms
2023-06-16 14:03:30.289 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 14:03:30.623 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 14:03:30.626 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 14:03:30.631 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 14:03:30.633 -04:00 [INF] Hosting environment: Development
2023-06-16 14:03:30.637 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 14:03:33.334 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 14:03:33.725 -04:00 [INF] HTTP GET / responded 404 in 279.0891 ms
2023-06-16 14:03:33.751 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 421.3896ms
2023-06-16 14:03:59.871 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:03:59.882 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:03:59.891 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:00.016 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:04:01.874 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:04.717 -04:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:04:04.796 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:04:04.845 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 4809.8086ms
2023-06-16 14:04:04.849 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:04.855 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 4977.5426 ms
2023-06-16 14:04:04.868 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 0 - application/json;+charset=utf-8 4996.8455ms
2023-06-16 14:04:08.653 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 14:04:08.659 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:08.662 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 3.3368 ms
2023-06-16 14:04:08.665 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 13.2591ms
2023-06-16 14:04:08.667 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 14:04:08.670 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:08.677 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:04:08.696 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 14:04:08.751 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:09.165 -04:00 [INF] Executed DbCommand (240ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 14:04:09.413 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:04:09.429 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 727.6943ms
2023-06-16 14:04:09.433 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:04:09.436 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 766.5098 ms
2023-06-16 14:04:09.443 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 775.9597ms
2023-06-16 14:04:09.502 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:09.502 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:09.512 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:09.512 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:09.514 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.1232 ms
2023-06-16 14:04:09.516 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4770 ms
2023-06-16 14:04:09.518 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 15.7562ms
2023-06-16 14:04:09.521 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.1316ms
2023-06-16 14:04:09.521 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:09.527 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:09.627 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:09.629 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:04:09.684 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:10.023 -04:00 [INF] Executed DbCommand (331ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:04:10.028 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:04:10.031 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 399.9701ms
2023-06-16 14:04:10.033 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:10.035 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:10.039 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:10.043 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 515.6798 ms
2023-06-16 14:04:10.045 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:10.046 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 525.6134ms
2023-06-16 14:04:10.048 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:04:10.059 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:10.265 -04:00 [INF] Executed DbCommand (203ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:04:10.268 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:04:10.271 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 212.42ms
2023-06-16 14:04:10.276 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:10.279 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 239.1383 ms
2023-06-16 14:04:10.282 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 248.5269ms
2023-06-16 14:04:11.663 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:11.668 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:11.675 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:11.677 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:04:11.680 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:11.785 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:04:11.791 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:04:11.795 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 116.0773ms
2023-06-16 14:04:11.798 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:11.798 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:11.801 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 132.4921 ms
2023-06-16 14:04:11.808 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:11.812 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 149.3321ms
2023-06-16 14:04:11.818 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:11.835 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:04:11.860 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:11.959 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:04:11.975 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:04:11.978 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 118.9342ms
2023-06-16 14:04:11.981 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:11.984 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 176.0119 ms
2023-06-16 14:04:11.990 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 191.0933ms
2023-06-16 14:04:36.206 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 14:04:36.210 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:36.213 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.6031 ms
2023-06-16 14:04:36.215 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 9.0197ms
2023-06-16 14:04:36.219 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 181
2023-06-16 14:04:36.222 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:36.228 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 14:04:36.233 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:04:36.264 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:42.576 -04:00 [INF] Executed DbCommand (391ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 14:04:43.140 -04:00 [INF] Executed DbCommand (221ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:04:43.276 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 14:04:43.278 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 7042.1697ms
2023-06-16 14:04:43.281 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 14:04:43.283 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 7060.4146 ms
2023-06-16 14:04:43.285 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 181 - 200 0 - 7065.9607ms
2023-06-16 14:04:44.684 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:44.686 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:44.688 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.1312 ms
2023-06-16 14:04:44.690 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 6.1837ms
2023-06-16 14:04:44.693 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:44.694 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:44.697 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:44.698 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:04:44.701 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:04:44.804 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:04:46.476 -04:00 [INF] Executed DbCommand (1,586ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:04:46.481 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:04:46.503 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1802.8829ms
2023-06-16 14:04:46.506 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:46.508 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1813.4988 ms
2023-06-16 14:04:46.511 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1818.5838ms
2023-06-16 14:04:55.705 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:55.705 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:55.712 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:55.714 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:55.716 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.2664 ms
2023-06-16 14:04:55.720 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.8597 ms
2023-06-16 14:04:55.724 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.6193ms
2023-06-16 14:04:55.732 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 26.1359ms
2023-06-16 14:04:55.732 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:04:55.741 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:04:55.743 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:04:55.748 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:04:55.754 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:05:22.507 -04:00 [ERR] Failed executing DbCommand (26,747ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:05:22.565 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A transport-level error has occurred when receiving results from the server. (provider: TCP Provider, error: 0 - Se agotó el tiempo de espera del semáforo.)
 ---> System.ComponentModel.Win32Exception (121): Se agotó el tiempo de espera del semáforo.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:5a0e4998-cd86-4bd1-b43e-3e8e561483c6
Error Number:121,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A transport-level error has occurred when receiving results from the server. (provider: TCP Provider, error: 0 - Se agotó el tiempo de espera del semáforo.)
 ---> System.ComponentModel.Win32Exception (121): Se agotó el tiempo de espera del semáforo.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:5a0e4998-cd86-4bd1-b43e-3e8e561483c6
Error Number:121,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-06-16 14:05:22.639 -04:00 [INF] el error en las citas es :
2023-06-16 14:05:22.641 -04:00 [INF] Executing ObjectResult, writing value of type 'System.InvalidOperationException'.
2023-06-16 14:05:22.716 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 26963.3529ms
2023-06-16 14:05:22.719 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:05:22.723 -04:00 [ERR] HTTP GET /api/Clinica/Citas responded 500 in 26981.6051 ms
System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported. Path: $.TargetSite.MethodHandle.Value.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 14:05:22.737 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported. Path: $.TargetSite.MethodHandle.Value.
 ---> System.NotSupportedException: Serialization and deserialization of 'System.IntPtr' instances are not supported.
   at System.Text.Json.Serialization.Converters.UnsupportedTypeConverter`1.Write(Utf8JsonWriter writer, T value, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 14:05:22.755 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 500 - text/plain;+charset=utf-8 27023.3475ms
2023-06-16 14:05:39.904 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 14:05:39.906 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:05:39.908 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.0433 ms
2023-06-16 14:05:39.910 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 6.3687ms
2023-06-16 14:05:39.912 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 14:05:39.915 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:05:39.920 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:05:39.922 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 14:05:39.926 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:05:54.599 -04:00 [ERR] An error occurred using the connection to database 'db_a98bec_clinica' on server 'SQL5110.site4now.net'.
2023-06-16 14:05:54.604 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): No se ha encontrado la ruta de acceso de la red.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (53): No se ha encontrado la ruta de acceso de la red.
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:53,State:0,Class:20
2023-06-16 14:06:05.557 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 14:06:05.906 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 14:06:05.916 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 14:06:05.923 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 14:06:05.926 -04:00 [INF] Hosting environment: Development
2023-06-16 14:06:05.928 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 14:06:07.544 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 14:06:07.734 -04:00 [INF] HTTP GET / responded 404 in 110.1819 ms
2023-06-16 14:06:07.757 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 216.5362ms
2023-06-16 14:07:49.138 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 14:07:49.153 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:07:49.156 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 13.0243 ms
2023-06-16 14:07:49.159 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 21.0068ms
2023-06-16 14:07:49.173 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 14:07:49.180 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:07:49.457 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:07:49.483 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 14:07:50.944 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:08:02.829 -04:00 [INF] Executed DbCommand (192ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 14:08:03.198 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:08:03.936 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 14443.5998ms
2023-06-16 14:08:03.972 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:08:03.976 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 14797.0917 ms
2023-06-16 14:08:04.009 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 14836.4780ms
2023-06-16 14:08:04.391 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:04.394 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:04.427 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:04.473 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:04.476 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 49.9406 ms
2023-06-16 14:08:04.487 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 13.4733 ms
2023-06-16 14:08:04.490 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 98.5203ms
2023-06-16 14:08:04.499 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 104.2323ms
2023-06-16 14:08:07.275 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:07.278 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:07.282 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:07.291 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:08:07.308 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:08:12.354 -04:00 [INF] Executed DbCommand (4,964ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:08:12.550 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:08:12.564 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:08:12.607 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 5312.9767ms
2023-06-16 14:08:12.617 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:12.622 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:12.627 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:12.629 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:12.631 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:08:12.636 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 5358.7179 ms
2023-06-16 14:08:12.643 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 5367.8574ms
2023-06-16 14:08:12.700 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:08:12.815 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:08:12.914 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:08:12.919 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:08:12.922 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 287.6026ms
2023-06-16 14:08:12.926 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:12.930 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 303.7279 ms
2023-06-16 14:08:12.937 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 315.1485ms
2023-06-16 14:08:46.182 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:46.182 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:46.188 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:46.189 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:46.191 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.8849 ms
2023-06-16 14:08:46.192 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.8286 ms
2023-06-16 14:08:46.194 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.1524ms
2023-06-16 14:08:46.237 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 54.2664ms
2023-06-16 14:08:46.239 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:46.245 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:46.253 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:46.258 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:08:46.262 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:08:46.352 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:08:46.446 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:08:46.457 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:08:46.461 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 199.6154ms
2023-06-16 14:08:46.475 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:46.478 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:08:46.485 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 240.4290 ms
2023-06-16 14:08:46.489 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:08:46.491 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 253.2923ms
2023-06-16 14:08:46.494 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:46.506 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:08:46.510 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:08:46.602 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:08:46.721 -04:00 [INF] Executed DbCommand (115ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:08:46.734 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:08:46.755 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 245.4232ms
2023-06-16 14:08:46.761 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:08:46.770 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 281.5685 ms
2023-06-16 14:08:46.774 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 296.1084ms
2023-06-16 14:09:28.187 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 14:09:28.189 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:28.191 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.0605 ms
2023-06-16 14:09:28.193 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 6.6237ms
2023-06-16 14:09:28.201 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 14:09:28.203 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:28.205 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:09:28.209 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 14:09:28.215 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:09:28.304 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 14:09:28.308 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:09:28.310 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 98.4451ms
2023-06-16 14:09:28.313 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:09:28.316 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 113.2405 ms
2023-06-16 14:09:28.320 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 119.0929ms
2023-06-16 14:09:28.503 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:28.505 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:28.507 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:28.512 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:28.520 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 13.0497 ms
2023-06-16 14:09:28.524 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 12.0746 ms
2023-06-16 14:09:28.527 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 24.8799ms
2023-06-16 14:09:28.536 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:28.534 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 30.2755ms
2023-06-16 14:09:28.555 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:28.562 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:28.569 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:09:28.573 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:09:28.673 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:09:28.763 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:09:28.769 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:09:28.772 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 199.2177ms
2023-06-16 14:09:28.775 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:28.776 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:28.777 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 222.0654 ms
2023-06-16 14:09:28.784 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:28.789 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 252.5527ms
2023-06-16 14:09:28.793 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:28.831 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:09:28.835 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:09:28.924 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:09:29.018 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:09:29.021 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:09:29.024 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 189.9332ms
2023-06-16 14:09:29.027 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:29.029 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 245.5646 ms
2023-06-16 14:09:29.032 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 256.5223ms
2023-06-16 14:09:33.945 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:33.946 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:33.947 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:33.949 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:33.951 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.6480 ms
2023-06-16 14:09:33.953 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.7816 ms
2023-06-16 14:09:33.955 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.6535ms
2023-06-16 14:09:33.957 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:33.957 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.7684ms
2023-06-16 14:09:33.970 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:33.978 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:33.981 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:09:33.986 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:09:34.073 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:09:34.169 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:09:34.172 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:09:34.174 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 189.3873ms
2023-06-16 14:09:34.177 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:34.177 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:09:34.180 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 210.1088 ms
2023-06-16 14:09:34.182 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:09:34.189 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 231.5276ms
2023-06-16 14:09:34.190 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:34.197 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:09:34.220 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:09:34.310 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:09:34.403 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:09:34.407 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:09:34.413 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 194.1712ms
2023-06-16 14:09:34.421 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:09:34.425 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 243.3445 ms
2023-06-16 14:09:34.431 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 253.2219ms
2023-06-16 14:12:48.433 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:12:48.433 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:12:48.436 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:12:48.439 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:12:48.441 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.5422 ms
2023-06-16 14:12:48.442 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.7598 ms
2023-06-16 14:12:48.444 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.1302ms
2023-06-16 14:12:48.446 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.2180ms
2023-06-16 14:12:48.447 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:12:48.452 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:12:48.455 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:12:48.459 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:12:48.463 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:12:48.554 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:12:48.653 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:12:48.656 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:12:48.660 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 197.383ms
2023-06-16 14:12:48.662 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:12:48.662 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:12:48.664 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 211.4058 ms
2023-06-16 14:12:48.666 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:12:48.669 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 221.6152ms
2023-06-16 14:12:48.673 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:12:48.685 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:12:48.690 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:12:48.797 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:12:48.927 -04:00 [INF] Executed DbCommand (121ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:12:48.930 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:12:48.933 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 244.3134ms
2023-06-16 14:12:48.938 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:12:48.944 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 278.3989 ms
2023-06-16 14:12:48.948 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 285.6503ms
2023-06-16 14:13:02.164 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 14:13:02.166 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:13:02.167 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.8348 ms
2023-06-16 14:13:02.169 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 5.6777ms
2023-06-16 14:13:02.172 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 14:13:02.175 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:13:02.177 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:13:02.181 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:13:07.443 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:13:07.917 -04:00 [ERR] Failed executing DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:13:08.104 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f60237c1-21bf-4828-903a-aa7b1bed742a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f60237c1-21bf-4828-903a-aa7b1bed742a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 14:13:10.486 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 8301.1119ms
2023-06-16 14:13:10.490 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:13:10.495 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 8319.9983 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f60237c1-21bf-4828-903a-aa7b1bed742a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method99(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 14:13:10.533 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f60237c1-21bf-4828-903a-aa7b1bed742a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method99(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 14:13:10.561 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 500 - text/plain;+charset=utf-8 8388.6175ms
2023-06-16 14:13:30.719 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 14:13:30.728 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:13:30.730 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.3096 ms
2023-06-16 14:13:30.732 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 13.3117ms
2023-06-16 14:13:30.763 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 14:13:30.765 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:13:30.768 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:13:30.771 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:13:32.936 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:13:33.110 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:13:34.609 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:13:35.185 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:13:35.274 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 14:13:35.282 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 4509.6649ms
2023-06-16 14:13:35.285 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:13:35.287 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 4521.9945 ms
2023-06-16 14:13:35.290 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 4526.4072ms
2023-06-16 14:14:34.684 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 14:14:34.688 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:14:34.690 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.7819 ms
2023-06-16 14:14:34.692 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 8.1048ms
2023-06-16 14:14:34.695 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 14:14:34.696 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:14:34.698 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:14:34.701 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:14:46.719 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 14:14:47.249 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 14:14:47.328 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 14:14:47.333 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 14:14:47.336 -04:00 [INF] Hosting environment: Development
2023-06-16 14:14:47.343 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 14:14:49.665 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 14:14:49.933 -04:00 [INF] HTTP GET / responded 404 in 148.5136 ms
2023-06-16 14:14:49.955 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 295.1188ms
2023-06-16 14:15:32.900 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 14:15:32.911 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:15:32.914 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 6.8049 ms
2023-06-16 14:15:32.917 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 16.6875ms
2023-06-16 14:15:32.930 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 14:15:32.934 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:15:33.248 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:15:33.277 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 14:15:41.813 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:15:43.865 -04:00 [INF] Executed DbCommand (247ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:44.391 -04:00 [INF] Executed DbCommand (234ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:46.645 -04:00 [INF] Executed DbCommand (329ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:47.539 -04:00 [INF] Executed DbCommand (131ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:50.446 -04:00 [INF] Executed DbCommand (129ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:50.816 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:53.605 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:55.141 -04:00 [INF] Executed DbCommand (265ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:58.877 -04:00 [INF] Executed DbCommand (243ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:15:59.518 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:16:03.070 -04:00 [INF] Executed DbCommand (286ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:16:03.501 -04:00 [INF] Executed DbCommand (138ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 14:16:03.622 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 14:16:03.645 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 30352.5974ms
2023-06-16 14:16:03.653 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 14:16:03.657 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 30723.9829 ms
2023-06-16 14:16:03.672 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 30742.8133ms
2023-06-16 14:16:54.486 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:16:54.486 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:16:54.491 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:16:54.491 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:16:54.494 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.1596 ms
2023-06-16 14:16:54.494 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.7756 ms
2023-06-16 14:16:54.498 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 11.3914ms
2023-06-16 14:16:54.537 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 51.0143ms
2023-06-16 14:16:54.538 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:16:54.559 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:16:54.565 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:16:54.575 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:16:54.670 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:16:55.267 -04:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:16:56.000 -04:00 [INF] Executed DbCommand (566ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:56.213 -04:00 [INF] Executed DbCommand (202ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:56.334 -04:00 [INF] Executed DbCommand (116ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:56.572 -04:00 [INF] Executed DbCommand (233ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:56.730 -04:00 [INF] Executed DbCommand (151ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:57.435 -04:00 [INF] Executed DbCommand (700ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:57.531 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:57.640 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:57.734 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:57.861 -04:00 [INF] Executed DbCommand (120ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:57.976 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:58.298 -04:00 [INF] Executed DbCommand (317ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:58.395 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:58.405 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:16:58.449 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 3871.3745ms
2023-06-16 14:16:58.454 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:16:58.466 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 14:16:58.469 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:16:58.473 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:16:58.478 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 14:16:58.479 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 3920.1277 ms
2023-06-16 14:16:58.522 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 3984.5811ms
2023-06-16 14:16:58.531 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:16:58.672 -04:00 [INF] Executed DbCommand (134ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 14:16:58.770 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:58.857 -04:00 [INF] Executed DbCommand (81ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:58.992 -04:00 [INF] Executed DbCommand (131ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.107 -04:00 [INF] Executed DbCommand (109ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.318 -04:00 [INF] Executed DbCommand (206ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.433 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.548 -04:00 [INF] Executed DbCommand (109ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.677 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.773 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.865 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:16:59.963 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:17:00.054 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:17:00.198 -04:00 [INF] Executed DbCommand (139ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 14:17:00.202 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:17:00.205 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1724.0967ms
2023-06-16 14:17:00.207 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 14:17:00.209 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1740.1207 ms
2023-06-16 14:17:00.211 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1745.4208ms
2023-06-16 14:21:29.391 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 14:21:29.850 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 14:21:29.853 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 14:21:29.859 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 14:21:29.863 -04:00 [INF] Hosting environment: Development
2023-06-16 14:21:29.866 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 14:21:34.034 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 14:21:34.389 -04:00 [INF] HTTP GET / responded 404 in 184.9618 ms
2023-06-16 14:21:34.422 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 395.8757ms
2023-06-16 14:22:06.240 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 14:22:06.264 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:22:06.268 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 22.4384 ms
2023-06-16 14:22:06.273 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 34.3276ms
2023-06-16 14:22:06.281 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 14:22:06.292 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:22:06.305 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:22:06.354 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 14:22:08.242 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:22:10.234 -04:00 [INF] Executed DbCommand (204ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 14:22:10.840 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:22:10.873 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 4460.0403ms
2023-06-16 14:22:10.879 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:22:10.884 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 4594.4969 ms
2023-06-16 14:22:10.927 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 0 - application/json;+charset=utf-8 4646.0729ms
2023-06-16 14:22:13.577 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 14:22:13.581 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:22:13.584 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.9976 ms
2023-06-16 14:22:13.586 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 9.6658ms
2023-06-16 14:22:13.589 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 14:22:13.591 -04:00 [INF] CORS policy execution successful.
2023-06-16 14:22:13.596 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:22:13.601 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 14:22:13.607 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 14:22:13.733 -04:00 [INF] Executed DbCommand (115ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 14:22:13.737 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 14:22:13.740 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 135.6942ms
2023-06-16 14:22:13.742 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 14:22:13.746 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 155.5854 ms
2023-06-16 14:22:13.760 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 171.1102ms
2023-06-16 15:01:27.348 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 15:01:27.355 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:01:27.359 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 3.9702 ms
2023-06-16 15:01:27.363 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 15.4395ms
2023-06-16 15:01:27.375 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 15:01:27.380 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:01:27.383 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:01:27.385 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 15:01:27.467 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:01:28.971 -04:00 [INF] Executed DbCommand (173ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 15:01:28.976 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:01:28.979 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 1588.1885ms
2023-06-16 15:01:29.014 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:01:29.016 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 1636.0376 ms
2023-06-16 15:01:29.018 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 1643.1116ms
2023-06-16 15:01:49.537 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:01:49.538 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:01:49.541 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:01:49.543 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:01:49.545 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.0869 ms
2023-06-16 15:01:49.546 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.9187 ms
2023-06-16 15:01:49.549 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 12.0300ms
2023-06-16 15:01:49.553 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.9204ms
2023-06-16 15:01:49.553 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:01:49.573 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:01:49.877 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:01:49.931 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:01:49.963 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:01:50.689 -04:00 [INF] Executed DbCommand (575ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:01:50.783 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:01:50.827 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 892.6311ms
2023-06-16 15:01:50.842 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:01:50.849 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:01:50.849 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:01:50.867 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1297.3673 ms
2023-06-16 15:01:50.872 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:01:50.882 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:01:50.888 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:01:50.889 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1335.6872ms
2023-06-16 15:01:51.086 -04:00 [INF] Executed DbCommand (176ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:01:51.214 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:01:51.221 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 333.4641ms
2023-06-16 15:01:51.224 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:01:51.227 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 377.8932 ms
2023-06-16 15:01:51.230 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 387.6342ms
2023-06-16 15:03:31.904 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:03:31.906 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:03:31.909 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.4079 ms
2023-06-16 15:03:31.911 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.6114ms
2023-06-16 15:03:31.914 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:03:31.916 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:03:31.918 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:03:31.920 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:03:31.925 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:03:32.023 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:03:32.026 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:03:32.028 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 103.916ms
2023-06-16 15:03:32.030 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:03:32.032 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 115.7157 ms
2023-06-16 15:03:32.034 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 120.1149ms
2023-06-16 15:04:18.981 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:04:19.013 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:04:19.031 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 17.3884 ms
2023-06-16 15:04:19.045 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 71.9667ms
2023-06-16 15:04:19.063 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:04:19.075 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:04:19.079 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:04:19.131 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:04:19.256 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:04:19.387 -04:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:04:19.436 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:04:19.464 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 208.6193ms
2023-06-16 15:04:19.479 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:04:19.496 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 421.1931 ms
2023-06-16 15:04:19.505 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 442.1112ms
2023-06-16 15:04:23.607 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:04:23.626 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:04:23.640 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:04:23.642 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:04:23.706 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:04:23.935 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:04:23.940 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:04:23.942 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 237.1447ms
2023-06-16 15:04:23.947 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:04:23.948 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:04:23.952 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:04:23.955 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 328.4946 ms
2023-06-16 15:04:23.964 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:04:23.966 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 359.2559ms
2023-06-16 15:04:23.984 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:04:24.010 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:04:24.126 -04:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:04:24.164 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:04:24.183 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 173.5401ms
2023-06-16 15:04:24.194 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:04:24.198 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 245.3705 ms
2023-06-16 15:04:24.201 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 254.4028ms
2023-06-16 15:05:00.651 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:05:00.660 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:05:00.663 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:05:00.665 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:05:00.669 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.2803 ms
2023-06-16 15:05:00.671 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 6.2669 ms
2023-06-16 15:05:00.673 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 21.7245ms
2023-06-16 15:05:00.679 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:05:00.686 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 30.2581ms
2023-06-16 15:05:00.690 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:05:00.693 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:05:00.695 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:05:00.702 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:05:00.791 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:05:00.794 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:05:00.797 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 96.9227ms
2023-06-16 15:05:00.803 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:05:00.809 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:05:00.812 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:05:00.813 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 123.1214 ms
2023-06-16 15:05:00.816 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:05:00.819 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 139.7789ms
2023-06-16 15:05:00.828 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:05:00.834 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:05:00.943 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:05:00.954 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:05:00.964 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 131.9093ms
2023-06-16 15:05:00.971 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:05:00.980 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 168.2552 ms
2023-06-16 15:05:00.986 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 183.4614ms
2023-06-16 15:06:24.898 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:06:24.903 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:24.905 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.5938 ms
2023-06-16 15:06:24.909 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.7267ms
2023-06-16 15:06:24.912 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 180
2023-06-16 15:06:24.917 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:24.922 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:06:24.929 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:06:24.961 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:06:25.386 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:06:25.812 -04:00 [INF] Executed DbCommand (116ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:06:25.925 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:06:25.928 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 993.8684ms
2023-06-16 15:06:25.931 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:06:25.937 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1020.6378 ms
2023-06-16 15:06:25.940 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 180 - 200 0 - 1028.3193ms
2023-06-16 15:06:26.026 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:06:26.028 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:26.037 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.3494 ms
2023-06-16 15:06:26.040 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.4034ms
2023-06-16 15:06:26.054 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:06:26.059 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:26.062 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:06:26.071 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:06:26.076 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:06:26.187 -04:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:06:26.402 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:06:26.407 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:06:26.439 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 363.468ms
2023-06-16 15:06:26.442 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:06:26.444 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 385.2545 ms
2023-06-16 15:06:26.453 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 398.9134ms
2023-06-16 15:06:34.449 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:06:34.449 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:06:34.451 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:34.453 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:34.454 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 3.1523 ms
2023-06-16 15:06:34.456 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.9911 ms
2023-06-16 15:06:34.459 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 9.7185ms
2023-06-16 15:06:34.461 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:06:34.463 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 14.5574ms
2023-06-16 15:06:34.467 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:34.470 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:06:34.472 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:06:34.476 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:06:34.577 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:06:34.702 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:06:34.705 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:06:34.709 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 233.9147ms
2023-06-16 15:06:34.712 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:06:34.712 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:06:34.714 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 247.1712 ms
2023-06-16 15:06:34.716 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:06:34.720 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 258.9134ms
2023-06-16 15:06:34.729 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:06:34.733 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:06:34.738 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:06:34.844 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:06:34.958 -04:00 [INF] Executed DbCommand (108ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:06:34.969 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:06:34.978 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 241.0007ms
2023-06-16 15:06:35.066 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:06:35.070 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 354.5708 ms
2023-06-16 15:06:35.074 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 361.6877ms
2023-06-16 15:08:13.208 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:08:13.213 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:08:13.215 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.7699 ms
2023-06-16 15:08:13.217 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 10.1496ms
2023-06-16 15:08:13.220 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 15:08:13.223 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:08:13.226 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:08:13.231 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:08:13.266 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:08:13.464 -04:00 [ERR] Failed executing DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:08:13.623 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 15:08:17.278 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 4044.277ms
2023-06-16 15:08:17.282 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:08:17.286 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 4063.5716 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 210
   at lambda_method239(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 15:08:17.325 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 210
   at lambda_method239(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 15:08:17.346 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 500 - text/plain;+charset=utf-8 4125.6848ms
2023-06-16 15:09:27.902 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:09:27.911 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:09:27.913 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.2194 ms
2023-06-16 15:09:27.918 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 15.4837ms
2023-06-16 15:09:27.921 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 15:09:27.924 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:09:27.930 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:09:27.935 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:09:27.939 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:09:27.950 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 12.1979ms
2023-06-16 15:09:27.959 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:09:27.963 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 39.4008 ms
2023-06-16 15:09:27.969 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 47.6403ms
2023-06-16 15:10:02.471 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:10:02.473 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:10:02.475 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.0164 ms
2023-06-16 15:10:02.477 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 6.4948ms
2023-06-16 15:10:02.485 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:10:02.489 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:10:02.491 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:10:02.493 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:10:02.496 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:10:02.747 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:10:03.038 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:10:03.297 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:10:03.387 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:10:03.390 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 894.42ms
2023-06-16 15:10:03.393 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:10:03.396 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 906.4159 ms
2023-06-16 15:10:03.398 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 200 - application/json;+charset=utf-8 913.5611ms
2023-06-16 15:10:59.644 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:10:59.646 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:10:59.648 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.6714 ms
2023-06-16 15:10:59.651 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 7.4631ms
2023-06-16 15:10:59.656 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:10:59.662 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:10:59.664 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:10:59.666 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:10:59.671 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:10:59.858 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:00.149 -04:00 [INF] Executed DbCommand (109ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:00.444 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:00.748 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:01.032 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:01.301 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:01.566 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:01.838 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:02.121 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:02.429 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:02.706 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:03.015 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:11:03.219 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:11:03.310 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 3639.999ms
2023-06-16 15:11:03.418 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:11:03.461 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 3798.6479 ms
2023-06-16 15:11:03.463 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 200 - application/json;+charset=utf-8 3807.3896ms
2023-06-16 15:13:12.560 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 15:13:12.563 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:13:12.565 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 1.8613 ms
2023-06-16 15:13:12.569 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 8.5063ms
2023-06-16 15:13:12.572 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 15:13:12.576 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:13:12.579 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:13:12.582 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 15:13:12.590 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:13:12.688 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 15:13:12.691 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:13:12.695 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 105.4746ms
2023-06-16 15:13:12.710 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:13:12.712 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 136.1555 ms
2023-06-16 15:13:12.715 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 142.7876ms
2023-06-16 15:14:09.148 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:14:09.158 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:09.161 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.6969 ms
2023-06-16 15:14:09.164 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 16.2997ms
2023-06-16 15:14:09.166 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:14:09.176 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:09.179 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:14:09.181 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:14:09.185 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:14:09.381 -04:00 [ERR] Failed executing DbCommand (91ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:14:09.477 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 15:14:11.642 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 2458.6822ms
2023-06-16 15:14:11.646 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:14:11.649 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 2473.0354 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method239(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 15:14:11.661 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method239(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 15:14:11.678 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 500 - text/plain;+charset=utf-8 2511.3150ms
2023-06-16 15:14:40.981 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:14:40.983 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:40.986 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.8161 ms
2023-06-16 15:14:40.989 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 7.7634ms
2023-06-16 15:14:41.000 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 186
2023-06-16 15:14:41.004 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:41.011 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:14:41.015 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:14:41.019 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:14:41.203 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:14:41.486 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:14:41.588 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:14:41.590 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 571.7143ms
2023-06-16 15:14:41.592 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:14:41.594 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 590.2375 ms
2023-06-16 15:14:41.600 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 186 - 200 0 - 600.1227ms
2023-06-16 15:14:41.609 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:14:41.611 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:41.620 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 8.9817 ms
2023-06-16 15:14:41.623 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.7187ms
2023-06-16 15:14:41.626 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:14:41.635 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:41.641 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:14:41.645 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:14:41.658 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:14:41.756 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:14:41.851 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:14:41.854 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:14:41.856 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 200.1693ms
2023-06-16 15:14:41.859 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:14:41.861 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 225.8216 ms
2023-06-16 15:14:41.864 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 238.4295ms
2023-06-16 15:14:58.969 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:14:58.974 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:58.977 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 3.0567 ms
2023-06-16 15:14:58.980 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 11.4989ms
2023-06-16 15:14:58.985 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:14:58.990 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:14:58.993 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:14:59.002 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:14:59.006 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:14:59.212 -04:00 [ERR] Failed executing DbCommand (112ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:14:59.388 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 15:15:01.405 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 2399.5298ms
2023-06-16 15:15:01.408 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:15:01.415 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 2424.4970 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method239(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 15:15:01.427 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:34c7c35a-c956-4a0e-9a62-5214825fde16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method239(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 15:15:01.454 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 500 - text/plain;+charset=utf-8 2468.1627ms
2023-06-16 15:15:22.378 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:15:22.383 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:15:22.385 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.9104 ms
2023-06-16 15:15:22.387 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 9.1523ms
2023-06-16 15:15:22.392 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:15:22.398 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:15:22.401 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:15:22.403 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:15:22.406 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:15:22.730 -04:00 [INF] Executed DbCommand (213ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:23.015 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:23.296 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:23.597 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:23.919 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:24.247 -04:00 [INF] Executed DbCommand (122ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:24.529 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:24.804 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:25.119 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:25.384 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:25.665 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:25.945 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:15:26.042 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:15:26.046 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 3640.1739ms
2023-06-16 15:15:26.049 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:15:26.058 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 3659.9856 ms
2023-06-16 15:15:26.061 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 200 - application/json;+charset=utf-8 3669.4796ms
2023-06-16 15:19:16.681 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 15:19:17.203 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 15:19:17.207 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 15:19:17.212 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 15:19:17.272 -04:00 [INF] Hosting environment: Development
2023-06-16 15:19:17.284 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 15:19:19.775 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 15:19:20.055 -04:00 [INF] HTTP GET / responded 404 in 150.0483 ms
2023-06-16 15:19:20.120 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 311.0062ms
2023-06-16 15:20:11.441 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:20:11.441 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:20:11.470 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:11.470 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:11.500 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 35.4874 ms
2023-06-16 15:20:11.503 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 38.5725 ms
2023-06-16 15:20:11.507 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 65.1218ms
2023-06-16 15:20:11.511 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 69.6625ms
2023-06-16 15:20:11.513 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:20:11.521 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:11.878 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:20:11.905 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:20:15.249 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:20:17.335 -04:00 [INF] Executed DbCommand (153ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:20:17.414 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:20:17.474 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:20:17.477 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 5559.5804ms
2023-06-16 15:20:17.485 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:20:17.494 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 5973.3857 ms
2023-06-16 15:20:17.497 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:17.502 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:20:17.509 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:20:17.511 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 5998.2788ms
2023-06-16 15:20:17.520 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:20:17.631 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:20:17.635 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:20:17.638 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 119.5485ms
2023-06-16 15:20:17.640 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:20:17.642 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 145.1146 ms
2023-06-16 15:20:17.647 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 173.0020ms
2023-06-16 15:20:35.807 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:20:35.812 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:35.814 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 1.9890 ms
2023-06-16 15:20:35.817 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 9.4708ms
2023-06-16 15:20:35.824 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187
2023-06-16 15:20:35.830 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:35.832 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:20:35.858 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:20:36.013 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:20:36.573 -04:00 [INF] Executed DbCommand (127ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:20:37.015 -04:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:20:37.119 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:20:37.122 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1258.1444ms
2023-06-16 15:20:37.124 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:20:37.127 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1297.0785 ms
2023-06-16 15:20:37.136 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187 - 200 0 - 1311.3601ms
2023-06-16 15:20:37.156 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:20:37.160 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:37.170 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 9.9459 ms
2023-06-16 15:20:37.174 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 18.1606ms
2023-06-16 15:20:37.186 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:20:37.204 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:20:37.208 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:20:37.215 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:20:37.221 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:20:37.320 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:20:37.645 -04:00 [INF] Executed DbCommand (121ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:20:37.654 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:20:37.689 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 468.7819ms
2023-06-16 15:20:37.696 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:20:37.698 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 494.3005 ms
2023-06-16 15:20:37.702 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 515.7940ms
2023-06-16 15:21:27.835 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:21:27.839 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:21:27.840 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.9718 ms
2023-06-16 15:21:27.843 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 10.4179ms
2023-06-16 15:21:27.854 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 103
2023-06-16 15:21:27.856 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:21:27.859 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:21:27.863 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:21:27.908 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:21:28.122 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:21:28.409 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:21:28.682 -04:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:21:28.937 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:21:29.211 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:21:29.468 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:21:29.553 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:21:29.558 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1688.3776ms
2023-06-16 15:21:29.562 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:21:29.570 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 1714.1032 ms
2023-06-16 15:21:29.574 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 103 - 200 - application/json;+charset=utf-8 1719.5133ms
2023-06-16 15:25:16.350 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 15:25:16.777 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 15:25:16.779 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 15:25:16.785 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 15:25:16.788 -04:00 [INF] Hosting environment: Development
2023-06-16 15:25:16.793 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 15:25:19.399 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 15:25:19.758 -04:00 [INF] HTTP GET / responded 404 in 219.6072 ms
2023-06-16 15:25:19.787 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 395.3431ms
2023-06-16 15:25:44.825 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:25:44.849 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:25:44.872 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 31.5082 ms
2023-06-16 15:25:44.876 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 51.8983ms
2023-06-16 15:25:44.888 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187
2023-06-16 15:25:44.898 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:25:44.908 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:25:44.978 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:25:46.986 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:25:48.969 -04:00 [INF] Executed DbCommand (211ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:25:49.498 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:25:49.816 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:25:49.850 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 4860.18ms
2023-06-16 15:25:50.082 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:25:50.262 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 5364.7179 ms
2023-06-16 15:25:50.344 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 187 - 200 0 - 5456.6111ms
2023-06-16 15:25:51.048 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:25:51.051 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:25:51.056 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:25:51.062 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:25:51.171 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:25:52.298 -04:00 [INF] Executed DbCommand (337ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:25:52.652 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:25:52.677 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:25:52.734 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1668.6519ms
2023-06-16 15:25:52.745 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:25:52.748 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1697.1519 ms
2023-06-16 15:25:52.752 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1703.6261ms
2023-06-16 15:26:01.439 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 15:26:01.441 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:26:01.443 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.0397 ms
2023-06-16 15:26:01.445 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 6.2774ms
2023-06-16 15:26:01.450 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 15:26:01.454 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:26:01.456 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:26:01.459 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 15:26:01.484 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:26:01.614 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 15:26:01.926 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:26:01.935 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 473.2414ms
2023-06-16 15:26:01.937 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:26:01.940 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 486.2191 ms
2023-06-16 15:26:01.944 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 494.5141ms
2023-06-16 15:27:03.620 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:27:03.622 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:27:03.632 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 10.3513 ms
2023-06-16 15:27:03.635 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 15.0765ms
2023-06-16 15:27:03.641 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 15:27:03.643 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:27:03.791 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:27:03.800 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:27:03.843 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:27:04.149 -04:00 [ERR] Failed executing DbCommand (187ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:27:04.317 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 15:27:06.162 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 2358.3838ms
2023-06-16 15:27:06.168 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:27:06.172 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 2528.7958 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 211
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 15:27:06.206 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 211
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 15:27:06.230 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 500 - text/plain;+charset=utf-8 2590.0034ms
2023-06-16 15:27:23.219 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:27:23.222 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:27:23.224 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.0741 ms
2023-06-16 15:27:23.226 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 6.9145ms
2023-06-16 15:27:23.237 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 15:27:23.273 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:27:23.275 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:27:23.277 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:27:23.281 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:27:23.453 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:27:23.734 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:27:24.018 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:27:24.363 -04:00 [INF] Executed DbCommand (147ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:27:24.686 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:27:25.013 -04:00 [INF] Executed DbCommand (116ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:27:25.117 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:27:25.125 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1845.8133ms
2023-06-16 15:27:25.130 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:27:25.132 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 1859.4711 ms
2023-06-16 15:27:25.135 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 1897.8057ms
2023-06-16 15:28:32.207 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 15:28:32.212 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:32.214 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.0162 ms
2023-06-16 15:28:32.216 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 8.9579ms
2023-06-16 15:28:32.219 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 15:28:32.222 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:32.226 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:28:32.228 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 15:28:32.232 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:28:32.329 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 15:28:32.333 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:28:32.336 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 105.3971ms
2023-06-16 15:28:32.338 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:28:32.341 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 118.9264 ms
2023-06-16 15:28:32.351 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 132.1977ms
2023-06-16 15:28:32.483 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:28:32.494 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:28:32.521 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:32.522 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:32.525 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 4.4184 ms
2023-06-16 15:28:32.530 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.2179 ms
2023-06-16 15:28:32.534 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 51.3427ms
2023-06-16 15:28:32.553 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:28:32.555 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 62.1071ms
2023-06-16 15:28:32.564 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:32.571 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:28:32.574 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:28:32.581 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:28:32.734 -04:00 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:28:32.745 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:28:32.749 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 168.8688ms
2023-06-16 15:28:32.764 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:28:32.764 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:28:32.768 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 204.5717 ms
2023-06-16 15:28:32.772 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:32.780 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 226.8251ms
2023-06-16 15:28:32.782 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:28:32.795 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:28:32.810 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:28:33.172 -04:00 [INF] Executed DbCommand (353ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:28:33.178 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:28:33.183 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 373.3018ms
2023-06-16 15:28:33.189 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:28:33.199 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 427.3572 ms
2023-06-16 15:28:33.204 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 439.4840ms
2023-06-16 15:28:49.083 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:28:49.086 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:49.088 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.8945 ms
2023-06-16 15:28:49.091 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 7.8490ms
2023-06-16 15:28:49.100 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 15:28:49.102 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:49.104 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:28:49.117 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:28:49.129 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:28:49.304 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:28:49.599 -04:00 [INF] Executed DbCommand (105ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:28:49.697 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:28:49.704 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 575.9125ms
2023-06-16 15:28:49.707 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:28:49.714 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 612.1991 ms
2023-06-16 15:28:49.722 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 622.7549ms
2023-06-16 15:28:49.738 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:28:49.741 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:49.746 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 5.1818 ms
2023-06-16 15:28:49.749 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 10.8527ms
2023-06-16 15:28:49.753 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:28:49.755 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:28:49.758 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:28:49.773 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:28:49.782 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:28:49.888 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:28:49.988 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:28:49.991 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:28:49.999 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 217.9887ms
2023-06-16 15:28:50.002 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:28:50.004 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 249.3672 ms
2023-06-16 15:28:50.012 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 260.2009ms
2023-06-16 15:29:15.082 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:29:15.085 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:29:15.087 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.7120 ms
2023-06-16 15:29:15.094 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 11.5571ms
2023-06-16 15:29:15.103 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:29:15.111 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:29:15.116 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:29:15.119 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:29:15.123 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:29:15.319 -04:00 [ERR] Failed executing DbCommand (91ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:15.565 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 15:29:17.164 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 2041.9935ms
2023-06-16 15:29:17.176 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:29:17.179 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 2068.7429 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 15:29:17.256 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 15:29:17.287 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 500 - text/plain;+charset=utf-8 2183.7076ms
2023-06-16 15:29:36.984 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:29:36.988 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:29:36.993 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 5.6379 ms
2023-06-16 15:29:36.996 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 12.5965ms
2023-06-16 15:29:37.004 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:29:37.013 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:29:37.019 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:29:37.021 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:29:37.027 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:29:37.219 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:37.496 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:37.781 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:38.094 -04:00 [INF] Executed DbCommand (121ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:38.363 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:38.693 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:38.975 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:39.320 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:39.606 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:39.924 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:40.197 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:40.490 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:29:40.587 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:29:40.590 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 3563.8126ms
2023-06-16 15:29:40.593 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:29:40.596 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 3583.6947 ms
2023-06-16 15:29:40.600 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 200 - application/json;+charset=utf-8 3595.4340ms
2023-06-16 15:30:54.427 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:30:54.430 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:30:54.433 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.9631 ms
2023-06-16 15:30:54.436 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 10.6289ms
2023-06-16 15:30:54.477 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 15:30:54.480 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:30:54.483 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:30:54.485 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:30:54.488 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:30:54.666 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:30:54.952 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:30:55.142 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:30:55.144 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 656.3063ms
2023-06-16 15:30:55.147 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:30:55.150 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 669.0995 ms
2023-06-16 15:30:55.154 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 677.2034ms
2023-06-16 15:30:55.161 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:30:55.163 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:30:55.165 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 2.4166 ms
2023-06-16 15:30:55.168 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 7.2466ms
2023-06-16 15:30:55.171 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:30:55.173 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:30:55.175 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:30:55.177 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:30:55.183 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:30:55.274 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:30:55.375 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:30:55.388 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:30:55.391 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 210.6836ms
2023-06-16 15:30:55.408 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:30:55.420 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 247.2889 ms
2023-06-16 15:30:55.423 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 252.3522ms
2023-06-16 15:31:06.997 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:31:07.001 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:31:07.003 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.2299 ms
2023-06-16 15:31:07.006 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 9.1150ms
2023-06-16 15:31:07.029 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:31:07.042 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:31:07.044 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:31:07.046 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:31:07.048 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:31:07.239 -04:00 [ERR] Failed executing DbCommand (92ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:31:07.330 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 15:31:09.024 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1976.624ms
2023-06-16 15:31:09.028 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:31:09.032 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 1990.2782 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 15:31:09.044 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 193
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 15:31:09.057 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 500 - text/plain;+charset=utf-8 2027.9394ms
2023-06-16 15:32:09.773 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:32:09.775 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:32:09.777 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.3578 ms
2023-06-16 15:32:09.780 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 7.5822ms
2023-06-16 15:32:09.789 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 103
2023-06-16 15:32:09.792 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:32:09.797 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:32:09.802 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:32:09.806 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:32:09.809 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 3.3009ms
2023-06-16 15:32:09.814 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:32:09.819 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 27.1832 ms
2023-06-16 15:32:09.822 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 103 - 200 - application/json;+charset=utf-8 32.7645ms
2023-06-16 15:32:54.274 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:32:54.283 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:32:54.285 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.6308 ms
2023-06-16 15:32:54.288 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 15.0498ms
2023-06-16 15:32:54.293 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 103
2023-06-16 15:32:54.299 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:32:54.307 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:32:54.309 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:32:54.312 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:32:54.320 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 8.6472ms
2023-06-16 15:32:54.330 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:32:54.336 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 36.9333 ms
2023-06-16 15:32:54.339 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 103 - 200 - application/json;+charset=utf-8 45.8766ms
2023-06-16 15:33:01.580 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:33:01.582 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:33:01.585 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 3.4221 ms
2023-06-16 15:33:01.589 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 9.0603ms
2023-06-16 15:33:01.592 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:33:01.596 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:33:01.602 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:33:01.604 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:33:01.610 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:33:01.806 -04:00 [INF] Executed DbCommand (101ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:02.126 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:02.405 -04:00 [INF] Executed DbCommand (98ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:02.669 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:02.960 -04:00 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:03.236 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:03.569 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:03.865 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:04.208 -04:00 [INF] Executed DbCommand (147ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:04.522 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:04.828 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:05.155 -04:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:33:05.248 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:33:05.251 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 3642.4332ms
2023-06-16 15:33:05.255 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:33:05.257 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 3660.9733 ms
2023-06-16 15:33:05.260 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 200 - application/json;+charset=utf-8 3667.4758ms
2023-06-16 15:34:55.094 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:34:55.103 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:34:55.105 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.1429 ms
2023-06-16 15:34:55.108 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 14.2162ms
2023-06-16 15:34:55.145 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 15:34:55.148 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:34:55.152 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:34:55.155 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:34:55.158 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:34:55.337 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:34:55.624 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:34:55.716 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:34:55.720 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 563.5042ms
2023-06-16 15:34:55.724 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:34:55.729 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 581.6749 ms
2023-06-16 15:34:55.736 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 591.1575ms
2023-06-16 15:34:55.761 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:34:55.764 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:34:55.829 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 64.5131 ms
2023-06-16 15:34:55.845 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 84.0066ms
2023-06-16 15:34:55.861 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:34:55.864 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:34:55.873 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:34:55.883 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:34:55.895 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:34:55.993 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:34:56.093 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:34:56.096 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:34:56.108 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 213.3553ms
2023-06-16 15:34:56.112 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:34:56.123 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 258.7325 ms
2023-06-16 15:34:56.127 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 265.7559ms
2023-06-16 15:35:34.787 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:35:34.790 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:35:34.792 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 1.9280 ms
2023-06-16 15:35:34.795 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 7.8691ms
2023-06-16 15:35:34.804 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 15:35:34.814 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:35:34.821 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:35:34.825 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:35:34.831 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:35:35.009 -04:00 [ERR] Failed executing DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:35:35.129 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'Clinica.SqlTables.dbapiContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2023-06-16 15:35:36.802 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1972.3994ms
2023-06-16 15:35:36.814 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:35:36.851 -04:00 [ERR] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 500 in 2037.8385 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 211
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-06-16 15:35:36.866 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK__recurrenc__IdEva__693CA210". The conflict occurred in database "db_a98bec_clinica", table "dbo.Evaluation", column 'id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:17d8f4c8-7804-4fe4-9a83-36c8384e940c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Clinica.Controllers.traerpacienteController.BuscarPrimerLunes(BusquedaDiaSemanaModel model) in C:\Users\LENOVO\Documents\GitHub\ClinicBackend\Controllers\traerpacienteController.cs:line 211
   at lambda_method237(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-16 15:35:36.881 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 500 - text/plain;+charset=utf-8 2079.6658ms
2023-06-16 15:35:52.909 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:35:52.915 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:35:52.917 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.2851 ms
2023-06-16 15:35:52.926 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 16.6830ms
2023-06-16 15:35:52.938 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126
2023-06-16 15:35:52.940 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:35:52.944 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:35:52.949 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:35:52.956 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:35:53.137 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:35:53.428 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:35:53.735 -04:00 [INF] Executed DbCommand (106ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:35:54.011 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:35:54.274 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:35:54.579 -04:00 [INF] Executed DbCommand (125ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:35:54.672 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:35:54.678 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1722.6481ms
2023-06-16 15:35:54.685 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:35:54.690 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 1749.6267 ms
2023-06-16 15:35:54.740 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 126 - 200 - application/json;+charset=utf-8 1802.0563ms
2023-06-16 15:37:18.007 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:37:18.014 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:37:18.020 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 5.6872 ms
2023-06-16 15:37:18.023 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 16.5341ms
2023-06-16 15:37:18.026 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 15:37:18.028 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:37:18.030 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:37:18.032 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:37:18.038 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:37:18.235 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:37:18.662 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:18.762 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:37:18.764 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 726.7558ms
2023-06-16 15:37:18.771 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:37:18.774 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 745.5650 ms
2023-06-16 15:37:18.776 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 749.9399ms
2023-06-16 15:37:18.790 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:37:18.792 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:37:18.794 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 1.8434 ms
2023-06-16 15:37:18.803 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 13.0776ms
2023-06-16 15:37:18.845 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:37:18.857 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:37:18.877 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:37:18.880 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:37:18.888 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:37:18.984 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:37:19.091 -04:00 [INF] Executed DbCommand (99ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:37:19.225 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:37:19.255 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 367.6433ms
2023-06-16 15:37:19.268 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:37:19.272 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 414.9288 ms
2023-06-16 15:37:19.279 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 433.5383ms
2023-06-16 15:37:50.198 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:37:50.202 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:37:50.211 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 9.5547 ms
2023-06-16 15:37:50.218 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 19.4406ms
2023-06-16 15:37:50.231 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:37:50.234 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:37:50.236 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:37:50.239 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:37:50.246 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:37:50.429 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:50.690 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:50.982 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:51.266 -04:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:51.549 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:51.816 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:52.105 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:52.393 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:52.661 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:52.938 -04:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:53.211 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:53.482 -04:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:37:53.576 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:37:53.610 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 3364.6431ms
2023-06-16 15:37:53.627 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:37:53.629 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 3395.6187 ms
2023-06-16 15:37:53.632 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 200 - application/json;+charset=utf-8 3401.3414ms
2023-06-16 15:39:38.982 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 15:39:39.422 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 15:39:39.427 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 15:39:39.439 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 15:39:39.442 -04:00 [INF] Hosting environment: Development
2023-06-16 15:39:39.444 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 15:39:41.858 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 15:39:42.103 -04:00 [INF] HTTP GET / responded 404 in 125.8142 ms
2023-06-16 15:39:42.183 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 330.7401ms
2023-06-16 15:43:44.587 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 15:43:44.600 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:43:44.645 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 49.3995 ms
2023-06-16 15:43:44.649 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 62.8307ms
2023-06-16 15:43:44.664 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 15:43:44.671 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:43:44.997 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 7:33:32 p. m.', Current time: '16/6/2023 7:43:44 p. m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-06-16 15:43:45.084 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '16/6/2023 7:33:32 p. m.', Current time: '16/6/2023 7:43:44 p. m.'.
2023-06-16 15:43:45.097 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:43:45.135 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 15:43:46.856 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:43:58.805 -04:00 [INF] Executed DbCommand (273ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 15:43:59.155 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:43:59.799 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 14652.5878ms
2023-06-16 15:43:59.900 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 15:43:59.906 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 15236.8756 ms
2023-06-16 15:43:59.931 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 15266.3033ms
2023-06-16 15:44:41.388 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 15:44:41.393 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:44:41.395 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 2.3873 ms
2023-06-16 15:44:41.399 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 11.4833ms
2023-06-16 15:44:41.404 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 15:44:41.412 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:44:41.455 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:44:41.485 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:44:41.546 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:44:42.269 -04:00 [INF] Executed DbCommand (183ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 15:44:42.891 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:44:43.006 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 15:44:43.010 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 1521.5585ms
2023-06-16 15:44:43.014 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 15:44:43.022 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 1610.2751 ms
2023-06-16 15:44:43.028 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 1623.7208ms
2023-06-16 15:44:43.037 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:44:43.059 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:44:43.066 -04:00 [INF] HTTP OPTIONS /api/Clinica/Citas responded 204 in 7.4075 ms
2023-06-16 15:44:43.071 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Clinica/Citas - - - 204 - - 33.8655ms
2023-06-16 15:44:43.075 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 15:44:43.099 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:44:43.105 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:44:43.121 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 15:44:43.250 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:44:43.472 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 15:44:43.707 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 15:44:43.720 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 15:44:43.764 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 634.5692ms
2023-06-16 15:44:43.766 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 15:44:43.769 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 671.5309 ms
2023-06-16 15:44:43.781 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 705.7700ms
2023-06-16 15:45:10.810 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - -
2023-06-16 15:45:10.812 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:45:10.814 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/buscarPrimerLunes responded 204 in 2.0293 ms
2023-06-16 15:45:10.816 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/buscarPrimerLunes - - - 204 - - 6.6108ms
2023-06-16 15:45:10.825 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125
2023-06-16 15:45:10.827 -04:00 [INF] CORS policy execution successful.
2023-06-16 15:45:10.833 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:45:10.838 -04:00 [INF] Route matched with {action = "BuscarPrimerLunes", controller = "traerpaciente"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult BuscarPrimerLunes(Clinica.Modelos.BusquedaDiaSemanaModel) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 15:45:10.883 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 15:45:11.104 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:45:11.425 -04:00 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:45:11.723 -04:00 [INF] Executed DbCommand (103ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:45:12.022 -04:00 [INF] Executed DbCommand (110ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:45:12.311 -04:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:45:12.589 -04:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 15:45:12.699 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-06-16 15:45:12.706 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica) in 1865.4284ms
2023-06-16 15:45:12.709 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.BuscarPrimerLunes (Clinica)'
2023-06-16 15:45:12.712 -04:00 [INF] HTTP POST /api/traerpaciente/buscarPrimerLunes responded 200 in 1884.5731 ms
2023-06-16 15:45:12.717 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/buscarPrimerLunes application/json 125 - 200 - application/json;+charset=utf-8 1891.8544ms
2023-06-16 16:00:55.934 -04:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-16 16:00:56.370 -04:00 [INF] Now listening on: https://localhost:63958
2023-06-16 16:00:56.375 -04:00 [INF] Now listening on: http://localhost:63959
2023-06-16 16:00:56.385 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-16 16:00:56.393 -04:00 [INF] Hosting environment: Development
2023-06-16 16:00:56.396 -04:00 [INF] Content root path: C:\Users\LENOVO\Documents\GitHub\ClinicBackend\
2023-06-16 16:00:58.758 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/ - -
2023-06-16 16:00:59.235 -04:00 [INF] HTTP GET / responded 404 in 376.8089 ms
2023-06-16 16:00:59.263 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/ - - - 404 0 - 512.9899ms
2023-06-16 16:01:34.742 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - -
2023-06-16 16:01:34.811 -04:00 [INF] CORS policy execution successful.
2023-06-16 16:01:34.818 -04:00 [INF] HTTP OPTIONS /api/traerpaciente/CrearEvaluacion responded 204 in 24.8008 ms
2023-06-16 16:01:34.821 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/traerpaciente/CrearEvaluacion - - - 204 - - 78.8528ms
2023-06-16 16:01:34.828 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189
2023-06-16 16:01:34.835 -04:00 [INF] CORS policy execution successful.
2023-06-16 16:01:34.845 -04:00 [INF] Executing endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 16:01:34.890 -04:00 [INF] Route matched with {action = "CrearEvaluacion", controller = "traerpaciente"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CrearEvaluacion(Clinica.Modelos.Citas) on controller Clinica.Controllers.traerpacienteController (Clinica).
2023-06-16 16:01:37.072 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 16:01:39.039 -04:00 [INF] Executed DbCommand (191ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Evaluation] ([IdConsultorio], [IdPatients], [IdTerapeuta], [IdTherapy], [Price], [Visitas])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [id]
FROM [Evaluation]
WHERE @@ROWCOUNT = 1 AND [id] = scope_identity();
2023-06-16 16:01:39.608 -04:00 [INF] Executed DbCommand (132ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [recurrencia] ([Dias], [FechaInicio], [Frecuencia], [IdEvaluation], [Repetir])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [IdRecurrencia]
FROM [recurrencia]
WHERE @@ROWCOUNT = 1 AND [IdRecurrencia] = scope_identity();
2023-06-16 16:01:39.731 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-06-16 16:01:39.747 -04:00 [INF] Executed action Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica) in 4844.2113ms
2023-06-16 16:01:39.755 -04:00 [INF] Executed endpoint 'Clinica.Controllers.traerpacienteController.CrearEvaluacion (Clinica)'
2023-06-16 16:01:39.765 -04:00 [INF] HTTP POST /api/traerpaciente/CrearEvaluacion responded 200 in 4931.0707 ms
2023-06-16 16:01:39.786 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/traerpaciente/CrearEvaluacion application/json 189 - 200 0 - 4959.9897ms
2023-06-16 16:01:39.874 -04:00 [INF] Request starting HTTP/2 GET https://localhost:63958/api/Clinica/Citas - -
2023-06-16 16:01:39.877 -04:00 [INF] CORS policy execution successful.
2023-06-16 16:01:39.881 -04:00 [INF] Executing endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 16:01:39.889 -04:00 [INF] Route matched with {action = "Citas", controller = "Clinica"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Object] Citas() on controller Clinica.Controllers.ClinicaController (Clinica).
2023-06-16 16:01:39.965 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 16:01:40.795 -04:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[FechaInicio], [r].[Repetir], [r].[Frecuencia], [r].[Dias], [r].[IdEvaluation], [r].[IdRecurrencia]
FROM [recurrencia] AS [r]
2023-06-16 16:01:41.141 -04:00 [INF] Executed DbCommand (92ms) [Parameters=[@__idEva_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [u].[IdUser], [u].[Names], [u].[apellido], [t].[IdTherapy], [t].[Label], [p].[IdPatients], [p].[Name], [p].[Activo], [e].[Price], [c].[IdConsultorio], [c].[Nombre]
FROM [Evaluation] AS [e]
INNER JOIN [Consultorio] AS [c] ON [e].[IdConsultorio] = [c].[IdConsultorio]
INNER JOIN [therapy] AS [t] ON [e].[IdTherapy] = [t].[IdTherapy]
INNER JOIN [patients] AS [p] ON [e].[IdPatients] = [p].[IdPatients]
INNER JOIN [users] AS [u] ON [e].[IdTerapeuta] = [u].[IdUser]
WHERE ([e].[id] = @__idEva_0) AND ([p].[Activo] = CAST(1 AS bit))
2023-06-16 16:01:41.179 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Clinica.Modelos.UserEvaluacion, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 16:01:41.240 -04:00 [INF] Executed action Clinica.Controllers.ClinicaController.Citas (Clinica) in 1347.5045ms
2023-06-16 16:01:41.246 -04:00 [INF] Executed endpoint 'Clinica.Controllers.ClinicaController.Citas (Clinica)'
2023-06-16 16:01:41.248 -04:00 [INF] HTTP GET /api/Clinica/Citas responded 200 in 1371.1615 ms
2023-06-16 16:01:41.251 -04:00 [INF] Request finished HTTP/2 GET https://localhost:63958/api/Clinica/Citas - - - 200 - application/json;+charset=utf-8 1377.0407ms
2023-06-16 16:01:55.581 -04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - -
2023-06-16 16:01:55.584 -04:00 [INF] CORS policy execution successful.
2023-06-16 16:01:55.586 -04:00 [INF] HTTP OPTIONS /api/Autenticacion/Login responded 204 in 2.3038 ms
2023-06-16 16:01:55.597 -04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63958/api/Autenticacion/Login - - - 204 - - 15.6784ms
2023-06-16 16:01:55.611 -04:00 [INF] Request starting HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47
2023-06-16 16:01:55.621 -04:00 [INF] CORS policy execution successful.
2023-06-16 16:01:55.631 -04:00 [INF] Executing endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 16:01:55.637 -04:00 [INF] Route matched with {action = "Login", controller = "Autenticacion"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(Clinica.SqlTables.User) on controller Clinica.Controllers.AutenticacionController (Clinica).
2023-06-16 16:01:55.670 -04:00 [INF] Entity Framework Core 6.0.4 initialized 'dbapiContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.4' with options: None
2023-06-16 16:01:55.823 -04:00 [INF] Executed DbCommand (86ms) [Parameters=[@__usuario_Email_0='?' (Size = 100) (DbType = AnsiString), @__usuario_Password_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IdUser], [u].[apellido], [u].[direccion], [u].[Email], [u].[IdRol], [u].[Label], [u].[Names], [u].[Password], [u].[telefono]
FROM [users] AS [u]
WHERE ([u].[Email] = @__usuario_Email_0) AND ([u].[Password] = @__usuario_Password_1)
2023-06-16 16:01:56.118 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Clinica.SqlTables.User, Clinica, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-16 16:01:56.124 -04:00 [INF] Executed action Clinica.Controllers.AutenticacionController.Login (Clinica) in 477.8467ms
2023-06-16 16:01:56.129 -04:00 [INF] Executed endpoint 'Clinica.Controllers.AutenticacionController.Login (Clinica)'
2023-06-16 16:01:56.132 -04:00 [INF] HTTP POST /api/Autenticacion/Login responded 200 in 511.3228 ms
2023-06-16 16:01:56.137 -04:00 [INF] Request finished HTTP/2 POST https://localhost:63958/api/Autenticacion/Login application/json 47 - 200 - application/json;+charset=utf-8 525.7878ms
